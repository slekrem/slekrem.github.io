let t,e,i,r,n,s,o,a,l;var h,f,u,c,d,p,b,g,m,y,v,_,w,x,S,E,k,A,M,T,I,P,O,B,C,R,L,N,D,U,H,j,F,q,$,z,V,W,K,Q,G,X,Y,Z,J,tt,te,ti,tr,tn,ts,to,ta,tl,th,tf,tu,tc,td,tp,tb,tg,tm,ty=globalThis;function tv(t,e,i,r){Object.defineProperty(t,e,{get:i,set:r,enumerable:!0,configurable:!0})}function t_(t,e){return Object.keys(e).forEach(function(i){!("default"===i||"__esModule"===i||Object.prototype.hasOwnProperty.call(t,i))&&Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[i]}})}),t}function tw(t){return t&&t.__esModule?t.default:t}var tx={},tS={},tE=ty.parcelRequire7669;null==tE&&((tE=function(t){if(t in tx)return tx[t].exports;if(t in tS){var e=tS[t];delete tS[t];var i={id:t,exports:{}};return tx[t]=i,e.call(i.exports,i,i.exports),i.exports}var r=Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){tS[t]=e},ty.parcelRequire7669=tE);var tk=tE.register;tk("lkFCe",function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.wNAF=function(t,e){return{constTimeNegate:o,hasPrecomputes:t=>1!==d(t),unsafeLadder(e,i,r=t.ZERO){let o=e;for(;i>n;)i&s&&(r=r.add(o)),o=o.double(),i>>=s;return r},precomputeWindow(t,i){let{windows:r,windowSize:n}=l(i,e),s=[],o=t,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let t=1;t<n;t++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(i,r,n){let{windows:a,windowSize:h}=l(i,e),f=t.ZERO,u=t.BASE,c=BigInt(2**i-1),d=2**i,p=BigInt(i);for(let t=0;t<a;t++){let e=t*h,i=Number(n&c);n>>=p,i>h&&(i-=d,n+=s);let a=e+Math.abs(i)-1,l=t%2!=0,b=i<0;0===i?u=u.add(o(l,r[e])):f=f.add(o(b,r[a]))}return{p:f,f:u}},wNAFUnsafe(i,r,o,a=t.ZERO){let{windows:h,windowSize:f}=l(i,e),u=BigInt(2**i-1),c=2**i,d=BigInt(i);for(let t=0;t<h;t++){let e=t*f;if(o===n)break;let i=Number(o&u);if(o>>=d,i>f&&(i-=c,o+=s),0===i)continue;let l=r[e+Math.abs(i)-1];i<0&&(l=l.negate()),a=a.add(l)}return a},getPrecomputes(t,e,i){let r=u.get(e);return r||(r=this.precomputeWindow(e,t),1!==t&&u.set(e,i(r))),r},wNAFCached(t,e,i){let r=d(t);return this.wNAF(r,this.getPrecomputes(r,t,i),e)},wNAFCachedUnsafe(t,e,i,r){let n=d(t);return 1===n?this.unsafeLadder(t,e,r):this.wNAFUnsafe(n,this.getPrecomputes(n,t,i),e,r)},setWindowSize(t,i){a(i,e),c.set(t,i),u.delete(t)}}},e.pippenger=function(t,e,i,n){if(h(i,t),f(n,e),i.length!==n.length)throw Error("arrays of points and scalars must have equal length");let s=t.ZERO,o=(0,r.bitLen)(BigInt(i.length)),a=o>12?o-3:o>4?o-2:o?2:1,l=(1<<a)-1,u=Array(l+1).fill(s),c=Math.floor((e.BITS-1)/a)*a,d=s;for(let t=c;t>=0;t-=a){u.fill(s);for(let e=0;e<n.length;e++){let r=Number(n[e]>>BigInt(t)&BigInt(l));u[r]=u[r].add(i[e])}let e=s;for(let t=u.length-1,i=s;t>0;t--)i=i.add(u[t]),e=e.add(i);if(d=d.add(e),0!==t)for(let t=0;t<a;t++)d=d.double()}return d},e.precomputeMSMUnsafe=function(t,e,i,r){a(r,e.BITS),h(i,t);let n=t.ZERO,s=2**r-1,o=Math.ceil(e.BITS/r),l=BigInt((1<<r)-1),u=i.map(t=>{let e=[];for(let i=0,r=t;i<s;i++)e.push(r),r=r.add(t);return e});return t=>{if(f(t,e),t.length>i.length)throw Error("array of scalars must be smaller than array of points");let s=n;for(let e=0;e<o;e++){if(s!==n)for(let t=0;t<r;t++)s=s.double();let i=BigInt(o*r-(e+1)*r);for(let e=0;e<t.length;e++){let r=Number(t[e]>>i&l);r&&(s=s.add(u[e][r-1]))}}return s}},e.validateBasic=function(t){return(0,i.validateField)(t.Fp),(0,r.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,i.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})};var i=tE("2D9sF"),r=tE("esaJO");let n=BigInt(0),s=BigInt(1);function o(t,e){let i=e.negate();return t?i:e}function a(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw Error("invalid window size, expected [1.."+e+"], got W="+t)}function l(t,e){return a(t,e),{windows:Math.ceil(e/t)+1,windowSize:2**(t-1)}}function h(t,e){if(!Array.isArray(t))throw Error("array expected");t.forEach((t,i)=>{if(!(t instanceof e))throw Error("invalid point at index "+i)})}function f(t,e){if(!Array.isArray(t))throw Error("array of scalars expected");t.forEach((t,i)=>{if(!e.isValid(t))throw Error("invalid scalar at index "+i)})}let u=new WeakMap,c=new WeakMap;function d(t){return c.get(t)||1}}),tk("2D9sF",function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.isNegativeLE=void 0,t.exports.mod=f,t.exports.pow=u,t.exports.pow2=function(t,e,i){let n=t;for(;e-- >r;)n*=n,n%=i;return n},t.exports.invert=c,t.exports.tonelliShanks=d,t.exports.FpSqrt=p,t.exports.validateField=function(t){let e=b.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,i.validateObject)(t,e)},t.exports.FpPow=g,t.exports.FpInvertBatch=m,t.exports.FpDiv=function(t,e,i){return t.mul(e,"bigint"==typeof i?c(i,t.ORDER):t.inv(i))},t.exports.FpLegendre=y,t.exports.FpIsSquare=function(t){let e=y(t.ORDER);return i=>{let r=e(t,i);return t.eql(r,t.ZERO)||t.eql(r,t.ONE)}},t.exports.nLength=v,t.exports.Field=function(t,e,s=!1,o={}){let a;if(t<=r)throw Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:l,nByteLength:h}=v(t,e);if(h>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let u=Object.freeze({ORDER:t,isLE:s,BITS:l,BYTES:h,MASK:(0,i.bitMask)(l),ZERO:r,ONE:n,create:e=>f(e,t),isValid:e=>{if("bigint"!=typeof e)throw Error("invalid field element: expected bigint, got "+typeof e);return r<=e&&e<t},is0:t=>t===r,isOdd:t=>(t&n)===n,neg:e=>f(-e,t),eql:(t,e)=>t===e,sqr:e=>f(e*e,t),add:(e,i)=>f(e+i,t),sub:(e,i)=>f(e-i,t),mul:(e,i)=>f(e*i,t),pow:(t,e)=>g(u,t,e),div:(e,i)=>f(e*c(i,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>c(e,t),sqrt:o.sqrt||(e=>(a||(a=p(t)),a(u,e))),invertBatch:t=>m(u,t),cmov:(t,e,i)=>i?e:t,toBytes:t=>s?(0,i.numberToBytesLE)(t,h):(0,i.numberToBytesBE)(t,h),fromBytes:t=>{if(t.length!==h)throw Error("Field.fromBytes: expected "+h+" bytes, got "+t.length);return s?(0,i.bytesToNumberLE)(t):(0,i.bytesToNumberBE)(t)}});return Object.freeze(u)},t.exports.FpSqrtOdd=function(t,e){if(!t.isOdd)throw Error("Field doesn't have isOdd");let i=t.sqrt(e);return t.isOdd(i)?i:t.neg(i)},t.exports.FpSqrtEven=function(t,e){if(!t.isOdd)throw Error("Field doesn't have isOdd");let i=t.sqrt(e);return t.isOdd(i)?t.neg(i):i},t.exports.hashToPrivateScalar=function(t,e,r=!1){let s=(t=(0,i.ensureBytes)("privateHash",t)).length,o=v(e).nByteLength+8;if(o<24||s<o||s>1024)throw Error("hashToPrivateScalar: expected "+o+"-1024 bytes of input, got "+s);return f(r?(0,i.bytesToNumberLE)(t):(0,i.bytesToNumberBE)(t),e-n)+n},t.exports.getFieldBytesLength=_,t.exports.getMinHashLength=w,t.exports.mapHashToField=function(t,e,r=!1){let s=t.length,o=_(e),a=w(e);if(s<16||s<a||s>1024)throw Error("expected "+a+"-1024 bytes of input, got "+s);let l=f(r?(0,i.bytesToNumberLE)(t):(0,i.bytesToNumberBE)(t),e-n)+n;return r?(0,i.numberToBytesLE)(l,o):(0,i.numberToBytesBE)(l,o)};var i=tE("esaJO");let r=BigInt(0),n=BigInt(1),s=BigInt(2),o=BigInt(3),a=BigInt(4),l=BigInt(5),h=BigInt(8);function f(t,e){let i=t%e;return i>=r?i:e+i}function u(t,e,i){if(e<r)throw Error("invalid exponent, negatives unsupported");if(i<=r)throw Error("invalid modulus");if(i===n)return r;let s=n;for(;e>r;)e&n&&(s=s*t%i),t=t*t%i,e>>=n;return s}function c(t,e){if(t===r)throw Error("invert: expected non-zero number");if(e<=r)throw Error("invert: expected positive modulus, got "+e);let i=f(t,e),s=e,o=r,a=n,l=n,h=r;for(;i!==r;){let t=s/i,e=s%i,r=o-l*t,n=a-h*t;s=i,i=e,o=l,a=h,l=r,h=n}if(s!==n)throw Error("invert: does not exist");return f(o,e)}function d(t){let e,i,o,l=(t-n)/s;for(e=t-n,i=0;e%s===r;e/=s,i++);for(o=s;o<t&&u(o,l,t)!==t-n;o++)if(o>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===i){let e=(t+n)/a;return function(t,i){let r=t.pow(i,e);if(!t.eql(t.sqr(r),i))throw Error("Cannot find square root");return r}}let h=(e+n)/s;return function(t,r){if(t.pow(r,l)===t.neg(t.ONE))throw Error("Cannot find square root");let s=i,a=t.pow(t.mul(t.ONE,o),e),f=t.pow(r,h),u=t.pow(r,e);for(;!t.eql(u,t.ONE);){if(t.eql(u,t.ZERO))return t.ZERO;let e=1;for(let i=t.sqr(u);e<s&&!t.eql(i,t.ONE);e++)i=t.sqr(i);let i=t.pow(a,n<<BigInt(s-e-1));a=t.sqr(i),f=t.mul(f,i),u=t.mul(u,a),s=e}return f}}function p(t){if(t%a===o){let e=(t+n)/a;return function(t,i){let r=t.pow(i,e);if(!t.eql(t.sqr(r),i))throw Error("Cannot find square root");return r}}if(t%h===l){let e=(t-l)/h;return function(t,i){let r=t.mul(i,s),n=t.pow(r,e),o=t.mul(i,n),a=t.mul(t.mul(o,s),n),l=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(l),i))throw Error("Cannot find square root");return l}}return d(t)}t.exports.isNegativeLE=(t,e)=>(f(t,e)&n)===n;let b=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(t,e,i){if(i<r)throw Error("invalid exponent, negatives unsupported");if(i===r)return t.ONE;if(i===n)return e;let s=t.ONE,o=e;for(;i>r;)i&n&&(s=t.mul(s,o)),o=t.sqr(o),i>>=n;return s}function m(t,e){let i=Array(e.length),r=e.reduce((e,r,n)=>t.is0(r)?e:(i[n]=e,t.mul(e,r)),t.ONE),n=t.inv(r);return e.reduceRight((e,r,n)=>t.is0(r)?e:(i[n]=t.mul(e,i[n]),t.mul(e,r)),n),i}function y(t){let e=(t-n)/s;return(t,i)=>t.pow(i,e)}function v(t,e){let i=void 0!==e?e:t.toString(2).length,r=Math.ceil(i/8);return{nBitLength:i,nByteLength:r}}function _(t){if("bigint"!=typeof t)throw Error("field order must be bigint");return Math.ceil(t.toString(2).length/8)}function w(t){let e=_(t);return e+Math.ceil(e/2)}}),tk("esaJO",function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.notImplemented=t.exports.bitMask=void 0,t.exports.isBytes=s,t.exports.abytes=o,t.exports.abool=function(t,e){if("boolean"!=typeof e)throw Error(t+" boolean expected, got "+e)},t.exports.bytesToHex=l,t.exports.numberToHexUnpadded=h,t.exports.hexToNumber=f,t.exports.hexToBytes=d,t.exports.bytesToNumberBE=function(t){return f(l(t))},t.exports.bytesToNumberLE=function(t){return o(t),f(l(Uint8Array.from(t).reverse()))},t.exports.numberToBytesBE=p,t.exports.numberToBytesLE=function(t,e){return p(t,e).reverse()},t.exports.numberToVarBytesBE=function(t){return d(h(t))},t.exports.ensureBytes=function(t,e,i){let r;if("string"==typeof e)try{r=d(e)}catch(e){throw Error(t+" must be hex string or Uint8Array, cause: "+e)}else if(s(e))r=Uint8Array.from(e);else throw Error(t+" must be hex string or Uint8Array");let n=r.length;if("number"==typeof i&&n!==i)throw Error(t+" of length "+i+" expected, got "+n);return r},t.exports.concatBytes=b,t.exports.equalBytes=function(t,e){if(t.length!==e.length)return!1;let i=0;for(let r=0;r<t.length;r++)i|=t[r]^e[r];return 0===i},t.exports.utf8ToBytes=function(t){if("string"!=typeof t)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(t))},t.exports.inRange=m,t.exports.aInRange=function(t,e,i,r){if(!m(e,i,r))throw Error("expected valid "+t+": "+i+" <= n < "+r+", got "+e)},t.exports.bitLen=function(t){let e;for(e=0;t>i;t>>=r,e+=1);return e},t.exports.bitGet=function(t,e){return t>>BigInt(e)&r},t.exports.bitSet=function(t,e,n){return t|(n?r:i)<<BigInt(e)},t.exports.createHmacDrbg=function(t,e,i){if("number"!=typeof t||t<2)throw Error("hashLen must be a number");if("number"!=typeof e||e<2)throw Error("qByteLen must be a number");if("function"!=typeof i)throw Error("hmacFn must be a function");let r=y(t),n=y(t),s=0,o=()=>{r.fill(1),n.fill(0),s=0},a=(...t)=>i(n,r,...t),l=(t=y())=>{n=a(v([0]),t),r=a(),0!==t.length&&(n=a(v([1]),t),r=a())},h=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let t=0,i=[];for(;t<e;){let e=(r=a()).slice();i.push(e),t+=r.length}return b(...i)};return(t,e)=>{let i;for(o(),l(t);!(i=e(h()));)l();return o(),i}},t.exports.validateObject=function(t,e,i={}){let r=(e,i,r)=>{let n=_[i];if("function"!=typeof n)throw Error("invalid validator function");let s=t[e];if((!r||void 0!==s)&&!n(s,t))throw Error("param "+String(e)+" is invalid. Expected "+i+", got "+s)};for(let[t,i]of Object.entries(e))r(t,i,!1);for(let[t,e]of Object.entries(i))r(t,e,!0);return t},t.exports.memoized=function(t){let e=new WeakMap;return(i,...r)=>{let n=e.get(i);if(void 0!==n)return n;let s=t(i,...r);return e.set(i,s),s}};let i=BigInt(0),r=BigInt(1),n=BigInt(2);function s(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function o(t){if(!s(t))throw Error("Uint8Array expected")}let a=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function l(t){o(t);let e="";for(let i=0;i<t.length;i++)e+=a[t[i]];return e}function h(t){let e=t.toString(16);return 1&e.length?"0"+e:e}function f(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);return""===t?i:BigInt("0x"+t)}let u={_0:48,_9:57,A:65,F:70,a:97,f:102};function c(t){return t>=u._0&&t<=u._9?t-u._0:t>=u.A&&t<=u.F?t-(u.A-10):t>=u.a&&t<=u.f?t-(u.a-10):void 0}function d(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);let e=t.length,i=e/2;if(e%2)throw Error("hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(i);for(let e=0,n=0;e<i;e++,n+=2){let i=c(t.charCodeAt(n)),s=c(t.charCodeAt(n+1));if(void 0===i||void 0===s)throw Error('hex string expected, got non-hex character "'+(t[n]+t[n+1])+'" at index '+n);r[e]=16*i+s}return r}function p(t,e){return d(t.toString(16).padStart(2*e,"0"))}function b(...t){let e=0;for(let i=0;i<t.length;i++){let r=t[i];o(r),e+=r.length}let i=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){let n=t[e];i.set(n,r),r+=n.length}return i}let g=t=>"bigint"==typeof t&&i<=t;function m(t,e,i){return g(t)&&g(e)&&g(i)&&e<=t&&t<i}t.exports.bitMask=t=>(n<<BigInt(t-1))-r;let y=t=>new Uint8Array(t),v=t=>Uint8Array.from(t),_={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||s(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};t.exports.notImplemented=()=>{throw Error("not implemented")}}),tk("dlqwk",function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}}),tk("b6RFW",function(t,e){(e=t.exports=tE("d4xg3")).Stream=e,e.Readable=e,e.Writable=tE("3LwY7"),e.Duplex=tE("DwJuQ"),e.Transform=tE("b7kl8"),e.PassThrough=tE("4wWcs"),e.finished=tE("fiCvv"),e.pipeline=tE("aGSwO")}),tk("d4xg3",function(t,e){var i,r,n,s,o,a=tE("hPtJY");t.exports=E,E.ReadableState=S,tE("7etJZ").EventEmitter;var l=function(t,e){return t.listeners(e).length},h=tE("jfAlf"),f=tE("6ZWSX").Buffer,u=(void 0!==ty?ty:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=tE("kjyEk");r=c&&c.debuglog?c.debuglog("stream"):function(){};var d=tE("bF5dL"),p=tE("fMCbt"),b=tE("04a3B").getHighWaterMark,g=tE("6JySE").codes,m=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;tE("dlqwk")(E,h);var w=p.errorOrDestroy,x=["error","close","destroy","pause","resume"];function S(t,e,r){i=i||tE("DwJuQ"),t=t||{},"boolean"!=typeof r&&(r=e instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=b(this,t,"readableHighWaterMark",r),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(n||(n=tE("eNRCS").StringDecoder),this.decoder=new n(t.encoding),this.encoding=t.encoding)}function E(t){if(i=i||tE("DwJuQ"),!(this instanceof E))return new E(t);var e=this instanceof i;this._readableState=new S(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),h.call(this)}function k(t,e,i,n,s){r("readableAddChunk",e);var o,a,l=t._readableState;if(null===e)l.reading=!1,function(t,e){if(r("onEofChunk"),!e.ended){if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,e.sync?T(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,I(t)))}}(t,l);else if(s||(a=function(t,e){var i;return!f.isBuffer(e)&&!(e instanceof u)&&"string"!=typeof e&&void 0!==e&&!t.objectMode&&(i=new m("chunk",["string","Buffer","Uint8Array"],e)),i}(l,e)),a)w(t,a);else if(l.objectMode||e&&e.length>0){if("string"!=typeof e&&!l.objectMode&&Object.getPrototypeOf(e)!==f.prototype&&(o=e,e=f.from(o)),n)l.endEmitted?w(t,new _):A(t,l,e,!0);else if(l.ended)w(t,new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!i?(e=l.decoder.write(e),l.objectMode||0!==e.length?A(t,l,e,!1):P(t,l)):A(t,l,e,!1)}}else n||(l.reading=!1,P(t,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function A(t,e,i,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",i)):(e.length+=e.objectMode?1:i.length,r?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&T(t)),P(t,e)}function M(t,e){if(t<=0||0===e.length&&e.ended)return 0;if(e.objectMode)return 1;if(t!=t)return e.flowing&&e.length?e.buffer.head.data.length:e.length;if(t>e.highWaterMark){var i;(i=t)>=0x40000000?i=0x40000000:(i--,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i++),e.highWaterMark=i}return t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0)}function T(t){var e=t._readableState;r("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(r("emitReadable",e.flowing),e.emittedReadable=!0,a.nextTick(I,t))}function I(t){var e=t._readableState;r("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L(t)}function P(t,e){e.readingMore||(e.readingMore=!0,a.nextTick(O,t,e))}function O(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var i=e.length;if(r("maybeReadMore read 0"),t.read(0),i===e.length)break}e.readingMore=!1}function B(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function C(t){r("readable nexttick read 0"),t.read(0)}function R(t,e){r("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(r("flow",e.flowing);e.flowing&&null!==t.read(););}function N(t,e){var i;return 0===e.length?null:(e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):i=e.buffer.consume(t,e.decoder),i)}function D(t){var e=t._readableState;r("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,a.nextTick(U,e,t))}function U(t,e){if(r("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var i=e._writableState;(!i||i.autoDestroy&&i.finished)&&e.destroy()}}function H(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return -1}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(t,e){e(t)},E.prototype.push=function(t,e){var i,r=this._readableState;return r.objectMode?i=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=f.from(t,e),e=""),i=!0),k(this,t,e,!1,i)},E.prototype.unshift=function(t){return k(this,t,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){n||(n=tE("eNRCS").StringDecoder);var e=new n(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,r="";null!==i;)r+=e.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this},E.prototype.read=function(t){r("read",t),t=parseInt(t,10);var e,i=this._readableState,n=t;if(0!==t&&(i.emittedReadable=!1),0===t&&i.needReadable&&((0!==i.highWaterMark?i.length>=i.highWaterMark:i.length>0)||i.ended))return r("read: emitReadable",i.length,i.ended),0===i.length&&i.ended?D(this):T(this),null;if(0===(t=M(t,i))&&i.ended)return 0===i.length&&D(this),null;var s=i.needReadable;return r("need readable",s),(0===i.length||i.length-t<i.highWaterMark)&&r("length less than watermark",s=!0),i.ended||i.reading?r("reading or ended",s=!1):s&&(r("do read"),i.reading=!0,i.sync=!0,0===i.length&&(i.needReadable=!0),this._read(i.highWaterMark),i.sync=!1,i.reading||(t=M(n,i))),null===(e=t>0?N(t,i):null)?(i.needReadable=i.length<=i.highWaterMark,t=0):(i.length-=t,i.awaitDrain=0),0===i.length&&(i.ended||(i.needReadable=!0),n!==t&&i.ended&&D(this)),null!==e&&this.emit("data",e),e},E.prototype._read=function(t){w(this,new v("_read()"))},E.prototype.pipe=function(t,e){var i,n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=t;break;case 1:s.pipes=[s.pipes,t];break;default:s.pipes.push(t)}s.pipesCount+=1,r("pipe count=%d opts=%j",s.pipesCount,e);var o=e&&!1===e.end||t===a.stdout||t===a.stderr?g:h;function h(){r("onend"),t.end()}s.endEmitted?a.nextTick(o):n.once("end",o),t.on("unpipe",function e(i,o){r("onunpipe"),i===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,r("cleanup"),t.removeListener("close",p),t.removeListener("finish",b),t.removeListener("drain",f),t.removeListener("error",d),t.removeListener("unpipe",e),n.removeListener("end",h),n.removeListener("end",g),n.removeListener("data",c),u=!0,s.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f())});var f=(i=n,function(){var t=i._readableState;r("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&l(i,"data")&&(t.flowing=!0,L(i))});t.on("drain",f);var u=!1;function c(e){r("ondata");var i=t.write(e);r("dest.write",i),!1===i&&((1===s.pipesCount&&s.pipes===t||s.pipesCount>1&&-1!==H(s.pipes,t))&&!u&&(r("false write response, pause",s.awaitDrain),s.awaitDrain++),n.pause())}function d(e){r("onerror",e),g(),t.removeListener("error",d),0===l(t,"error")&&w(t,e)}function p(){t.removeListener("finish",b),g()}function b(){r("onfinish"),t.removeListener("close",p),g()}function g(){r("unpipe"),n.unpipe(t)}return n.on("data",c),function(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}(t,"error",d),t.once("close",p),t.once("finish",b),t.emit("pipe",n),s.flowing||(r("pipe resume"),n.resume()),t},E.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i)),this;if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=H(e.pipes,t);return -1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i)),this},E.prototype.on=function(t,e){var i=h.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==t||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,r("on readable",n.length,n.reading),n.length?T(this):n.reading||a.nextTick(C,this)),i},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(t,e){var i=h.prototype.removeListener.call(this,t,e);return"readable"===t&&a.nextTick(B,this),i},E.prototype.removeAllListeners=function(t){var e=h.prototype.removeAllListeners.apply(this,arguments);return("readable"===t||void 0===t)&&a.nextTick(B,this),e},E.prototype.resume=function(){var t,e,i=this._readableState;return i.flowing||(r("resume"),i.flowing=!i.readableListening,t=this,(e=i).resumeScheduled||(e.resumeScheduled=!0,a.nextTick(R,t,e))),i.paused=!1,this},E.prototype.pause=function(){return r("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(r("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(t){var e=this,i=this._readableState,n=!1;for(var s in t.on("end",function(){if(r("wrapped end"),i.decoder&&!i.ended){var t=i.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(s){if(r("wrapped data"),i.decoder&&(s=i.decoder.write(s)),!i.objectMode||null!=s)(i.objectMode||s&&s.length)&&(e.push(s)||(n=!0,t.pause()))}),t)void 0===this[s]&&"function"==typeof t[s]&&(this[s]=function(e){return function(){return t[e].apply(t,arguments)}}(s));for(var o=0;o<x.length;o++)t.on(x[o],this.emit.bind(this,x[o]));return this._read=function(e){r("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===s&&(s=tE("2UdT6")),s(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),E._fromList=N,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,e){return void 0===o&&(o=tE("e6P81")),o(E,t,e)})}),tk("hPtJY",function(t,e){var i,r,n,s=t.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function l(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var h=[],f=!1,u=-1;function c(){f&&n&&(f=!1,n.length?h=n.concat(h):u=-1,h.length&&d())}function d(){if(!f){var t=l(c);f=!0;for(var e=h.length;e;){for(n=h,h=[];++u<e;)n&&n[u].run();u=-1,e=h.length}n=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function b(){}s.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new p(t,e)),1!==h.length||f||l(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=b,s.addListener=b,s.once=b,s.off=b,s.removeListener=b,s.removeAllListeners=b,s.emit=b,s.prependListener=b,s.prependOnceListener=b,s.listeners=function(t){return[]},s.binding=function(t){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}),tk("7etJZ",function(t,e){var i,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise(function(i,r){var n,s,o;function a(i){t.removeListener(e,l),r(i)}function l(){"function"==typeof t.removeListener&&t.removeListener("error",a),i([].slice.call(arguments))}g(t,e,l,{once:!0}),"error"!==e&&(n=t,s=a,o={once:!0},"function"==typeof n.on&&g(n,"error",s,o))})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function l(t){if("function"!=typeof t)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function f(t,e,i,r){if(l(i),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),s=t._events),o=s[e]),void 0===o)o=s[e]=i,++t._eventsCount;else if("function"==typeof o?o=s[e]=r?[i,o]:[o,i]:r?o.unshift(i):o.push(i),(n=h(t))>0&&o.length>n&&!o.warned){o.warned=!0;var n,s,o,a=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,console&&console.warn&&console.warn(a)}return t}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,i){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},n=u.bind(r);return n.listener=i,r.wrapFn=n,n}function d(t,e,i){var r=t._events;if(void 0===r)return[];var n=r[e];return void 0===n?[]:"function"==typeof n?i?[n.listener||n]:[n]:i?function(t){for(var e=Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(n):b(n,n.length)}function p(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function b(t,e){for(var i=Array(e),r=0;r<e;++r)i[r]=t[r];return i}function g(t,e,i,r){if("function"==typeof t.on)r.once?t.once(e,i):t.on(e,i);else if("function"==typeof t.addEventListener)t.addEventListener(e,function n(s){r.once&&t.removeEventListener(e,n),i(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||s(t))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var r="error"===t,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var o,a=Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[t];if(void 0===l)return!1;if("function"==typeof l)n(l,this,e);else for(var h=l.length,f=b(l,h),i=0;i<h;++i)n(f[i],this,e);return!0},o.prototype.addListener=function(t,e){return f(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return f(this,t,e,!0)},o.prototype.once=function(t,e){return l(e),this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var i,r,n,s,o;if(l(e),void 0===(r=this._events)||void 0===(i=r[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(n=-1,s=i.length-1;s>=0;s--)if(i[s]===e||i[s].listener===e){o=i[s].listener,n=s;break}if(n<0)return this;0===n?i.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(i,n),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0==arguments.length){var n,s=Object.keys(i);for(r=0;r<s.length;++r)"removeListener"!==(n=s[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return d(this,t,!0)},o.prototype.rawListeners=function(t){return d(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}}),tk("jfAlf",function(t,e){t.exports=tE("7etJZ").EventEmitter}),tk("6ZWSX",function(t,e){tv(t.exports,"Buffer",()=>i,t=>i=t),tv(t.exports,"SlowBuffer",()=>r,t=>r=t),tv(t.exports,"INSPECT_MAX_BYTES",()=>n,t=>n=t),tv(t.exports,"kMaxLength",()=>s,t=>s=t);var i,r,n,s,o=tE("kuxul"),a=tE("9NvM5");let l="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function h(t){if(t>0x7fffffff)throw RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,i){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return d(t)}return u(t,e,i)}function u(t,e,i){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!f.isEncoding(e))throw TypeError("Unknown encoding: "+e);let i=0|m(t,e),r=h(i),n=r.write(t,e);return n!==i&&(r=r.slice(0,n)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(j(t,Uint8Array)){let e=new Uint8Array(t);return b(e.buffer,e.byteOffset,e.byteLength)}return p(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(j(t,ArrayBuffer)||t&&j(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(j(t,SharedArrayBuffer)||t&&j(t.buffer,SharedArrayBuffer)))return b(t,e,i);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');let r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return f.from(r,e,i);let n=function(t){if(f.isBuffer(t)){let e=0|g(t.length),i=h(e);return 0===i.length||t.copy(i,0,0,e),i}return void 0!==t.length?"number"!=typeof t.length||function(t){return t!=t}(t.length)?h(0):p(t):"Buffer"===t.type&&Array.isArray(t.data)?p(t.data):void 0}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function d(t){return c(t),h(t<0?0:0|g(t))}function p(t){let e=t.length<0?0:0|g(t.length),i=h(e);for(let r=0;r<e;r+=1)i[r]=255&t[r];return i}function b(t,e,i){let r;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),f.prototype),r}function g(t){if(t>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function m(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||j(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return U(t).length;default:if(n)return r?-1:D(t).length;e=(""+e).toLowerCase(),n=!0}}function y(t,e,i){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0||(i>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,i){let r=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>r)&&(i=r);let n="";for(let r=e;r<i;++r)n+=F[t[r]];return n}(this,e,i);case"utf8":case"utf-8":return x(this,e,i);case"ascii":return function(t,e,i){let r="";i=Math.min(t.length,i);for(let n=e;n<i;++n)r+=String.fromCharCode(127&t[n]);return r}(this,e,i);case"latin1":case"binary":return function(t,e,i){let r="";i=Math.min(t.length,i);for(let n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}(this,e,i);case"base64":var n,s,a;return n=this,s=e,a=i,0===s&&a===n.length?o.fromByteArray(n):o.fromByteArray(n.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,i){let r=t.slice(e,i),n="";for(let t=0;t<r.length-1;t+=2)n+=String.fromCharCode(r[t]+256*r[t+1]);return n}(this,e,i);default:if(r)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,i){let r=t[e];t[e]=t[i],t[i]=r}function _(t,e,i,r,n){var s;if(0===t.length)return -1;if("string"==typeof i?(r=i,i=0):i>0x7fffffff?i=0x7fffffff:i<-0x80000000&&(i=-0x80000000),(s=i*=1)!=s&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return -1;i=t.length-1}else if(i<0){if(!n)return -1;i=0}if("string"==typeof e&&(e=f.from(e,r)),f.isBuffer(e))return 0===e.length?-1:w(t,e,i,r,n);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):w(t,[e],i,r,n);throw TypeError("val must be string, number or Buffer")}function w(t,e,i,r,n){let s,o=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return -1;o=2,a/=2,l/=2,i/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){let r=-1;for(s=i;s<a;s++)if(h(t,s)===h(e,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===l)return r*o}else -1!==r&&(s-=s-r),r=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){let i=!0;for(let r=0;r<l;r++)if(h(t,s+r)!==h(e,r)){i=!1;break}if(i)return s}return -1}function x(t,e,i){i=Math.min(t.length,i);let r=[],n=e;for(;n<i;){let e=t[n],s=null,o=e>239?4:e>223?3:e>191?2:1;if(n+o<=i){let i,r,a,l;switch(o){case 1:e<128&&(s=e);break;case 2:(192&(i=t[n+1]))==128&&(l=(31&e)<<6|63&i)>127&&(s=l);break;case 3:i=t[n+1],r=t[n+2],(192&i)==128&&(192&r)==128&&(l=(15&e)<<12|(63&i)<<6|63&r)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:i=t[n+1],r=t[n+2],a=t[n+3],(192&i)==128&&(192&r)==128&&(192&a)==128&&(l=(15&e)<<18|(63&i)<<12|(63&r)<<6|63&a)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),n+=o}return function(t){let e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);let i="",r=0;for(;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return i}(r)}function S(t,e,i){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>i)throw RangeError("Trying to access beyond buffer length")}function E(t,e,i,r,n,s){if(!f.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw RangeError('"value" argument is out of bounds');if(i+r>t.length)throw RangeError("Index out of range")}function k(t,e,i,r,n){C(e,r,n,t,i,7);let s=Number(e&BigInt(0xffffffff));t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s;let o=Number(e>>BigInt(32)&BigInt(0xffffffff));return t[i++]=o,o>>=8,t[i++]=o,o>>=8,t[i++]=o,o>>=8,t[i++]=o,i}function A(t,e,i,r,n){C(e,r,n,t,i,7);let s=Number(e&BigInt(0xffffffff));t[i+7]=s,s>>=8,t[i+6]=s,s>>=8,t[i+5]=s,s>>=8,t[i+4]=s;let o=Number(e>>BigInt(32)&BigInt(0xffffffff));return t[i+3]=o,o>>=8,t[i+2]=o,o>>=8,t[i+1]=o,o>>=8,t[i]=o,i+8}function M(t,e,i,r,n,s){if(i+r>t.length||i<0)throw RangeError("Index out of range")}function T(t,e,i,r,n){return e*=1,i>>>=0,n||M(t,e,i,4,34028234663852886e22,-34028234663852886e22),a.write(t,e,i,r,23,4),i+4}function I(t,e,i,r,n){return e*=1,i>>>=0,n||M(t,e,i,8,17976931348623157e292,-17976931348623157e292),a.write(t,e,i,r,52,8),i+8}i=f,r=function(t){return+t!=t&&(t=0),f.alloc(+t)},n=50,s=0x7fffffff,f.TYPED_ARRAY_SUPPORT=function(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,i){return u(t,e,i)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,i){return(c(t),t<=0)?h(t):void 0!==e?"string"==typeof i?h(t).fill(e,i):h(t).fill(e):h(t)},f.allocUnsafe=function(t){return d(t)},f.allocUnsafeSlow=function(t){return d(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(j(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),j(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let i=t.length,r=e.length;for(let n=0,s=Math.min(i,r);n<s;++n)if(t[n]!==e[n]){i=t[n],r=e[n];break}return i<r?-1:+(r<i)},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){let i;if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);if(void 0===e)for(i=0,e=0;i<t.length;++i)e+=t[i].length;let r=f.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){let e=t[i];if(j(e,Uint8Array))n+e.length>r.length?(f.isBuffer(e)||(e=f.from(e)),e.copy(r,n)):Uint8Array.prototype.set.call(r,e,n);else if(f.isBuffer(e))e.copy(r,n);else throw TypeError('"list" argument must be an Array of Buffers');n+=e.length}return r},f.byteLength=m,f.prototype._isBuffer=!0,f.prototype.swap16=function(){let t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)v(this,e,e+1);return this},f.prototype.swap32=function(){let t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},f.prototype.swap64=function(){let t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},f.prototype.toString=function(){let t=this.length;return 0===t?"":0==arguments.length?x(this,0,t):y.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){let t="",e=n;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},l&&(f.prototype[l]=f.prototype.inspect),f.prototype.compare=function(t,e,i,r,n){if(j(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),e<0||i>t.length||r<0||n>this.length)throw RangeError("out of range index");if(r>=n&&e>=i)return 0;if(r>=n)return -1;if(e>=i)return 1;if(e>>>=0,i>>>=0,r>>>=0,n>>>=0,this===t)return 0;let s=n-r,o=i-e,a=Math.min(s,o),l=this.slice(r,n),h=t.slice(e,i);for(let t=0;t<a;++t)if(l[t]!==h[t]){s=l[t],o=h[t];break}return s<o?-1:+(o<s)},f.prototype.includes=function(t,e,i){return -1!==this.indexOf(t,e,i)},f.prototype.indexOf=function(t,e,i){return _(this,t,e,i,!0)},f.prototype.lastIndexOf=function(t,e,i){return _(this,t,e,i,!1)},f.prototype.write=function(t,e,i,r){var n,s,o,a,l,h,f,u;if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let c=this.length-e;if((void 0===i||i>c)&&(i=c),t.length>0&&(i<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let d=!1;for(;;)switch(r){case"hex":return function(t,e,i,r){let n;i=Number(i)||0;let s=t.length-i;r?(r=Number(r))>s&&(r=s):r=s;let o=e.length;for(r>o/2&&(r=o/2),n=0;n<r;++n){var a;let r=parseInt(e.substr(2*n,2),16);if((a=r)!=a)break;t[i+n]=r}return n}(this,t,e,i);case"utf8":case"utf-8":return n=e,s=i,H(D(t,this.length-n),this,n,s);case"ascii":case"latin1":case"binary":return o=e,a=i,H(function(t){let e=[];for(let i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(t),this,o,a);case"base64":return l=e,h=i,H(U(t),this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f=e,u=i,H(function(t,e){let i,r,n=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=(i=t.charCodeAt(s))>>8,n.push(i%256),n.push(r);return n}(t,this.length-f),this,f,u);default:if(d)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},f.prototype.slice=function(t,e){let i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);let r=this.subarray(t,e);return Object.setPrototypeOf(r,f.prototype),r},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||S(t,e,this.length);let r=this[t],n=1,s=0;for(;++s<e&&(n*=256);)r+=this[t+s]*n;return r},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||S(t,e,this.length);let r=this[t+--e],n=1;for(;e>0&&(n*=256);)r+=this[t+--e]*n;return r},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||S(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||S(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||S(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||S(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+0x1000000*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||S(t,4,this.length),0x1000000*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readBigUInt64LE=q(function(t){R(t>>>=0,"offset");let e=this[t],i=this[t+7];(void 0===e||void 0===i)&&L(t,this.length-8);let r=e+256*this[++t]+65536*this[++t]+0x1000000*this[++t],n=this[++t]+256*this[++t]+65536*this[++t]+0x1000000*i;return BigInt(r)+(BigInt(n)<<BigInt(32))}),f.prototype.readBigUInt64BE=q(function(t){R(t>>>=0,"offset");let e=this[t],i=this[t+7];(void 0===e||void 0===i)&&L(t,this.length-8);let r=0x1000000*e+65536*this[++t]+256*this[++t]+this[++t],n=0x1000000*this[++t]+65536*this[++t]+256*this[++t]+i;return(BigInt(r)<<BigInt(32))+BigInt(n)}),f.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||S(t,e,this.length);let r=this[t],n=1,s=0;for(;++s<e&&(n*=256);)r+=this[t+s]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},f.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||S(t,e,this.length);let r=e,n=1,s=this[t+--r];for(;r>0&&(n*=256);)s+=this[t+--r]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*e)),s},f.prototype.readInt8=function(t,e){return(t>>>=0,e||S(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||S(t,2,this.length);let i=this[t]|this[t+1]<<8;return 32768&i?0xffff0000|i:i},f.prototype.readInt16BE=function(t,e){t>>>=0,e||S(t,2,this.length);let i=this[t+1]|this[t]<<8;return 32768&i?0xffff0000|i:i},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||S(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||S(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readBigInt64LE=q(function(t){R(t>>>=0,"offset");let e=this[t],i=this[t+7];return(void 0===e||void 0===i)&&L(t,this.length-8),(BigInt(this[t+4]+256*this[t+5]+65536*this[t+6]+(i<<24))<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+0x1000000*this[++t])}),f.prototype.readBigInt64BE=q(function(t){R(t>>>=0,"offset");let e=this[t],i=this[t+7];return(void 0===e||void 0===i)&&L(t,this.length-8),(BigInt((e<<24)+65536*this[++t]+256*this[++t]+this[++t])<<BigInt(32))+BigInt(0x1000000*this[++t]+65536*this[++t]+256*this[++t]+i)}),f.prototype.readFloatLE=function(t,e){return t>>>=0,e||S(t,4,this.length),a.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||S(t,4,this.length),a.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||S(t,8,this.length),a.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||S(t,8,this.length),a.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,i,r){if(t*=1,e>>>=0,i>>>=0,!r){let r=Math.pow(2,8*i)-1;E(this,t,e,i,r,0)}let n=1,s=0;for(this[e]=255&t;++s<i&&(n*=256);)this[e+s]=t/n&255;return e+i},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,i,r){if(t*=1,e>>>=0,i>>>=0,!r){let r=Math.pow(2,8*i)-1;E(this,t,e,i,r,0)}let n=i-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+i},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,i){return t*=1,e>>>=0,i||E(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,i){return t*=1,e>>>=0,i||E(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,i){return t*=1,e>>>=0,i||E(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,i){return t*=1,e>>>=0,i||E(this,t,e,4,0xffffffff,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,i){return t*=1,e>>>=0,i||E(this,t,e,4,0xffffffff,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigUInt64LE=q(function(t,e=0){return k(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=q(function(t,e=0){return A(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(t,e,i,r){if(t*=1,e>>>=0,!r){let r=Math.pow(2,8*i-1);E(this,t,e,i,r-1,-r)}let n=0,s=1,o=0;for(this[e]=255&t;++n<i&&(s*=256);)t<0&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/s>>0)-o&255;return e+i},f.prototype.writeIntBE=function(t,e,i,r){if(t*=1,e>>>=0,!r){let r=Math.pow(2,8*i-1);E(this,t,e,i,r-1,-r)}let n=i-1,s=1,o=0;for(this[e+n]=255&t;--n>=0&&(s*=256);)t<0&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/s>>0)-o&255;return e+i},f.prototype.writeInt8=function(t,e,i){return t*=1,e>>>=0,i||E(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,i){return t*=1,e>>>=0,i||E(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,i){return t*=1,e>>>=0,i||E(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,i){return t*=1,e>>>=0,i||E(this,t,e,4,0x7fffffff,-0x80000000),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,i){return t*=1,e>>>=0,i||E(this,t,e,4,0x7fffffff,-0x80000000),t<0&&(t=0xffffffff+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigInt64LE=q(function(t,e=0){return k(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=q(function(t,e=0){return A(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeFloatLE=function(t,e,i){return T(this,t,e,!0,i)},f.prototype.writeFloatBE=function(t,e,i){return T(this,t,e,!1,i)},f.prototype.writeDoubleLE=function(t,e,i){return I(this,t,e,!0,i)},f.prototype.writeDoubleBE=function(t,e,i){return I(this,t,e,!1,i)},f.prototype.copy=function(t,e,i,r){if(!f.isBuffer(t))throw TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);let n=r-i;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,i,r):Uint8Array.prototype.set.call(t,this.subarray(i,r),e),n},f.prototype.fill=function(t,e,i,r){let n;if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!f.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===t.length){let e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw RangeError("Out of range index");if(i<=e)return this;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(n=e;n<i;++n)this[n]=t;else{let s=f.isBuffer(t)?t:f.from(t,r),o=s.length;if(0===o)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<i-e;++n)this[n+e]=s[n%o]}return this};let P={};function O(t,e,i){P[t]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function B(t){let e="",i=t.length,r=+("-"===t[0]);for(;i>=r+4;i-=3)e=`_${t.slice(i-3,i)}${e}`;return`${t.slice(0,i)}${e}`}function C(t,e,i,r,n,s){if(t>i||t<e){let r,n="bigint"==typeof e?"n":"";throw r=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${(s+1)*8}${n}`:`>= -(2${n} ** ${(s+1)*8-1}${n}) and < 2 ** ${(s+1)*8-1}${n}`:`>= ${e}${n} and <= ${i}${n}`,new P.ERR_OUT_OF_RANGE("value",r,t)}R(n,"offset"),(void 0===r[n]||void 0===r[n+s])&&L(n,r.length-(s+1))}function R(t,e){if("number"!=typeof t)throw new P.ERR_INVALID_ARG_TYPE(e,"number",t)}function L(t,e,i){if(Math.floor(t)!==t)throw R(t,i),new P.ERR_OUT_OF_RANGE(i||"offset","an integer",t);if(e<0)throw new P.ERR_BUFFER_OUT_OF_BOUNDS;throw new P.ERR_OUT_OF_RANGE(i||"offset",`>= ${+!!i} and <= ${e}`,t)}O("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),O("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),O("ERR_OUT_OF_RANGE",function(t,e,i){let r=`The value of "${t}" is out of range.`,n=i;return Number.isInteger(i)&&Math.abs(i)>0x100000000?n=B(String(i)):"bigint"==typeof i&&(n=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(n=B(n)),n+="n"),r+=` It must be ${e}. Received ${n}`},RangeError);let N=/[^+/0-9A-Za-z-_]/g;function D(t,e){let i;e=e||1/0;let r=t.length,n=null,s=[];for(let o=0;o<r;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!n){if(i>56319||o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),n=i;continue}i=(n-55296<<10|i-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return s}function U(t){return o.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,i,r){let n;for(n=0;n<r&&!(n+i>=e.length)&&!(n>=t.length);++n)e[n+i]=t[n];return n}function j(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}let F=function(){let t="0123456789abcdef",e=Array(256);for(let i=0;i<16;++i){let r=16*i;for(let n=0;n<16;++n)e[r+n]=t[i]+t[n]}return e}();function q(t){return"undefined"==typeof BigInt?$:t}function $(){throw Error("BigInt not supported")}}),tk("kuxul",function(t,e){tv(t.exports,"toByteArray",()=>i,t=>i=t),tv(t.exports,"fromByteArray",()=>r,t=>r=t);for(var i=function(t){var e,i,r=function(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");-1===i&&(i=e);var r=i===e?0:4-i%4;return[i,r]}(t),n=r[0],a=r[1],l=new o((n+a)*3/4-a),h=0,f=a>0?n-4:n;for(i=0;i<f;i+=4)e=s[t.charCodeAt(i)]<<18|s[t.charCodeAt(i+1)]<<12|s[t.charCodeAt(i+2)]<<6|s[t.charCodeAt(i+3)],l[h++]=e>>16&255,l[h++]=e>>8&255,l[h++]=255&e;return 2===a&&(e=s[t.charCodeAt(i)]<<2|s[t.charCodeAt(i+1)]>>4,l[h++]=255&e),1===a&&(e=s[t.charCodeAt(i)]<<10|s[t.charCodeAt(i+1)]<<4|s[t.charCodeAt(i+2)]>>2,l[h++]=e>>8&255,l[h++]=255&e),l},r=function(t){for(var e,i=t.length,r=i%3,s=[],o=0,a=i-r;o<a;o+=16383)s.push(function(t,e,i){for(var r,s=[],o=e;o<i;o+=3)r=(t[o]<<16&0xff0000)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push(n[r>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return s.join("")}(t,o,o+16383>a?a:o+16383));return 1===r?s.push(n[(e=t[i-1])>>2]+n[e<<4&63]+"=="):2===r&&s.push(n[(e=(t[i-2]<<8)+t[i-1])>>10]+n[e>>4&63]+n[e<<2&63]+"="),s.join("")},n=[],s=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,h=a.length;l<h;++l)n[l]=a[l],s[a.charCodeAt(l)]=l;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63}),tk("9NvM5",function(t,e){var i,r;tv(t.exports,"read",()=>i,t=>i=t),tv(t.exports,"write",()=>r,t=>r=t),i=function(t,e,i,r,n){var s,o,a=8*n-r-1,l=(1<<a)-1,h=l>>1,f=-7,u=i?n-1:0,c=i?-1:1,d=t[e+u];for(u+=c,s=d&(1<<-f)-1,d>>=-f,f+=a;f>0;s=256*s+t[e+u],u+=c,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=r;f>0;o=256*o+t[e+u],u+=c,f-=8);if(0===s)s=1-h;else{if(s===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=h}return(d?-1:1)*o*Math.pow(2,s-r)},r=function(t,e,i,r,n,s){var o,a,l,h=8*s-n-1,f=(1<<h)-1,u=f>>1,c=5960464477539062e-23*(23===n),d=r?0:s-1,p=r?1:-1,b=+(e<0||0===e&&1/e<0);for(isNaN(e=Math.abs(e))||e===1/0?(a=+!!isNaN(e),o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+u>=1?e+=c/l:e+=c*Math.pow(2,1-u),e*l>=2&&(o++,l/=2),o+u>=f?(a=0,o=f):o+u>=1?(a=(e*l-1)*Math.pow(2,n),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,n),o=0));n>=8;t[i+d]=255&a,d+=p,a/=256,n-=8);for(o=o<<n|a,h+=n;h>0;t[i+d]=255&o,d+=p,o/=256,h-=8);t[i+d-p]|=128*b}}),tk("kjyEk",function(t,e){}),tk("bF5dL",function(t,e){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){var i,s,o;i=t,s=e,o=r[e],(s=n(s))in i?Object.defineProperty(i,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[s]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function n(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var s=tE("6ZWSX").Buffer,o=tE("kjyEk").inspect,a=o&&o.custom||"inspect";t.exports=function(){var t;function e(){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return t=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e,i,r=s.allocUnsafe(t>>>0),n=this.head,o=0;n;)e=n.data,i=o,s.prototype.copy.call(e,r,i),o+=n.data.length,n=n.next;return r}},{key:"consume",value:function(t,e){var i;return t<this.head.data.length?(i=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):i=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,i=1,r=e.data;for(t-=r.length;e=e.next;){var n=e.data,s=t>n.length?n.length:t;if(s===n.length?r+=n:r+=n.slice(0,t),0==(t-=s)){s===n.length?(++i,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=n.slice(s));break}++i}return this.length-=i,r}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),i=this.head,r=1;for(i.data.copy(e),t-=i.data.length;i=i.next;){var n=i.data,o=t>n.length?n.length:t;if(n.copy(e,e.length-t,0,o),0==(t-=o)){o===n.length?(++r,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=n.slice(o));break}++r}return this.length-=r,e}},{key:a,value:function(t,e){return o(this,r(r({},e),{},{depth:0,customInspect:!1}))}}],function(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}()}),tk("fMCbt",function(t,e){var i=tE("hPtJY");function r(t,e){s(t,e),n(t)}function n(t){(!t._writableState||t._writableState.emitClose)&&(!t._readableState||t._readableState.emitClose)&&t.emit("close")}function s(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var o=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,t)):i.nextTick(s,this,t)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?o._writableState?o._writableState.errorEmitted?i.nextTick(n,o):(o._writableState.errorEmitted=!0,i.nextTick(r,o,t)):i.nextTick(r,o,t):e?(i.nextTick(n,o),e(t)):i.nextTick(n,o)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var i=t._readableState,r=t._writableState;i&&i.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}}),tk("04a3B",function(t,e){var i=tE("6JySE").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,n){var s=null!=e.highWaterMark?e.highWaterMark:n?e[r]:null;if(null!=s){if(!(isFinite(s)&&Math.floor(s)===s)||s<0)throw new i(n?r:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}}),tk("6JySE",function(t,e){tv(t.exports,"codes",()=>i,t=>i=t);var i,r={};function n(t,e,i){i||(i=Error);var n=function(t){function i(i,r,n){return t.call(this,"string"==typeof e?e:e(i,r,n))||this}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t,i}(i);n.prototype.name=i.name,n.prototype.code=t,r[t]=n}function s(t,e){if(!Array.isArray(t))return"of ".concat(e," ").concat(String(t));var i=t.length;return(t=t.map(function(t){return String(t)}),i>2)?"one of ".concat(e," ").concat(t.slice(0,i-1).join(", "),", or ")+t[i-1]:2===i?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}n("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(t,e,i){if("string"==typeof e&&(r="not ",e.substr(0,r.length)===r)?(l="must not be",e=e.replace(/^not /,"")):l="must be",n=" argument",(void 0===o||o>t.length)&&(o=t.length),t.substring(o-n.length,o)===n)h="The ".concat(t," ").concat(l," ").concat(s(e,"type"));else{var r,n,o,a,l,h,f=("number"!=typeof a&&(a=0),a+1>t.length||-1===t.indexOf(".",a))?"argument":"property";h='The "'.concat(t,'" ').concat(f," ").concat(l," ").concat(s(e,"type"))}return h+". Received type ".concat(typeof i)},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i=r}),tk("DwJuQ",function(t,e){var i=tE("hPtJY"),r=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};t.exports=h;var n=tE("d4xg3"),s=tE("3LwY7");tE("dlqwk")(h,n);for(var o=r(s.prototype),a=0;a<o.length;a++){var l=o[a];h.prototype[l]||(h.prototype[l]=s.prototype[l])}function h(t){if(!(this instanceof h))return new h(t);n.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||i.nextTick(u,this)}function u(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}),tk("3LwY7",function(t,e){var i,r,n=tE("hPtJY");function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){(function(t,e,i){var r=t.entry;for(t.entry=null;r;){var n=r.callback;e.pendingcb--,n(void 0),r=r.next}e.corkedRequestsFree.next=t})(e,t)}}t.exports=E,E.WritableState=S;var o={deprecate:tE("39vsn")},a=tE("jfAlf"),l=tE("6ZWSX").Buffer,h=(void 0!==ty?ty:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=tE("fMCbt"),u=tE("04a3B").getHighWaterMark,c=tE("6JySE").codes,d=c.ERR_INVALID_ARG_TYPE,p=c.ERR_METHOD_NOT_IMPLEMENTED,b=c.ERR_MULTIPLE_CALLBACK,g=c.ERR_STREAM_CANNOT_PIPE,m=c.ERR_STREAM_DESTROYED,y=c.ERR_STREAM_NULL_VALUES,v=c.ERR_STREAM_WRITE_AFTER_END,_=c.ERR_UNKNOWN_ENCODING,w=f.errorOrDestroy;function x(){}function S(t,e,r){i=i||tE("DwJuQ"),t=t||{},"boolean"!=typeof r&&(r=e instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=u(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){(function(t,e){var i=t._writableState,r=i.sync,s=i.writecb;if("function"!=typeof s)throw new b;if(i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0,e)--i.pendingcb,r?(n.nextTick(s,e),n.nextTick(P,t,i),t._writableState.errorEmitted=!0,w(t,e)):(s(e),t._writableState.errorEmitted=!0,w(t,e),P(t,i));else{var o=T(i)||t.destroyed;o||i.corked||i.bufferProcessing||!i.bufferedRequest||M(t,i),r?n.nextTick(A,t,i,o,s):A(t,i,o,s)}})(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function E(t){var e=this instanceof(i=i||tE("DwJuQ"));if(!e&&!r.call(E,this))return new E(t);this._writableState=new S(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function k(t,e,i,r,n,s,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):i?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function A(t,e,i,r){var n,s;i||(n=t,0===(s=e).length&&s.needDrain&&(s.needDrain=!1,n.emit("drain"))),e.pendingcb--,r(),P(t,e)}function M(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var r=Array(e.bufferedRequestCount),n=e.corkedRequestsFree;n.entry=i;for(var o=0,a=!0;i;)r[o]=i,i.isBuf||(a=!1),i=i.next,o+=1;r.allBuffers=a,k(t,e,!0,e.length,r,"",n.finish),e.pendingcb++,e.lastBufferedRequest=null,n.next?(e.corkedRequestsFree=n.next,n.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,h=i.encoding,f=i.callback,u=e.objectMode?1:l.length;if(k(t,e,!1,u,l,h,f),i=i.next,e.bufferedRequestCount--,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final(function(i){e.pendingcb--,i&&w(t,i),e.prefinished=!0,t.emit("prefinish"),P(t,e)})}function P(t,e){var i=T(e);if(i&&(e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(I,t,e))),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var r=t._readableState;(!r||r.autoDestroy&&r.endEmitted)&&t.destroy()}return i}tE("dlqwk")(E,a),S.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(S.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(t){return!!r.call(this,t)||this===E&&t&&t._writableState instanceof S}})):r=function(t){return t instanceof this},E.prototype.pipe=function(){w(this,new g)},E.prototype.write=function(t,e,i){var r,s,o,a,f,u,c,p=this._writableState,b=!1,g=!p.objectMode&&(r=t,l.isBuffer(r)||r instanceof h);return g&&!l.isBuffer(t)&&(s=t,t=l.from(s)),("function"==typeof e&&(i=e,e=null),g?e="buffer":e||(e=p.defaultEncoding),"function"!=typeof i&&(i=x),p.ending)?(o=i,w(this,a=new v),n.nextTick(o,a)):(g||(f=t,u=i,null===f?c=new y:"string"==typeof f||p.objectMode||(c=new d("chunk",["string","Buffer"],f)),!c||(w(this,c),n.nextTick(u,c),0)))&&(p.pendingcb++,b=function(t,e,i,r,n,s){if(!i){var o,a,h=(o=r,a=n,e.objectMode||!1===e.decodeStrings||"string"!=typeof o||(o=l.from(o,a)),o);r!==h&&(i=!0,n="buffer",r=h)}var f=e.objectMode?1:r.length;e.length+=f;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else k(t,e,!1,f,r,n,s);return u}(this,p,g,t,e,i)),b},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var t=this._writableState;!t.corked||(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||M(this,t))},E.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(t,e,i){i(new p("_write()"))},E.prototype._writev=null,E.prototype.end=function(t,e,i){var r,s,o,a=this._writableState;return"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!=t&&this.write(t,e),a.corked&&(a.corked=1,this.uncork()),a.ending||(r=this,s=a,o=i,s.ending=!0,P(r,s),o&&(s.finished?n.nextTick(o):r.once("finish",o)),s.ended=!0,r.writable=!1),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),E.prototype.destroy=f.destroy,E.prototype._undestroy=f.undestroy,E.prototype._destroy=function(t,e){e(t)}}),tk("39vsn",function(t,e){t.exports=function(t,e){if(i("noDeprecation"))return t;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}};function i(t){try{if(!ty.localStorage)return!1}catch(t){return!1}var e=ty.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}}),tk("eNRCS",function(t,e){tv(t.exports,"StringDecoder",()=>i,t=>i=t);var i,r=tE("1U9GM").Buffer,n=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){var e;if(!t)return"utf8";for(;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===n||!n(t)))throw Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=h,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=f,this.end=u,e=3;break;default:this.write=c,this.end=d;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,i=function(t,e,i){if((192&e[0])!=128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((192&e[1])!=128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(192&e[2])!=128)return t.lastNeed=2,""}}(this,t,0);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length)}function l(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function f(t,e){var i=(t.length-e)%3;return 0===i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function c(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}i=s,s.prototype.write=function(t){var e,i;if(0===t.length)return"";if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},s.prototype.text=function(t,e){var i=function(t,e,i){var r=e.length-1;if(r<i)return 0;var n=o(e[r]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--r<i||-2===n?0:(n=o(e[r]))>=0?(n>0&&(t.lastNeed=n-2),n):--r<i||-2===n?0:(n=o(e[r]))>=0?(n>0&&(2===n?n=0:t.lastNeed=n-3),n):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var r=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}}),tk("1U9GM",function(t,e){var i=tE("6ZWSX"),r=i.Buffer;function n(t,e){for(var i in t)e[i]=t[i]}function s(t,e,i){return r(t,e,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(n(i,t.exports),t.exports.Buffer=s),s.prototype=Object.create(r.prototype),n(r,s),s.from=function(t,e,i){if("number"==typeof t)throw TypeError("Argument must not be a number");return r(t,e,i)},s.alloc=function(t,e,i){if("number"!=typeof t)throw TypeError("Argument must be a number");var n=r(t);return void 0!==e?"string"==typeof i?n.fill(e,i):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return i.SlowBuffer(t)}}),tk("2UdT6",function(t,e){var i,r=tE("hPtJY");function n(t,e,i){var r;return(e="symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?r:String(r))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s=tE("fiCvv"),o=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),u=Symbol("handlePromise"),c=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[o];if(null!==e){var i=t[c].read();null!==i&&(t[f]=null,t[o]=null,t[a]=null,e(d(i,!1)))}}function b(t){r.nextTick(p,t)}var g=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((n(i={get stream(){return this[c]},next:function(){var t,e,i=this,n=this[l];if(null!==n)return Promise.reject(n);if(this[h])return Promise.resolve(d(void 0,!0));if(this[c].destroyed)return new Promise(function(t,e){r.nextTick(function(){i[l]?e(i[l]):t(d(void 0,!0))})});var s=this[f];if(s)e=new Promise((t=this,function(e,i){s.then(function(){if(t[h]){e(d(void 0,!0));return}t[u](e,i)},i)}));else{var o=this[c].read();if(null!==o)return Promise.resolve(d(o,!1));e=new Promise(this[u])}return this[f]=e,e}},Symbol.asyncIterator,function(){return this}),n(i,"return",function(){var t=this;return new Promise(function(e,i){t[c].destroy(null,function(t){if(t){i(t);return}e(d(void 0,!0))})})}),i),g);t.exports=function(t){var e,i=Object.create(m,(n(e={},c,{value:t,writable:!0}),n(e,o,{value:null,writable:!0}),n(e,a,{value:null,writable:!0}),n(e,l,{value:null,writable:!0}),n(e,h,{value:t._readableState.endEmitted,writable:!0}),n(e,u,{value:function(t,e){var r=i[c].read();r?(i[f]=null,i[o]=null,i[a]=null,t(d(r,!1))):(i[o]=t,i[a]=e)},writable:!0}),e));return i[f]=null,s(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=i[a];null!==e&&(i[f]=null,i[o]=null,i[a]=null,e(t)),i[l]=t;return}var r=i[o];null!==r&&(i[f]=null,i[o]=null,i[a]=null,r(d(void 0,!0))),i[h]=!0}),t.on("readable",b.bind(null,i)),i}}),tk("fiCvv",function(t,e){var i=tE("6JySE").codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}t.exports=function t(e,n,s){if("function"==typeof n)return t(e,null,n);n||(n={}),o=s||r,a=!1,s=function(){if(!a){a=!0;for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];o.apply(this,e)}};var o,a,l=n.readable||!1!==n.readable&&e.readable,h=n.writable||!1!==n.writable&&e.writable,f=function(){e.writable||c()},u=e._writableState&&e._writableState.finished,c=function(){h=!1,u=!0,l||s.call(e)},d=e._readableState&&e._readableState.endEmitted,p=function(){l=!1,d=!0,h||s.call(e)},b=function(t){s.call(e,t)},g=function(){var t;return l&&!d?(e._readableState&&e._readableState.ended||(t=new i),s.call(e,t)):h&&!u?(e._writableState&&e._writableState.ended||(t=new i),s.call(e,t)):void 0},m=function(){e.req.on("finish",c)};return e.setHeader&&"function"==typeof e.abort?(e.on("complete",c),e.on("abort",g),e.req?m():e.on("request",m)):h&&!e._writableState&&(e.on("end",f),e.on("close",f)),e.on("end",p),e.on("finish",c),!1!==n.error&&e.on("error",b),e.on("close",g),function(){e.removeListener("complete",c),e.removeListener("abort",g),e.removeListener("request",m),e.req&&e.req.removeListener("finish",c),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",c),e.removeListener("end",p),e.removeListener("error",b),e.removeListener("close",g)}}}),tk("e6P81",function(t,e){t.exports=function(){throw Error("Readable.from is not available in the browser")}}),tk("b7kl8",function(t,e){t.exports=h;var i=tE("6JySE").codes,r=i.ERR_METHOD_NOT_IMPLEMENTED,n=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0,a=tE("DwJuQ");function l(t,e){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(null===r)return this.emit("error",new n);i.writechunk=null,i.writecb=null,null!=e&&this.push(e),r(t);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function h(t){if(!(this instanceof h))return new h(t);a.call(this,t),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function f(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?u(this,null,null):this._flush(function(e,i){u(t,e,i)})}function u(t,e,i){if(e)return t.emit("error",e);if(null!=i&&t.push(i),t._writableState.length)throw new o;if(t._transformState.transforming)throw new s;return t.push(null)}tE("dlqwk")(h,a),h.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},h.prototype._transform=function(t,e,i){i(new r("_transform()"))},h.prototype._write=function(t,e,i){var r=this._transformState;if(r.writecb=i,r.writechunk=t,r.writeencoding=e,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},h.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},h.prototype._destroy=function(t,e){a.prototype._destroy.call(this,t,function(t){e(t)})}}),tk("4wWcs",function(t,e){t.exports=r;var i=tE("b7kl8");function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}tE("dlqwk")(r,i),r.prototype._transform=function(t,e,i){i(null,t)}}),tk("aGSwO",function(t,e){var i,r=tE("6JySE").codes,n=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function o(t){if(t)throw t}function a(t){t()}function l(t,e){return t.pipe(e)}t.exports=function(){for(var t,e,r=arguments.length,h=Array(r),f=0;f<r;f++)h[f]=arguments[f];var u=(t=h).length&&"function"==typeof t[t.length-1]?t.pop():o;if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var c=h.map(function(t,r){var n,o,l,f,d,p=r<h.length-1;return o=n=function(t){e||(e=t),t&&c.forEach(a),p||(c.forEach(a),u(e))},l=!1,n=function(){l||(l=!0,o.apply(void 0,arguments))},f=!1,t.on("close",function(){f=!0}),void 0===i&&(i=tE("fiCvv")),i(t,{readable:p,writable:r>0},function(t){if(t)return n(t);f=!0,n()}),d=!1,function(e){if(!f&&!d){if(d=!0,t.setHeader&&"function"==typeof t.abort)return t.abort();if("function"==typeof t.destroy)return t.destroy();n(e||new s("pipe"))}}});return h.reduce(l)}}),tk("dECyV",function(t,e){var i=tE("dlqwk"),r=tE("O5ywn"),n=tE("1U9GM").Buffer,s=[0x5a827999,0x6ed9eba1,-0x70e44324,-0x359d3e2a],o=Array(80);function a(){this.init(),this._w=o,r.call(this,64,56)}i(a,r),a.prototype.init=function(){return this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476,this._e=0xc3d2e1f0,this},a.prototype._update=function(t){for(var e=this._w,i=0|this._a,r=0|this._b,n=0|this._c,o=0|this._d,a=0|this._e,l=0;l<16;++l)e[l]=t.readInt32BE(4*l);for(;l<80;++l)e[l]=e[l-3]^e[l-8]^e[l-14]^e[l-16];for(var h=0;h<80;++h){var f,u,c,d,p,b=~~(h/20),g=((f=i)<<5|f>>>27)+(u=r,c=n,d=o,0===b?u&c|~u&d:2===b?u&c|u&d|c&d:u^c^d)+a+e[h]+s[b]|0;a=o,o=n,n=(p=r)<<30|p>>>2,r=i,i=g}this._a=i+this._a|0,this._b=r+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0},a.prototype._hash=function(){var t=n.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=a}),tk("O5ywn",function(t,e){var i=tE("1U9GM").Buffer;function r(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}r.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var r=this._block,n=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var l=o%n,h=Math.min(s-a,n-l),f=0;f<h;f++)r[l+f]=t[a+f];o+=h,a+=h,o%n==0&&this._update(r)}return this._len+=s,this},r.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=0xffffffff)this._block.writeUInt32BE(i,this._blockSize-4);else{var r=(0xffffffff&i)>>>0;this._block.writeUInt32BE((i-r)/0x100000000,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var n=this._hash();return t?n.toString(t):n},r.prototype._update=function(){throw Error("_update must be implemented by subclass")},t.exports=r}),tk("dVcFO",function(t,e){var i=tE("dlqwk"),r=tE("O5ywn"),n=tE("1U9GM").Buffer,s=[0x5a827999,0x6ed9eba1,-0x70e44324,-0x359d3e2a],o=Array(80);function a(){this.init(),this._w=o,r.call(this,64,56)}i(a,r),a.prototype.init=function(){return this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476,this._e=0xc3d2e1f0,this},a.prototype._update=function(t){for(var e=this._w,i=0|this._a,r=0|this._b,n=0|this._c,o=0|this._d,a=0|this._e,l=0;l<16;++l)e[l]=t.readInt32BE(4*l);for(;l<80;++l)e[l]=(f=e[l-3]^e[l-8]^e[l-14]^e[l-16])<<1|f>>>31;for(var h=0;h<80;++h){var f,u,c,d,p,b,g=~~(h/20),m=((u=i)<<5|u>>>27)+(c=r,d=n,p=o,0===g?c&d|~c&p:2===g?c&d|c&p|d&p:c^d^p)+a+e[h]+s[g]|0;a=o,o=n,n=(b=r)<<30|b>>>2,r=i,i=m}this._a=i+this._a|0,this._b=r+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0},a.prototype._hash=function(){var t=n.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=a}),tk("3wNjm",function(t,e){var i=tE("dlqwk"),r=tE("3BFQx"),n=tE("O5ywn"),s=tE("1U9GM").Buffer,o=Array(64);function a(){this.init(),this._w=o,n.call(this,64,56)}i(a,r),a.prototype.init=function(){return this._a=0xc1059ed8,this._b=0x367cd507,this._c=0x3070dd17,this._d=0xf70e5939,this._e=0xffc00b31,this._f=0x68581511,this._g=0x64f98fa7,this._h=0xbefa4fa4,this},a.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=a}),tk("3BFQx",function(t,e){var i=tE("dlqwk"),r=tE("O5ywn"),n=tE("1U9GM").Buffer,s=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],o=Array(64);function a(){this.init(),this._w=o,r.call(this,64,56)}i(a,r),a.prototype.init=function(){return this._a=0x6a09e667,this._b=0xbb67ae85,this._c=0x3c6ef372,this._d=0xa54ff53a,this._e=0x510e527f,this._f=0x9b05688c,this._g=0x1f83d9ab,this._h=0x5be0cd19,this},a.prototype._update=function(t){for(var e=this._w,i=0|this._a,r=0|this._b,n=0|this._c,o=0|this._d,a=0|this._e,l=0|this._f,h=0|this._g,f=0|this._h,u=0;u<16;++u)e[u]=t.readInt32BE(4*u);for(;u<64;++u)e[u]=(((d=e[u-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)+e[u-7]+(((p=e[u-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)+e[u-16]|0;for(var c=0;c<64;++c){var d,p,b,g,m,y,v,_,w,x=f+(((b=a)>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(g=a,m=l,(y=h)^g&(m^y))+s[c]+e[c]|0,S=(((v=i)>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+((_=i)&(w=r)|n&(_|w))|0;f=h,h=l,l=a,a=o+x|0,o=n,n=r,r=i,i=x+S|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0,this._f=l+this._f|0,this._g=h+this._g|0,this._h=f+this._h|0},a.prototype._hash=function(){var t=n.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=a}),tk("5qHaZ",function(t,e){var i=tE("dlqwk"),r=tE("bZI17"),n=tE("O5ywn"),s=tE("1U9GM").Buffer,o=Array(160);function a(){this.init(),this._w=o,n.call(this,128,112)}i(a,r),a.prototype.init=function(){return this._ah=0xcbbb9d5d,this._bh=0x629a292a,this._ch=0x9159015a,this._dh=0x152fecd8,this._eh=0x67332667,this._fh=0x8eb44a87,this._gh=0xdb0c2e0d,this._hh=0x47b5481d,this._al=0xc1059ed8,this._bl=0x367cd507,this._cl=0x3070dd17,this._dl=0xf70e5939,this._el=0xffc00b31,this._fl=0x68581511,this._gl=0x64f98fa7,this._hl=0xbefa4fa4,this},a.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,i,r){t.writeInt32BE(e,r),t.writeInt32BE(i,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=a}),tk("bZI17",function(t,e){var i=tE("dlqwk"),r=tE("O5ywn"),n=tE("1U9GM").Buffer,s=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817],o=Array(160);function a(){this.init(),this._w=o,r.call(this,128,112)}function l(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function h(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function f(t,e){return+(t>>>0<e>>>0)}i(a,r),a.prototype.init=function(){return this._ah=0x6a09e667,this._bh=0xbb67ae85,this._ch=0x3c6ef372,this._dh=0xa54ff53a,this._eh=0x510e527f,this._fh=0x9b05688c,this._gh=0x1f83d9ab,this._hh=0x5be0cd19,this._al=0xf3bcc908,this._bl=0x84caa73b,this._cl=0xfe94f82b,this._dl=0x5f1d36f1,this._el=0xade682d1,this._fl=0x2b3e6c1f,this._gl=0xfb41bd6b,this._hl=0x137e2179,this},a.prototype._update=function(t){for(var e=this._w,i=0|this._ah,r=0|this._bh,n=0|this._ch,o=0|this._dh,a=0|this._eh,u=0|this._fh,c=0|this._gh,d=0|this._hh,p=0|this._al,b=0|this._bl,g=0|this._cl,m=0|this._dl,y=0|this._el,v=0|this._fl,_=0|this._gl,w=0|this._hl,x=0;x<32;x+=2)e[x]=t.readInt32BE(4*x),e[x+1]=t.readInt32BE(4*x+4);for(;x<160;x+=2){var S,E,k,A,M,T,I,P,O=e[x-30],B=e[x-30+1],C=((S=O)>>>1|(E=B)<<31)^(S>>>8|E<<24)^S>>>7,R=((k=B)>>>1|(A=O)<<31)^(k>>>8|A<<24)^(k>>>7|A<<25);O=e[x-4],B=e[x-4+1];var L=((M=O)>>>19|(T=B)<<13)^(T>>>29|M<<3)^M>>>6,N=((I=B)>>>19|(P=O)<<13)^(P>>>29|I<<3)^(I>>>6|P<<26),D=e[x-14],U=e[x-14+1],H=e[x-32],j=e[x-32+1],F=R+U|0,q=C+D+f(F,R)|0;q=(q=q+L+f(F=F+N|0,N)|0)+H+f(F=F+j|0,j)|0,e[x]=q,e[x+1]=F}for(var $=0;$<160;$+=2){q=e[$],F=e[$+1];var z,V,W,K,Q,G,X,Y,Z,J,tt=(z=i)&(V=r)|n&(z|V),te=(W=p)&(K=b)|g&(W|K),ti=l(i,p),tr=l(p,i),tn=h(a,y),ts=h(y,a),to=s[$],ta=s[$+1],tl=(Q=a,G=u,(X=c)^Q&(G^X)),th=(Y=y,Z=v,(J=_)^Y&(Z^J)),tf=w+ts|0,tu=d+tn+f(tf,w)|0;tu=(tu=(tu=tu+tl+f(tf=tf+th|0,th)|0)+to+f(tf=tf+ta|0,ta)|0)+q+f(tf=tf+F|0,F)|0;var tc=tr+te|0,td=ti+tt+f(tc,tr)|0;d=c,w=_,c=u,_=v,u=a,v=y,a=o+tu+f(y=m+tf|0,m)|0,o=n,m=g,n=r,g=b,r=i,b=p,i=tu+td+f(p=tf+tc|0,tf)|0}this._al=this._al+p|0,this._bl=this._bl+b|0,this._cl=this._cl+g|0,this._dl=this._dl+m|0,this._el=this._el+y|0,this._fl=this._fl+v|0,this._gl=this._gl+_|0,this._hl=this._hl+w|0,this._ah=this._ah+i+f(this._al,p)|0,this._bh=this._bh+r+f(this._bl,b)|0,this._ch=this._ch+n+f(this._cl,g)|0,this._dh=this._dh+o+f(this._dl,m)|0,this._eh=this._eh+a+f(this._el,y)|0,this._fh=this._fh+u+f(this._fl,v)|0,this._gh=this._gh+c+f(this._gl,_)|0,this._hh=this._hh+d+f(this._hl,w)|0},a.prototype._hash=function(){var t=n.allocUnsafe(64);function e(e,i,r){t.writeInt32BE(e,r),t.writeInt32BE(i,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=a}),tk("fr4Yq",function(t,e){let i={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function r(t,e){if(!t)throw Error(e)}function n(t,e,i){if(r(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),void 0!==i){if(Array.isArray(i)){let n=i.join(", "),s=`Expected ${t} to be an Uint8Array with length [${n}]`;r(i.includes(e.length),s)}else{let n=`Expected ${t} to be an Uint8Array with length ${i}`;r(e.length===i,n)}}}function s(t){r("Boolean"===a(t),"Expected compressed to be a Boolean")}function o(t=t=>new Uint8Array(t),e){return"function"==typeof t&&(t=t(e)),n("output",t,e),t}function a(t){return Object.prototype.toString.call(t).slice(8,-1)}t.exports=t=>({contextRandomize(e){if(r(null===e||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==e&&n("seed",e,32),1===t.contextRandomize(e))throw Error(i.CONTEXT_RANDOMIZE_UNKNOW)},privateKeyVerify:e=>(n("private key",e,32),0===t.privateKeyVerify(e)),privateKeyNegate(e){switch(n("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw Error(i.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(n("private key",e,32),n("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw Error(i.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(n("private key",e,32),n("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw Error(i.TWEAK_MUL)}},publicKeyVerify:e=>(n("public key",e,[33,65]),0===t.publicKeyVerify(e)),publicKeyCreate(e,r=!0,a){switch(n("private key",e,32),s(r),a=o(a,r?33:65),t.publicKeyCreate(a,e)){case 0:return a;case 1:throw Error(i.SECKEY_INVALID);case 2:throw Error(i.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,a){switch(n("public key",e,[33,65]),s(r),a=o(a,r?33:65),t.publicKeyConvert(a,e)){case 0:return a;case 1:throw Error(i.PUBKEY_PARSE);case 2:throw Error(i.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,a){switch(n("public key",e,[33,65]),s(r),a=o(a,r?33:65),t.publicKeyNegate(a,e)){case 0:return a;case 1:throw Error(i.PUBKEY_PARSE);case 2:throw Error(i.IMPOSSIBLE_CASE);case 3:throw Error(i.PUBKEY_SERIALIZE)}},publicKeyCombine(e,a=!0,l){for(let t of(r(Array.isArray(e),"Expected public keys to be an Array"),r(e.length>0,"Expected public keys array will have more than zero items"),e))n("public key",t,[33,65]);switch(s(a),l=o(l,a?33:65),t.publicKeyCombine(l,e)){case 0:return l;case 1:throw Error(i.PUBKEY_PARSE);case 2:throw Error(i.PUBKEY_COMBINE);case 3:throw Error(i.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,a=!0,l){switch(n("public key",e,[33,65]),n("tweak",r,32),s(a),l=o(l,a?33:65),t.publicKeyTweakAdd(l,e,r)){case 0:return l;case 1:throw Error(i.PUBKEY_PARSE);case 2:throw Error(i.TWEAK_ADD)}},publicKeyTweakMul(e,r,a=!0,l){switch(n("public key",e,[33,65]),n("tweak",r,32),s(a),l=o(l,a?33:65),t.publicKeyTweakMul(l,e,r)){case 0:return l;case 1:throw Error(i.PUBKEY_PARSE);case 2:throw Error(i.TWEAK_MUL)}},signatureNormalize(e){switch(n("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw Error(i.SIG_PARSE)}},signatureExport(e,r){n("signature",e,64);let s={output:r=o(r,72),outputlen:72};switch(t.signatureExport(s,e)){case 0:return r.slice(0,s.outputlen);case 1:throw Error(i.SIG_PARSE);case 2:throw Error(i.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(n("signature",e),r=o(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw Error(i.SIG_PARSE);case 2:throw Error(i.IMPOSSIBLE_CASE)}},ecdsaSign(e,s,l={},h){n("message",e,32),n("private key",s,32),r("Object"===a(l),"Expected options to be an Object"),void 0!==l.data&&n("options.data",l.data),void 0!==l.noncefn&&r("Function"===a(l.noncefn),"Expected options.noncefn to be a Function");let f={signature:h=o(h,64),recid:null};switch(t.ecdsaSign(f,e,s,l.data,l.noncefn)){case 0:return f;case 1:throw Error(i.SIGN);case 2:throw Error(i.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,s){switch(n("signature",e,64),n("message",r,32),n("public key",s,[33,65]),t.ecdsaVerify(e,r,s)){case 0:return!0;case 3:return!1;case 1:throw Error(i.SIG_PARSE);case 2:throw Error(i.PUBKEY_PARSE)}},ecdsaRecover(e,l,h,f=!0,u){switch(n("signature",e,64),r("Number"===a(l)&&l>=0&&l<=3,"Expected recovery id to be a Number within interval [0, 3]"),n("message",h,32),s(f),u=o(u,f?33:65),t.ecdsaRecover(u,e,l,h)){case 0:return u;case 1:throw Error(i.SIG_PARSE);case 2:throw Error(i.RECOVER);case 3:throw Error(i.IMPOSSIBLE_CASE)}},ecdh(e,s,l={},h){switch(n("public key",e,[33,65]),n("private key",s,32),r("Object"===a(l),"Expected options to be an Object"),void 0!==l.data&&n("options.data",l.data),void 0!==l.hashfn?(r("Function"===a(l.hashfn),"Expected options.hashfn to be a Function"),void 0!==l.xbuf&&n("options.xbuf",l.xbuf,32),void 0!==l.ybuf&&n("options.ybuf",l.ybuf,32),n("output",h)):h=o(h,32),t.ecdh(h,e,s,l.data,l.hashfn,l.xbuf,l.ybuf)){case 0:return h;case 1:throw Error(i.PUBKEY_PARSE);case 2:throw Error(i.ECDH)}}})}),tk("ejO33",function(t,e){let i=new(tE("1zUcV")).ec("secp256k1"),r=i.curve,n=r.n.constructor;function s(t){let e=t[0];switch(e){case 2:case 3:if(33!==t.length)return null;return function(t,e){let s=new n(e);if(s.cmp(r.p)>=0)return null;let o=(s=s.toRed(r.red)).redSqr().redIMul(s).redIAdd(r.b).redSqrt();3===t!==o.isOdd()&&(o=o.redNeg());let a=s.redSqr().redIMul(s);return o.redSqr().redISub(a.redIAdd(r.b)).isZero()?i.keyPair({pub:{x:s,y:o}}):null}(e,t.subarray(1,33));case 4:case 6:case 7:if(65!==t.length)return null;return function(t,e,s){let o=new n(e),a=new n(s);if(o.cmp(r.p)>=0||a.cmp(r.p)>=0||(o=o.toRed(r.red),a=a.toRed(r.red),(6===t||7===t)&&a.isOdd()!==(7===t)))return null;let l=o.redSqr().redIMul(o);return a.redSqr().redISub(l.redIAdd(r.b)).isZero()?i.keyPair({pub:{x:o,y:a}}):null}(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function o(t,e){let i=e.encode(null,33===t.length);for(let e=0;e<t.length;++e)t[e]=i[e]}t.exports={contextRandomize:()=>0,privateKeyVerify(t){let e=new n(t);return 0>e.cmp(r.n)&&!e.isZero()?0:1},privateKeyNegate(t){let e=new n(t),i=r.n.sub(e).umod(r.n).toArrayLike(Uint8Array,"be",32);return t.set(i),0},privateKeyTweakAdd(t,e){let i=new n(e);if(i.cmp(r.n)>=0||(i.iadd(new n(t)),i.cmp(r.n)>=0&&i.isub(r.n),i.isZero()))return 1;let s=i.toArrayLike(Uint8Array,"be",32);return t.set(s),0},privateKeyTweakMul(t,e){let i=new n(e);if(i.cmp(r.n)>=0||i.isZero())return 1;i.imul(new n(t)),i.cmp(r.n)>=0&&(i=i.umod(r.n));let s=i.toArrayLike(Uint8Array,"be",32);return t.set(s),0},publicKeyVerify:t=>+(null===s(t)),publicKeyCreate(t,e){let s=new n(e);return s.cmp(r.n)>=0||s.isZero()?1:(o(t,i.keyFromPrivate(e).getPublic()),0)},publicKeyConvert(t,e){let i=s(e);return null===i?1:(o(t,i.getPublic()),0)},publicKeyNegate(t,e){let i=s(e);if(null===i)return 1;let r=i.getPublic();return r.y=r.y.redNeg(),o(t,r),0},publicKeyCombine(t,e){let i=Array(e.length);for(let t=0;t<e.length;++t)if(i[t]=s(e[t]),null===i[t])return 1;let r=i[0].getPublic();for(let t=1;t<i.length;++t)r=r.add(i[t].pub);return r.isInfinity()?2:(o(t,r),0)},publicKeyTweakAdd(t,e,i){let a=s(e);if(null===a)return 1;if((i=new n(i)).cmp(r.n)>=0)return 2;let l=a.getPublic().add(r.g.mul(i));return l.isInfinity()?2:(o(t,l),0)},publicKeyTweakMul(t,e,i){let a=s(e);return null===a?1:(i=new n(i)).cmp(r.n)>=0||i.isZero()?2:(o(t,a.getPublic().mul(i)),0)},signatureNormalize(t){let e=new n(t.subarray(0,32)),s=new n(t.subarray(32,64));return e.cmp(r.n)>=0||s.cmp(r.n)>=0?1:(1===s.cmp(i.nh)&&t.set(r.n.sub(s).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let i=e.subarray(0,32),s=e.subarray(32,64);if(new n(i).cmp(r.n)>=0||new n(s).cmp(r.n)>=0)return 1;let{output:o}=t,a=o.subarray(4,37);a[0]=0,a.set(i,1);let l=33,h=0;for(;l>1&&0===a[h]&&!(128&a[h+1]);--l,++h);if(128&(a=a.subarray(h))[0]||l>1&&0===a[0]&&!(128&a[1]))return 1;let f=o.subarray(39,72);f[0]=0,f.set(s,1);let u=33,c=0;for(;u>1&&0===f[c]&&!(128&f[c+1]);--u,++c);return 128&(f=f.subarray(c))[0]||u>1&&0===f[0]&&!(128&f[1])?1:(t.outputlen=6+l+u,o[0]=48,o[1]=t.outputlen-2,o[2]=2,o[3]=a.length,o.set(a,4),o[4+l]=2,o[5+l]=f.length,o.set(f,6+l),0)},signatureImport(t,e){if(e.length<8||e.length>72||48!==e[0]||e[1]!==e.length-2||2!==e[2])return 1;let i=e[3];if(0===i||5+i>=e.length||2!==e[4+i])return 1;let s=e[5+i];if(0===s||6+i+s!==e.length||128&e[4]||i>1&&0===e[4]&&!(128&e[5])||128&e[i+6]||s>1&&0===e[i+6]&&!(128&e[i+7]))return 1;let o=e.subarray(4,4+i);if(33===o.length&&0===o[0]&&(o=o.subarray(1)),o.length>32)return 1;let a=e.subarray(6+i);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw Error("S length is too long");let l=new n(o);l.cmp(r.n)>=0&&(l=new n(0));let h=new n(e.subarray(6+i));return h.cmp(r.n)>=0&&(h=new n(0)),t.set(l.toArrayLike(Uint8Array,"be",32),0),t.set(h.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,s,o,a){let l;if(a){let t=a;a=i=>{let r=t(e,s,null,o,i);if(!(r instanceof Uint8Array&&32===r.length))throw Error("This is the way");return new n(r)}}let h=new n(s);if(h.cmp(r.n)>=0||h.isZero())return 1;try{l=i.sign(e,s,{canonical:!0,k:a,pers:o})}catch(t){return 1}return t.signature.set(l.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(l.s.toArrayLike(Uint8Array,"be",32),32),t.recid=l.recoveryParam,0},ecdsaVerify(t,e,o){let a={r:t.subarray(0,32),s:t.subarray(32,64)},l=new n(a.r),h=new n(a.s);if(l.cmp(r.n)>=0||h.cmp(r.n)>=0)return 1;if(1===h.cmp(i.nh)||l.isZero()||h.isZero())return 3;let f=s(o);if(null===f)return 2;let u=f.getPublic();return 3*!i.verify(e,a,u)},ecdsaRecover(t,e,s,a){let l,h={r:e.slice(0,32),s:e.slice(32,64)},f=new n(h.r),u=new n(h.s);if(f.cmp(r.n)>=0||u.cmp(r.n)>=0)return 1;if(f.isZero()||u.isZero())return 2;try{l=i.recoverPubKey(a,h,s)}catch(t){return 2}return o(t,l),0},ecdh(t,e,o,a,l,h,f){let u=s(e);if(null===u)return 1;let c=new n(o);if(c.cmp(r.n)>=0||c.isZero())return 2;let d=u.getPublic().mul(c);if(void 0===l){let e=d.encode(null,!0),r=i.hash().update(e).digest();for(let e=0;e<32;++e)t[e]=r[e]}else{h||(h=new Uint8Array(32));let e=d.getX().toArray("be",32);for(let t=0;t<32;++t)h[t]=e[t];f||(f=new Uint8Array(32));let i=d.getY().toArray("be",32);for(let t=0;t<32;++t)f[t]=i[t];let r=l(h,f,a);if(!(r instanceof Uint8Array&&r.length===t.length))return 2;t.set(r)}return 0}}}),tk("1zUcV",function(t,e){var i=t.exports;i.version=tE("fuV4H").version,i.utils=tE("gEVtY"),i.rand=tE("7JHF0"),i.curve=tE("cP1GP"),i.curves=tE("fbTbW"),i.ec=tE("220Zx"),i.eddsa=tE("esmmS")}),tk("fuV4H",function(t,e){t.exports=JSON.parse('{"name":"elliptic","version":"6.6.1","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')}),tk("gEVtY",function(t,e){var i=t.exports,r=tE("dEXSZ"),n=tE("koC21"),s=tE("lC4vN");i.assert=n,i.toArray=s.toArray,i.zero2=s.zero2,i.toHex=s.toHex,i.encode=s.encode,i.getNAF=function(t,e,i){var r=Array(Math.max(t.bitLength(),i)+1);for(o=0;o<r.length;o+=1)r[o]=0;var n=1<<e+1,s=t.clone();for(o=0;o<r.length;o++){var o,a,l=s.andln(n-1);s.isOdd()?(a=l>(n>>1)-1?(n>>1)-l:l,s.isubn(a)):a=0,r[o]=a,s.iushrn(1)}return r},i.getJSF=function(t,e){var i=[[],[]];t=t.clone(),e=e.clone();for(var r=0,n=0;t.cmpn(-r)>0||e.cmpn(-n)>0;){var s,o,a,l=t.andln(3)+r&3,h=e.andln(3)+n&3;3===l&&(l=-1),3===h&&(h=-1),o=(1&l)==0?0:(3==(s=t.andln(7)+r&7)||5===s)&&2===h?-l:l,i[0].push(o),a=(1&h)==0?0:(3==(s=e.andln(7)+n&7)||5===s)&&2===l?-h:h,i[1].push(a),2*r===o+1&&(r=1-r),2*n===a+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return i},i.cachedProperty=function(t,e,i){var r="_"+e;t.prototype[e]=function(){return void 0!==this[r]?this[r]:this[r]=i.call(this)}},i.parseBytes=function(t){return"string"==typeof t?i.toArray(t,"hex"):t},i.intFromLE=function(t){return new r(t,"hex","le")}}),tk("dEXSZ",function(t,e){!function(t,e){function i(t,e){if(!t)throw Error(e||"Assertion failed")}function r(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function n(t,e,i){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(i=e,e=10),this._init(t||0,e||10,i||"be"))}"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{l="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:tE("kjyEk").Buffer}catch(t){}function s(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function o(t,e,i){var r=s(t,i);return i-1>=e&&(r|=s(t,i-1)<<4),r}function a(t,e,i,r){for(var n=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;n*=r,a>=49?n+=a-49+10:a>=17?n+=a-17+10:n+=a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return 0>t.cmp(e)?t:e},n.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},n.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<0x4000000?(this.words=[0x3ffffff&t],this.length=1):t<0x10000000000000?(this.words=[0x3ffffff&t,t/0x4000000&0x3ffffff],this.length=2):(i(t<0x20000000000000),this.words=[0x3ffffff&t,t/0x4000000&0x3ffffff,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},n.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=Array(this.length);for(var n,s,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===r)for(o=t.length-1,n=0;o>=0;o-=3)s=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[n]|=s<<a&0x3ffffff,this.words[n+1]=s>>>26-a&0x3ffffff,(a+=24)>=26&&(a-=26,n++);else if("le"===r)for(o=0,n=0;o<t.length;o+=3)s=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[n]|=s<<a&0x3ffffff,this.words[n+1]=s>>>26-a&0x3ffffff,(a+=24)>=26&&(a-=26,n++);return this.strip()},n.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=Array(this.length);for(var r,n=0;n<this.length;n++)this.words[n]=0;var s=0,a=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=o(t,e,n)<<s,this.words[a]|=0x3ffffff&r,s>=18?(s-=18,a+=1,this.words[a]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=o(t,e,n)<<s,this.words[a]|=0x3ffffff&r,s>=18?(s-=18,a+=1,this.words[a]|=r>>>26):s+=8;this.strip()},n.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=0x3ffffff;n*=e)r++;r--,n=n/e|0;for(var s=t.length-i,o=s%r,l=Math.min(s,s-o)+i,h=0,f=i;f<l;f+=r)h=a(t,f,f+r,e),this.imuln(n),this.words[0]+h<0x4000000?this.words[0]+=h:this._iaddn(h);if(0!==o){var u=1;for(h=a(t,f,t.length,e),f=0;f<o;f++)u*=e;this.imuln(u),this.words[0]+h<0x4000000?this.words[0]+=h:this._iaddn(h)}this.strip()},n.prototype.copy=function(t){t.words=Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l,h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];function c(t,e,i){i.negative=e.negative^t.negative;var r=t.length+e.length|0;i.length=r,r=r-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=0x3ffffff&o,l=o/0x4000000|0;i.words[0]=a;for(var h=1;h<r;h++){for(var f=l>>>26,u=0x3ffffff&l,c=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=c;d++){var p=h-d|0;f+=(o=(n=0|t.words[p])*(s=0|e.words[d])+u)/0x4000000|0,u=0x3ffffff&o}i.words[h]=0|u,l=0|f}return 0!==l?i.words[h]=0|l:i.length--,i.strip()}n.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){for(var r="",n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],l=((a<<n|s)&0xffffff).toString(16);s=a>>>24-n&0xffffff,(n+=2)>=26&&(n-=26,o--),r=0!==s||o!==this.length-1?h[6-l.length]+l+r:l+r}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=f[t],d=u[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?b+r:h[c-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=0x4000000*this.words[1]:3===this.length&&1===this.words[2]?t+=0x10000000000000+0x4000000*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return i(void 0!==l),this.toArrayLike(l,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,r){var n,s,o=this.byteLength(),a=r||Math.max(1,o);i(o<=a,"byte array longer than desired length"),i(a>0,"Requested array length <= 0"),this.strip();var l=new t(a),h=this.clone();if("le"===e){for(s=0;!h.isZero();s++)n=h.andln(255),h.iushrn(8),l[s]=n;for(;s<a;s++)l[s]=0}else{for(s=0;s<a-o;s++)l[s]=0;for(s=0;!h.isZero();s++)n=h.andln(255),h.iushrn(8),l[a-s-1]=n}return l},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return(8191&e)==0&&(i+=13,e>>>=13),(127&e)==0&&(i+=7,e>>>=7),(15&e)==0&&(i+=4,e>>>=4),(3&e)==0&&(i+=2,e>>>=2),(1&e)==0&&i++,i},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return i((this.negative|t.negative)==0),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return i((this.negative|t.negative)==0),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){this.length>t.length?(e=this,i=t):(e=t,i=this);for(var e,i,r=0;r<i.length;r++)this.words[r]=e.words[r]^i.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return i((this.negative|t.negative)==0),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=0x3ffffff&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&0x3ffffff>>26-r),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),e?this.words[r]=this.words[r]|1<<n:this.words[r]=this.words[r]&~(1<<n),this.strip()},n.prototype.iadd=function(t){if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,r=t):(i=t,r=this);for(var e,i,r,n=0,s=0;s<r.length;s++)e=(0|i.words[s])+(0|r.words[s])+n,this.words[s]=0x3ffffff&e,n=e>>>26;for(;0!==n&&s<i.length;s++)e=(0|i.words[s])+n,this.words[s]=0x3ffffff&e,n=e>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e,i,r=this.iadd(t);return t.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(e=this,i=t):(e=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(r=(0|e.words[o])-(0|i.words[o])+s)>>26,this.words[o]=0x3ffffff&r;for(;0!==s&&o<e.length;o++)s=(r=(0|e.words[o])+s)>>26,this.words[o]=0x3ffffff&r;if(0===s&&o<e.length&&e!==this)for(;o<e.length;o++)this.words[o]=e.words[o];return this.length=Math.max(this.length,o),e!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,i){var r,n,s,o=t.words,a=e.words,l=i.words,h=0,f=0|o[0],u=8191&f,c=f>>>13,d=0|o[1],p=8191&d,b=d>>>13,g=0|o[2],m=8191&g,y=g>>>13,v=0|o[3],_=8191&v,w=v>>>13,x=0|o[4],S=8191&x,E=x>>>13,k=0|o[5],A=8191&k,M=k>>>13,T=0|o[6],I=8191&T,P=T>>>13,O=0|o[7],B=8191&O,C=O>>>13,R=0|o[8],L=8191&R,N=R>>>13,D=0|o[9],U=8191&D,H=D>>>13,j=0|a[0],F=8191&j,q=j>>>13,$=0|a[1],z=8191&$,V=$>>>13,W=0|a[2],K=8191&W,Q=W>>>13,G=0|a[3],X=8191&G,Y=G>>>13,Z=0|a[4],J=8191&Z,tt=Z>>>13,te=0|a[5],ti=8191&te,tr=te>>>13,tn=0|a[6],ts=8191&tn,to=tn>>>13,ta=0|a[7],tl=8191&ta,th=ta>>>13,tf=0|a[8],tu=8191&tf,tc=tf>>>13,td=0|a[9],tp=8191&td,tb=td>>>13;i.negative=t.negative^e.negative,i.length=19,r=Math.imul(u,F);var tg=(h+r|0)+((8191&(n=(n=Math.imul(u,q))+Math.imul(c,F)|0))<<13)|0;h=((s=Math.imul(c,q))+(n>>>13)|0)+(tg>>>26)|0,tg&=0x3ffffff,r=Math.imul(p,F),n=(n=Math.imul(p,q))+Math.imul(b,F)|0,s=Math.imul(b,q),r=r+Math.imul(u,z)|0;var tm=(h+r|0)+((8191&(n=(n=n+Math.imul(u,V)|0)+Math.imul(c,z)|0))<<13)|0;h=((s=s+Math.imul(c,V)|0)+(n>>>13)|0)+(tm>>>26)|0,tm&=0x3ffffff,r=Math.imul(m,F),n=(n=Math.imul(m,q))+Math.imul(y,F)|0,s=Math.imul(y,q),r=r+Math.imul(p,z)|0,n=(n=n+Math.imul(p,V)|0)+Math.imul(b,z)|0,s=s+Math.imul(b,V)|0,r=r+Math.imul(u,K)|0;var ty=(h+r|0)+((8191&(n=(n=n+Math.imul(u,Q)|0)+Math.imul(c,K)|0))<<13)|0;h=((s=s+Math.imul(c,Q)|0)+(n>>>13)|0)+(ty>>>26)|0,ty&=0x3ffffff,r=Math.imul(_,F),n=(n=Math.imul(_,q))+Math.imul(w,F)|0,s=Math.imul(w,q),r=r+Math.imul(m,z)|0,n=(n=n+Math.imul(m,V)|0)+Math.imul(y,z)|0,s=s+Math.imul(y,V)|0,r=r+Math.imul(p,K)|0,n=(n=n+Math.imul(p,Q)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,Q)|0,r=r+Math.imul(u,X)|0;var tv=(h+r|0)+((8191&(n=(n=n+Math.imul(u,Y)|0)+Math.imul(c,X)|0))<<13)|0;h=((s=s+Math.imul(c,Y)|0)+(n>>>13)|0)+(tv>>>26)|0,tv&=0x3ffffff,r=Math.imul(S,F),n=(n=Math.imul(S,q))+Math.imul(E,F)|0,s=Math.imul(E,q),r=r+Math.imul(_,z)|0,n=(n=n+Math.imul(_,V)|0)+Math.imul(w,z)|0,s=s+Math.imul(w,V)|0,r=r+Math.imul(m,K)|0,n=(n=n+Math.imul(m,Q)|0)+Math.imul(y,K)|0,s=s+Math.imul(y,Q)|0,r=r+Math.imul(p,X)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,Y)|0,r=r+Math.imul(u,J)|0;var t_=(h+r|0)+((8191&(n=(n=n+Math.imul(u,tt)|0)+Math.imul(c,J)|0))<<13)|0;h=((s=s+Math.imul(c,tt)|0)+(n>>>13)|0)+(t_>>>26)|0,t_&=0x3ffffff,r=Math.imul(A,F),n=(n=Math.imul(A,q))+Math.imul(M,F)|0,s=Math.imul(M,q),r=r+Math.imul(S,z)|0,n=(n=n+Math.imul(S,V)|0)+Math.imul(E,z)|0,s=s+Math.imul(E,V)|0,r=r+Math.imul(_,K)|0,n=(n=n+Math.imul(_,Q)|0)+Math.imul(w,K)|0,s=s+Math.imul(w,Q)|0,r=r+Math.imul(m,X)|0,n=(n=n+Math.imul(m,Y)|0)+Math.imul(y,X)|0,s=s+Math.imul(y,Y)|0,r=r+Math.imul(p,J)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(b,J)|0,s=s+Math.imul(b,tt)|0,r=r+Math.imul(u,ti)|0;var tw=(h+r|0)+((8191&(n=(n=n+Math.imul(u,tr)|0)+Math.imul(c,ti)|0))<<13)|0;h=((s=s+Math.imul(c,tr)|0)+(n>>>13)|0)+(tw>>>26)|0,tw&=0x3ffffff,r=Math.imul(I,F),n=(n=Math.imul(I,q))+Math.imul(P,F)|0,s=Math.imul(P,q),r=r+Math.imul(A,z)|0,n=(n=n+Math.imul(A,V)|0)+Math.imul(M,z)|0,s=s+Math.imul(M,V)|0,r=r+Math.imul(S,K)|0,n=(n=n+Math.imul(S,Q)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,Q)|0,r=r+Math.imul(_,X)|0,n=(n=n+Math.imul(_,Y)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,Y)|0,r=r+Math.imul(m,J)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,r=r+Math.imul(p,ti)|0,n=(n=n+Math.imul(p,tr)|0)+Math.imul(b,ti)|0,s=s+Math.imul(b,tr)|0,r=r+Math.imul(u,ts)|0;var tx=(h+r|0)+((8191&(n=(n=n+Math.imul(u,to)|0)+Math.imul(c,ts)|0))<<13)|0;h=((s=s+Math.imul(c,to)|0)+(n>>>13)|0)+(tx>>>26)|0,tx&=0x3ffffff,r=Math.imul(B,F),n=(n=Math.imul(B,q))+Math.imul(C,F)|0,s=Math.imul(C,q),r=r+Math.imul(I,z)|0,n=(n=n+Math.imul(I,V)|0)+Math.imul(P,z)|0,s=s+Math.imul(P,V)|0,r=r+Math.imul(A,K)|0,n=(n=n+Math.imul(A,Q)|0)+Math.imul(M,K)|0,s=s+Math.imul(M,Q)|0,r=r+Math.imul(S,X)|0,n=(n=n+Math.imul(S,Y)|0)+Math.imul(E,X)|0,s=s+Math.imul(E,Y)|0,r=r+Math.imul(_,J)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(w,J)|0,s=s+Math.imul(w,tt)|0,r=r+Math.imul(m,ti)|0,n=(n=n+Math.imul(m,tr)|0)+Math.imul(y,ti)|0,s=s+Math.imul(y,tr)|0,r=r+Math.imul(p,ts)|0,n=(n=n+Math.imul(p,to)|0)+Math.imul(b,ts)|0,s=s+Math.imul(b,to)|0,r=r+Math.imul(u,tl)|0;var tS=(h+r|0)+((8191&(n=(n=n+Math.imul(u,th)|0)+Math.imul(c,tl)|0))<<13)|0;h=((s=s+Math.imul(c,th)|0)+(n>>>13)|0)+(tS>>>26)|0,tS&=0x3ffffff,r=Math.imul(L,F),n=(n=Math.imul(L,q))+Math.imul(N,F)|0,s=Math.imul(N,q),r=r+Math.imul(B,z)|0,n=(n=n+Math.imul(B,V)|0)+Math.imul(C,z)|0,s=s+Math.imul(C,V)|0,r=r+Math.imul(I,K)|0,n=(n=n+Math.imul(I,Q)|0)+Math.imul(P,K)|0,s=s+Math.imul(P,Q)|0,r=r+Math.imul(A,X)|0,n=(n=n+Math.imul(A,Y)|0)+Math.imul(M,X)|0,s=s+Math.imul(M,Y)|0,r=r+Math.imul(S,J)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(E,J)|0,s=s+Math.imul(E,tt)|0,r=r+Math.imul(_,ti)|0,n=(n=n+Math.imul(_,tr)|0)+Math.imul(w,ti)|0,s=s+Math.imul(w,tr)|0,r=r+Math.imul(m,ts)|0,n=(n=n+Math.imul(m,to)|0)+Math.imul(y,ts)|0,s=s+Math.imul(y,to)|0,r=r+Math.imul(p,tl)|0,n=(n=n+Math.imul(p,th)|0)+Math.imul(b,tl)|0,s=s+Math.imul(b,th)|0,r=r+Math.imul(u,tu)|0;var tE=(h+r|0)+((8191&(n=(n=n+Math.imul(u,tc)|0)+Math.imul(c,tu)|0))<<13)|0;h=((s=s+Math.imul(c,tc)|0)+(n>>>13)|0)+(tE>>>26)|0,tE&=0x3ffffff,r=Math.imul(U,F),n=(n=Math.imul(U,q))+Math.imul(H,F)|0,s=Math.imul(H,q),r=r+Math.imul(L,z)|0,n=(n=n+Math.imul(L,V)|0)+Math.imul(N,z)|0,s=s+Math.imul(N,V)|0,r=r+Math.imul(B,K)|0,n=(n=n+Math.imul(B,Q)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,Q)|0,r=r+Math.imul(I,X)|0,n=(n=n+Math.imul(I,Y)|0)+Math.imul(P,X)|0,s=s+Math.imul(P,Y)|0,r=r+Math.imul(A,J)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(M,J)|0,s=s+Math.imul(M,tt)|0,r=r+Math.imul(S,ti)|0,n=(n=n+Math.imul(S,tr)|0)+Math.imul(E,ti)|0,s=s+Math.imul(E,tr)|0,r=r+Math.imul(_,ts)|0,n=(n=n+Math.imul(_,to)|0)+Math.imul(w,ts)|0,s=s+Math.imul(w,to)|0,r=r+Math.imul(m,tl)|0,n=(n=n+Math.imul(m,th)|0)+Math.imul(y,tl)|0,s=s+Math.imul(y,th)|0,r=r+Math.imul(p,tu)|0,n=(n=n+Math.imul(p,tc)|0)+Math.imul(b,tu)|0,s=s+Math.imul(b,tc)|0,r=r+Math.imul(u,tp)|0;var tk=(h+r|0)+((8191&(n=(n=n+Math.imul(u,tb)|0)+Math.imul(c,tp)|0))<<13)|0;h=((s=s+Math.imul(c,tb)|0)+(n>>>13)|0)+(tk>>>26)|0,tk&=0x3ffffff,r=Math.imul(U,z),n=(n=Math.imul(U,V))+Math.imul(H,z)|0,s=Math.imul(H,V),r=r+Math.imul(L,K)|0,n=(n=n+Math.imul(L,Q)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,Q)|0,r=r+Math.imul(B,X)|0,n=(n=n+Math.imul(B,Y)|0)+Math.imul(C,X)|0,s=s+Math.imul(C,Y)|0,r=r+Math.imul(I,J)|0,n=(n=n+Math.imul(I,tt)|0)+Math.imul(P,J)|0,s=s+Math.imul(P,tt)|0,r=r+Math.imul(A,ti)|0,n=(n=n+Math.imul(A,tr)|0)+Math.imul(M,ti)|0,s=s+Math.imul(M,tr)|0,r=r+Math.imul(S,ts)|0,n=(n=n+Math.imul(S,to)|0)+Math.imul(E,ts)|0,s=s+Math.imul(E,to)|0,r=r+Math.imul(_,tl)|0,n=(n=n+Math.imul(_,th)|0)+Math.imul(w,tl)|0,s=s+Math.imul(w,th)|0,r=r+Math.imul(m,tu)|0,n=(n=n+Math.imul(m,tc)|0)+Math.imul(y,tu)|0,s=s+Math.imul(y,tc)|0,r=r+Math.imul(p,tp)|0;var tA=(h+r|0)+((8191&(n=(n=n+Math.imul(p,tb)|0)+Math.imul(b,tp)|0))<<13)|0;h=((s=s+Math.imul(b,tb)|0)+(n>>>13)|0)+(tA>>>26)|0,tA&=0x3ffffff,r=Math.imul(U,K),n=(n=Math.imul(U,Q))+Math.imul(H,K)|0,s=Math.imul(H,Q),r=r+Math.imul(L,X)|0,n=(n=n+Math.imul(L,Y)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Y)|0,r=r+Math.imul(B,J)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(C,J)|0,s=s+Math.imul(C,tt)|0,r=r+Math.imul(I,ti)|0,n=(n=n+Math.imul(I,tr)|0)+Math.imul(P,ti)|0,s=s+Math.imul(P,tr)|0,r=r+Math.imul(A,ts)|0,n=(n=n+Math.imul(A,to)|0)+Math.imul(M,ts)|0,s=s+Math.imul(M,to)|0,r=r+Math.imul(S,tl)|0,n=(n=n+Math.imul(S,th)|0)+Math.imul(E,tl)|0,s=s+Math.imul(E,th)|0,r=r+Math.imul(_,tu)|0,n=(n=n+Math.imul(_,tc)|0)+Math.imul(w,tu)|0,s=s+Math.imul(w,tc)|0,r=r+Math.imul(m,tp)|0;var tM=(h+r|0)+((8191&(n=(n=n+Math.imul(m,tb)|0)+Math.imul(y,tp)|0))<<13)|0;h=((s=s+Math.imul(y,tb)|0)+(n>>>13)|0)+(tM>>>26)|0,tM&=0x3ffffff,r=Math.imul(U,X),n=(n=Math.imul(U,Y))+Math.imul(H,X)|0,s=Math.imul(H,Y),r=r+Math.imul(L,J)|0,n=(n=n+Math.imul(L,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,r=r+Math.imul(B,ti)|0,n=(n=n+Math.imul(B,tr)|0)+Math.imul(C,ti)|0,s=s+Math.imul(C,tr)|0,r=r+Math.imul(I,ts)|0,n=(n=n+Math.imul(I,to)|0)+Math.imul(P,ts)|0,s=s+Math.imul(P,to)|0,r=r+Math.imul(A,tl)|0,n=(n=n+Math.imul(A,th)|0)+Math.imul(M,tl)|0,s=s+Math.imul(M,th)|0,r=r+Math.imul(S,tu)|0,n=(n=n+Math.imul(S,tc)|0)+Math.imul(E,tu)|0,s=s+Math.imul(E,tc)|0,r=r+Math.imul(_,tp)|0;var tT=(h+r|0)+((8191&(n=(n=n+Math.imul(_,tb)|0)+Math.imul(w,tp)|0))<<13)|0;h=((s=s+Math.imul(w,tb)|0)+(n>>>13)|0)+(tT>>>26)|0,tT&=0x3ffffff,r=Math.imul(U,J),n=(n=Math.imul(U,tt))+Math.imul(H,J)|0,s=Math.imul(H,tt),r=r+Math.imul(L,ti)|0,n=(n=n+Math.imul(L,tr)|0)+Math.imul(N,ti)|0,s=s+Math.imul(N,tr)|0,r=r+Math.imul(B,ts)|0,n=(n=n+Math.imul(B,to)|0)+Math.imul(C,ts)|0,s=s+Math.imul(C,to)|0,r=r+Math.imul(I,tl)|0,n=(n=n+Math.imul(I,th)|0)+Math.imul(P,tl)|0,s=s+Math.imul(P,th)|0,r=r+Math.imul(A,tu)|0,n=(n=n+Math.imul(A,tc)|0)+Math.imul(M,tu)|0,s=s+Math.imul(M,tc)|0,r=r+Math.imul(S,tp)|0;var tI=(h+r|0)+((8191&(n=(n=n+Math.imul(S,tb)|0)+Math.imul(E,tp)|0))<<13)|0;h=((s=s+Math.imul(E,tb)|0)+(n>>>13)|0)+(tI>>>26)|0,tI&=0x3ffffff,r=Math.imul(U,ti),n=(n=Math.imul(U,tr))+Math.imul(H,ti)|0,s=Math.imul(H,tr),r=r+Math.imul(L,ts)|0,n=(n=n+Math.imul(L,to)|0)+Math.imul(N,ts)|0,s=s+Math.imul(N,to)|0,r=r+Math.imul(B,tl)|0,n=(n=n+Math.imul(B,th)|0)+Math.imul(C,tl)|0,s=s+Math.imul(C,th)|0,r=r+Math.imul(I,tu)|0,n=(n=n+Math.imul(I,tc)|0)+Math.imul(P,tu)|0,s=s+Math.imul(P,tc)|0,r=r+Math.imul(A,tp)|0;var tP=(h+r|0)+((8191&(n=(n=n+Math.imul(A,tb)|0)+Math.imul(M,tp)|0))<<13)|0;h=((s=s+Math.imul(M,tb)|0)+(n>>>13)|0)+(tP>>>26)|0,tP&=0x3ffffff,r=Math.imul(U,ts),n=(n=Math.imul(U,to))+Math.imul(H,ts)|0,s=Math.imul(H,to),r=r+Math.imul(L,tl)|0,n=(n=n+Math.imul(L,th)|0)+Math.imul(N,tl)|0,s=s+Math.imul(N,th)|0,r=r+Math.imul(B,tu)|0,n=(n=n+Math.imul(B,tc)|0)+Math.imul(C,tu)|0,s=s+Math.imul(C,tc)|0,r=r+Math.imul(I,tp)|0;var tO=(h+r|0)+((8191&(n=(n=n+Math.imul(I,tb)|0)+Math.imul(P,tp)|0))<<13)|0;h=((s=s+Math.imul(P,tb)|0)+(n>>>13)|0)+(tO>>>26)|0,tO&=0x3ffffff,r=Math.imul(U,tl),n=(n=Math.imul(U,th))+Math.imul(H,tl)|0,s=Math.imul(H,th),r=r+Math.imul(L,tu)|0,n=(n=n+Math.imul(L,tc)|0)+Math.imul(N,tu)|0,s=s+Math.imul(N,tc)|0,r=r+Math.imul(B,tp)|0;var tB=(h+r|0)+((8191&(n=(n=n+Math.imul(B,tb)|0)+Math.imul(C,tp)|0))<<13)|0;h=((s=s+Math.imul(C,tb)|0)+(n>>>13)|0)+(tB>>>26)|0,tB&=0x3ffffff,r=Math.imul(U,tu),n=(n=Math.imul(U,tc))+Math.imul(H,tu)|0,s=Math.imul(H,tc),r=r+Math.imul(L,tp)|0;var tC=(h+r|0)+((8191&(n=(n=n+Math.imul(L,tb)|0)+Math.imul(N,tp)|0))<<13)|0;h=((s=s+Math.imul(N,tb)|0)+(n>>>13)|0)+(tC>>>26)|0,tC&=0x3ffffff,r=Math.imul(U,tp);var tR=(h+r|0)+((8191&(n=(n=Math.imul(U,tb))+Math.imul(H,tp)|0))<<13)|0;return h=((s=Math.imul(H,tb))+(n>>>13)|0)+(tR>>>26)|0,tR&=0x3ffffff,l[0]=tg,l[1]=tm,l[2]=ty,l[3]=tv,l[4]=t_,l[5]=tw,l[6]=tx,l[7]=tS,l[8]=tE,l[9]=tk,l[10]=tA,l[11]=tM,l[12]=tT,l[13]=tI,l[14]=tP,l[15]=tO,l[16]=tB,l[17]=tC,l[18]=tR,0!==h&&(l[19]=h,i.length++),i};function p(t,e,i){return new b().mulp(t,e,i)}function b(t,e){this.x=t,this.y=e}Math.imul||(d=c),n.prototype.mulTo=function(t,e){var i,r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?c(this,t,e):r<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var r=0,n=0,s=0;s<i.length-1;s++){var o=n;n=0;for(var a=0x3ffffff&r,l=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=l;h++){var f=s-h,u=(0|t.words[f])*(0|e.words[h]),c=0x3ffffff&u;o=o+(u/0x4000000|0)|0,a=0x3ffffff&(c=c+a|0),n+=(o=o+(c>>>26)|0)>>>26,o&=0x3ffffff}i.words[s]=a,r=o,o=n}return 0!==r?i.words[s]=r:i.length--,i.strip()}(this,t,e):p(this,t,e)},b.prototype.makeRBT=function(t){for(var e=Array(t),i=n.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,i,t);return e},b.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var r=0,n=0;n<e;n++)r|=(1&t)<<e-n-1,t>>=1;return r},b.prototype.permute=function(t,e,i,r,n,s){for(var o=0;o<s;o++)r[o]=e[t[o]],n[o]=i[t[o]]},b.prototype.transform=function(t,e,i,r,n,s){this.permute(s,t,e,i,r,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,l=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),f=0;f<n;f+=a)for(var u=l,c=h,d=0;d<o;d++){var p=i[f+d],b=r[f+d],g=i[f+d+o],m=r[f+d+o],y=u*g-c*m;m=u*m+c*g,g=y,i[f+d]=p+g,r[f+d]=b+m,i[f+d+o]=p-g,r[f+d+o]=b-m,d!==a&&(y=l*u-h*c,c=l*c+h*u,u=y)}},b.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},b.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=t[r];t[r]=t[i-r-1],t[i-r-1]=n,n=e[r],e[r]=-e[i-r-1],e[i-r-1]=-n}},b.prototype.normalize13b=function(t,e){for(var i=0,r=0;r<e/2;r++){var n=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+i;t[r]=0x3ffffff&n,i=n<0x4000000?0:n/0x4000000|0}return t},b.prototype.convert13b=function(t,e,r,n){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<n;++o)r[o]=0;i(0===s),i((-8192&s)==0)},b.prototype.stub=function(t){for(var e=Array(t),i=0;i<t;i++)e[i]=0;return e},b.prototype.mulp=function(t,e,i){var r=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(r),s=this.stub(r),o=Array(r),a=Array(r),l=Array(r),h=Array(r),f=Array(r),u=Array(r),c=i.words;c.length=r,this.convert13b(t.words,t.length,o,r),this.convert13b(e.words,e.length,h,r),this.transform(o,s,a,l,r,n),this.transform(h,s,f,u,r,n);for(var d=0;d<r;d++){var p=a[d]*f[d]-l[d]*u[d];l[d]=a[d]*u[d]+l[d]*f[d],a[d]=p}return this.conjugate(a,l,r),this.transform(a,l,c,s,r,n),this.conjugate(c,s,r),this.normalize13b(c,r),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=Array(this.length+t.length),p(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){i("number"==typeof t),i(t<0x4000000);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,s=(0x3ffffff&n)+(0x3ffffff&e);e>>=26,e+=(n/0x4000000|0)+(s>>>26),this.words[r]=0x3ffffff&s}return 0!==e&&(this.words[r]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=Array(t.bitLength()),i=0;i<e.length;i++){var r=i/26|0,n=i%26;e[i]=(t.words[r]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var i=this,r=0;r<e.length&&0===e[r];r++,i=i.sqr());if(++r<e.length)for(var s=i.sqr();r<e.length;r++,s=s.sqr())0!==e[r]&&(i=i.mul(s));return i},n.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,s=0x3ffffff>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,l=(0|this.words[e])-a<<r;this.words[e]=l|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,r){i("number"==typeof t&&t>=0);var n=e?(e-e%26)/26:0,s=t%26,o=Math.min((t-s)/26,this.length),a=0x3ffffff^0x3ffffff>>>s<<s;if(n-=o,n=Math.max(0,n),r){for(var l=0;l<o;l++)r.words[l]=this.words[l];r.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=n);l--){var f=0|this.words[l];this.words[l]=h<<26-s|f>>>s,h=f&a}return r&&0!==h&&(r.words[r.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return!(this.length<=r)&&!!(this.words[r]&1<<e)},n.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==e&&r++,this.length=Math.min(r,this.length),0!==e&&(this.words[this.length-1]&=0x3ffffff^0x3ffffff>>>e<<e),this.strip())},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return(i("number"==typeof t),i(t<0x4000000),t<0)?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=0x4000000;e++)this.words[e]-=0x4000000,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(i("number"==typeof t),i(t<0x4000000),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=0x4000000,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,r){var n,s,o=t.length+r;this._expand(o);var a=0;for(n=0;n<t.length;n++){s=(0|this.words[n+r])+a;var l=(0|t.words[n])*e;s-=0x3ffffff&l,a=(s>>26)-(l/0x4000000|0),this.words[n+r]=0x3ffffff&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=0x3ffffff&s;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=0x3ffffff&s;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var i,r=this.length-t.length,s=this.clone(),o=t,a=0|o.words[o.length-1];0!=(r=26-this._countBits(a))&&(o=o.ushln(r),s.iushln(r),a=0|o.words[o.length-1]);var l=s.length-o.length;if("mod"!==e){(i=new n(null)).length=l+1,i.words=Array(i.length);for(var h=0;h<i.length;h++)i.words[h]=0}var f=s.clone()._ishlnsubmul(o,1,l);0===f.negative&&(s=f,i&&(i.words[l]=1));for(var u=l-1;u>=0;u--){var c=(0|s.words[o.length+u])*0x4000000+(0|s.words[o.length+u-1]);for(c=Math.min(c/a|0,0x3ffffff),s._ishlnsubmul(o,c,u);0!==s.negative;)c--,s.negative=0,s._ishlnsubmul(o,1,u),s.isZero()||(s.negative^=1);i&&(i.words[u]=c)}return i&&i.strip(),s.strip(),"div"!==e&&0!==r&&s.iushrn(r),{div:i||null,mod:s}},n.prototype.divmod=function(t,e,r){var s,o,a;return(i(!t.isZero()),this.isZero())?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):(this.negative&t.negative)!=0?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||0>this.cmp(t)?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e)},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),n=t.andln(1),s=i.cmp(r);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){i(t<=0x3ffffff);for(var e=0x4000000%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},n.prototype.idivn=function(t){i(t<=0x3ffffff);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+0x4000000*e;this.words[r]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new n(1),o=new n(0),a=new n(0),l=new n(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var f=r.clone(),u=e.clone();!e.isZero();){for(var c=0,d=1;(e.words[0]&d)==0&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(f),o.isub(u)),s.iushrn(1),o.iushrn(1);for(var p=0,b=1;(r.words[0]&b)==0&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(f),l.isub(u)),a.iushrn(1),l.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a),o.isub(l)):(r.isub(e),a.isub(s),l.isub(o))}return{a:a,b:l,gcd:r.iushln(h)}},n.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e,r=this,s=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var o=new n(1),a=new n(0),l=s.clone();r.cmpn(1)>0&&s.cmpn(1)>0;){for(var h=0,f=1;(r.words[0]&f)==0&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var u=0,c=1;(s.words[0]&c)==0&&u<26;++u,c<<=1);if(u>0)for(s.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);r.cmp(s)>=0?(r.isub(s),o.isub(a)):(s.isub(r),a.isub(o))}return 0>(e=0===r.cmpn(1)?o:a).cmpn(0)&&e.iadd(t),e},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var r=0;e.isEven()&&i.isEven();r++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=e.cmp(i);if(n<0){var s=e;e=i,i=s}else if(0===n||0===i.cmpn(1))break;e.isub(i)}return i.iushln(r)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return(1&this.words[0])==0},n.prototype.isOdd=function(){return(1&this.words[0])==1},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];a+=s,s=a>>>26,a&=0x3ffffff,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=0x3ffffff,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return -1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return -1;for(var e=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|t.words[i];if(r!==n){r<n?e=-1:r>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return -1===this.cmpn(t)},n.prototype.lt=function(t){return -1===this.cmp(t)},n.prototype.lten=function(t){return 0>=this.cmpn(t)},n.prototype.lte=function(t){return 0>=this.cmp(t)},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new x(t)},n.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function m(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var t=new n(null);return t.words=Array(Math.ceil(this.n/13)),t},m.prototype.ireduce=function(t){var e,i=t;do this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength();while(e>this.n)var r=e<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},m.prototype.split=function(t,e){t.iushrn(this.n,0,e)},m.prototype.imulK=function(t){return t.imul(this.k)},r(y,m),y.prototype.split=function(t,e){for(var i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9){t.words[0]=0,t.length=1;return}var n=t.words[9];for(r=10,e.words[e.length++]=4194303&n;r<t.length;r++){var s=0|t.words[r];t.words[r-10]=(4194303&s)<<4|n>>>22,n=s}n>>>=22,t.words[r-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var r=0|t.words[i];e+=977*r,t.words[i]=0x3ffffff&e,e=64*r+(e/0x4000000|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(v,m),r(_,m),r(w,m),w.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var r=(0|t.words[i])*19+e,n=0x3ffffff&r;r>>>=26,t.words[i]=n,e=r}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){var e;if(g[t])return g[t];if("k256"===t)e=new y;else if("p224"===t)e=new v;else if("p192"===t)e=new _;else if("p25519"===t)e=new w;else throw Error("Unknown prime "+t);return g[t]=e,e},x.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){i((t.negative|e.negative)==0,"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},x.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return 0>i.cmpn(0)&&i.iadd(this.m),i._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return 0>i.cmpn(0)&&i.iadd(this.m),i},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new n(1)).iushrn(2);return this.pow(t,r)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);i(!s.isZero());var a=new n(1).toRed(this),l=a.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);0!==this.pow(f,h).cmp(l);)f.redIAdd(l);for(var u=this.pow(f,s),c=this.pow(t,s.addn(1).iushrn(1)),d=this.pow(t,s),p=o;0!==d.cmp(a);){for(var b=d,g=0;0!==b.cmp(a);g++)b=b.redSqr();i(g<p);var m=this.pow(u,new n(1).iushln(p-g-1));c=c.redMul(m),u=m.redSqr(),d=d.redMul(u),p=g}return c},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=Array(16);i[0]=new n(1).toRed(this),i[1]=t;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],t);var s=i[0],o=0,a=0,l=e.bitLength()%26;for(0===l&&(l=26),r=e.length-1;r>=0;r--){for(var h=e.words[r],f=l-1;f>=0;f--){var u=h>>f&1;if(s!==i[0]&&(s=this.sqr(s)),0===u&&0===o){a=0;continue}o<<=1,o|=u,(4==++a||0===r&&0===f)&&(s=this.mul(s,i[o]),a=0,o=0)}l=26}return s},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new S(t)},r(S,x),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):0>n.cmpn(0)&&(s=n.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var i=t.mul(e),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):0>s.cmpn(0)&&(o=s.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}),tk("koC21",function(t,e){function i(t,e){if(!t)throw Error(e||"Assertion failed")}t.exports=i,i.equal=function(t,e,i){if(t!=e)throw Error(i||"Assertion failed: "+t+" != "+e)}}),tk("lC4vN",function(t,e){var i=t.exports;function r(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",i=0;i<t.length;i++)e+=r(t[i].toString(16));return e}i.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var i=[];if("string"!=typeof t){for(var r=0;r<t.length;r++)i[r]=0|t[r];return i}if("hex"===e){(t=t.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(t="0"+t);for(var r=0;r<t.length;r+=2)i.push(parseInt(t[r]+t[r+1],16))}else for(var r=0;r<t.length;r++){var n=t.charCodeAt(r),s=n>>8,o=255&n;s?i.push(s,o):i.push(o)}return i},i.zero2=r,i.toHex=n,i.encode=function(t,e){return"hex"===e?n(t):t}}),tk("7JHF0",function(t,e){var i;function r(t){this.rand=t}if(t.exports=function(t){return i||(i=new r(null)),i.generate(t)},t.exports.Rand=r,r.prototype.generate=function(t){return this._rand(t)},r.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),i=0;i<e.length;i++)e[i]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(r.prototype._rand=function(){throw Error("Not implemented yet")});else try{var n=tE("kjyEk");if("function"!=typeof n.randomBytes)throw Error("Not supported");r.prototype._rand=function(t){return n.randomBytes(t)}}catch(t){}}),tk("cP1GP",function(t,e){var i=t.exports;i.base=tE("hSu7V"),i.short=tE("eYNyQ"),i.mont=tE("av2Yx"),i.edwards=tE("dqmX9")}),tk("hSu7V",function(t,e){var i=tE("dEXSZ"),r=tE("gEVtY"),n=r.getNAF,s=r.getJSF,o=r.assert;function a(t,e){this.type=t,this.p=new i(e.p,16),this.red=e.prime?i.red(e.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=e.n&&new i(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=a,a.prototype.point=function(){throw Error("Not implemented")},a.prototype.validate=function(){throw Error("Not implemented")},a.prototype._fixedNafMul=function(t,e){o(t.precomputed);var i,r,s=t._getDoubles(),a=n(e,1,this._bitLength),l=(1<<s.step+1)-(s.step%2==0?2:1);l/=3;var h=[];for(i=0;i<a.length;i+=s.step){r=0;for(var f=i+s.step-1;f>=i;f--)r=(r<<1)+a[f];h.push(r)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),d=l;d>0;d--){for(i=0;i<h.length;i++)(r=h[i])===d?c=c.mixedAdd(s.points[i]):r===-d&&(c=c.mixedAdd(s.points[i].neg()));u=u.add(c)}return u.toP()},a.prototype._wnafMul=function(t,e){var i=4,r=t._getNAFPoints(i);i=r.wnd;for(var s=r.points,a=n(e,i,this._bitLength),l=this.jpoint(null,null,null),h=a.length-1;h>=0;h--){for(var f=0;h>=0&&0===a[h];h--)f++;if(h>=0&&f++,l=l.dblp(f),h<0)break;var u=a[h];o(0!==u),l="affine"===t.type?u>0?l.mixedAdd(s[u-1>>1]):l.mixedAdd(s[-u-1>>1].neg()):u>0?l.add(s[u-1>>1]):l.add(s[-u-1>>1].neg())}return"affine"===t.type?l.toP():l},a.prototype._wnafMulAdd=function(t,e,i,r,o){var a,l,h,f=this._wnafT1,u=this._wnafT2,c=this._wnafT3,d=0;for(a=0;a<r;a++){var p=(h=e[a])._getNAFPoints(t);f[a]=p.wnd,u[a]=p.points}for(a=r-1;a>=1;a-=2){var b=a-1,g=a;if(1!==f[b]||1!==f[g]){c[b]=n(i[b],f[b],this._bitLength),c[g]=n(i[g],f[g],this._bitLength),d=Math.max(c[b].length,d),d=Math.max(c[g].length,d);continue}var m=[e[b],null,null,e[g]];0===e[b].y.cmp(e[g].y)?(m[1]=e[b].add(e[g]),m[2]=e[b].toJ().mixedAdd(e[g].neg())):0===e[b].y.cmp(e[g].y.redNeg())?(m[1]=e[b].toJ().mixedAdd(e[g]),m[2]=e[b].add(e[g].neg())):(m[1]=e[b].toJ().mixedAdd(e[g]),m[2]=e[b].toJ().mixedAdd(e[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=s(i[b],i[g]);for(l=0,d=Math.max(v[0].length,d),c[b]=Array(d),c[g]=Array(d);l<d;l++){var _=0|v[0][l],w=0|v[1][l];c[b][l]=y[(_+1)*3+(w+1)],c[g][l]=0,u[b]=m}}var x=this.jpoint(null,null,null),S=this._wnafT4;for(a=d;a>=0;a--){for(var E=0;a>=0;){var k=!0;for(l=0;l<r;l++)S[l]=0|c[l][a],0!==S[l]&&(k=!1);if(!k)break;E++,a--}if(a>=0&&E++,x=x.dblp(E),a<0)break;for(l=0;l<r;l++){var A=S[l];0!==A&&(A>0?h=u[l][A-1>>1]:A<0&&(h=u[l][-A-1>>1].neg()),x="affine"===h.type?x.mixedAdd(h):x.add(h))}}for(a=0;a<r;a++)u[a]=null;return o?x:x.toP()},a.BasePoint=l,l.prototype.eq=function(){throw Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},a.prototype.decodePoint=function(t,e){t=r.toArray(t,e);var i=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*i)return 6===t[0]?o(t[t.length-1]%2==0):7===t[0]&&o(t[t.length-1]%2==1),this.point(t.slice(1,1+i),t.slice(1+i,1+2*i));if((2===t[0]||3===t[0])&&t.length-1===i)return this.pointFromX(t.slice(1,1+i),3===t[0]);throw Error("Unknown point format")},l.prototype.encodeCompressed=function(t){return this.encode(t,!0)},l.prototype._encode=function(t){var e=this.curve.p.byteLength(),i=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",e))},l.prototype.encode=function(t,e){return r.encode(this._encode(e),t)},l.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},l.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},l.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],r=this,n=0;n<e;n+=t){for(var s=0;s<t;s++)r=r.dbl();i.push(r)}return{step:t,points:i}},l.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],i=(1<<t)-1,r=1===i?null:this.dbl(),n=1;n<i;n++)e[n]=e[n-1].add(r);return{wnd:t,points:e}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(t){for(var e=this,i=0;i<t;i++)e=e.dbl();return e}}),tk("eYNyQ",function(t,e){var i=tE("gEVtY"),r=tE("dEXSZ"),n=tE("dlqwk"),s=tE("hSu7V"),o=i.assert;function a(t){s.call(this,"short",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function l(t,e,i,n){s.BasePoint.call(this,t,"affine"),null===e&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(e,16),this.y=new r(i,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(t,e,i,n){s.BasePoint.call(this,t,"jacobian"),null===e&&null===i&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(e,16),this.y=new r(i,16),this.z=new r(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}n(a,s),t.exports=a,a.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(t.beta)e=new r(t.beta,16).toRed(this.red);else{var e,i,n,s=this._getEndoRoots(this.p);e=(e=0>s[0].cmp(s[1])?s[0]:s[1]).toRed(this.red)}if(t.lambda)i=new r(t.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(e))?i=a[0]:(i=a[1],o(0===this.g.mul(i).x.cmp(this.g.x.redMul(e))))}return n=t.basis?t.basis.map(function(t){return{a:new r(t.a,16),b:new r(t.b,16)}}):this._getEndoBasis(i),{beta:e,lambda:i,basis:n}}},a.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:r.mont(t),i=new r(2).toRed(e).redInvm(),n=i.redNeg(),s=new r(3).toRed(e).redNeg().redSqrt().redMul(i);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},a.prototype._getEndoBasis=function(t){for(var e,i,n,s,o,a,l,h,f,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,d=this.n.clone(),p=new r(1),b=new r(0),g=new r(0),m=new r(1),y=0;0!==c.cmpn(0);){var v=d.div(c);h=d.sub(v.mul(c)),f=g.sub(v.mul(p));var _=m.sub(v.mul(b));if(!n&&0>h.cmp(u))e=l.neg(),i=p,n=h.neg(),s=f;else if(n&&2==++y)break;l=h,d=c,c=h,g=p,p=f,m=b,b=_}o=h.neg(),a=f;var w=n.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=e,a=i),n.negative&&(n=n.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:s},{a:o,b:a}]},a.prototype._endoSplit=function(t){var e=this.endo.basis,i=e[0],r=e[1],n=r.b.mul(t).divRound(this.n),s=i.b.neg().mul(t).divRound(this.n),o=n.mul(i.a),a=s.mul(r.a),l=n.mul(i.b),h=s.mul(r.b);return{k1:t.sub(o).sub(a),k2:l.add(h).neg()}},a.prototype.pointFromX=function(t,e){(t=new r(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(0!==n.redSqr().redSub(i).cmp(this.zero))throw Error("invalid point");var s=n.fromRed().isOdd();return(e&&!s||!e&&s)&&(n=n.redNeg()),this.point(t,n)},a.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,i=t.y,r=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===i.redSqr().redISub(n).cmpn(0)},a.prototype._endoWnafMulAdd=function(t,e,i){for(var r=this._endoWnafT1,n=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],l=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),r[2*s]=a,r[2*s+1]=l,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var h=this._wnafMulAdd(1,r,n,2*s,i),f=0;f<2*s;f++)r[f]=null,n[f]=null;return h},n(l,s.BasePoint),a.prototype.point=function(t,e,i){return new l(this,t,e,i)},a.prototype.pointFromJSON=function(t,e){return l.fromJSON(this,t,e)},l.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var i=this.curve,r=function(t){return i.point(t.x.redMul(i.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return e}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(t,e,i){"string"==typeof e&&(e=JSON.parse(e));var r=t.point(e[0],e[1],i);if(!e[2])return r;function n(e){return t.point(e[0],e[1],i)}var s=e[2];return r.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[r].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[r].concat(s.naf.points.map(n))}},r},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t)||0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var i=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,r)},l.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,i=this.x.redSqr(),r=t.redInvm(),n=i.redAdd(i).redIAdd(i).redIAdd(e).redMul(r),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(t){return(t=new r(t,16),this.isInfinity())?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},l.prototype.mulAdd=function(t,e,i){var r=[this,e],n=[t,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,n):this.curve._wnafMulAdd(1,r,n,2)},l.prototype.jmulAdd=function(t,e,i){var r=[this,e],n=[t,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,n,!0):this.curve._wnafMulAdd(1,r,n,2,!0)},l.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},l.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var i=this.precomputed,r=function(t){return t.neg()};e.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return e},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},n(h,s.BasePoint),a.prototype.jpoint=function(t,e,i){return new h(this,t,e,i)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),i=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(i,r)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),i=this.z.redSqr(),r=this.x.redMul(e),n=t.x.redMul(i),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(i.redMul(this.z)),a=r.redSub(n),l=s.redSub(o);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=a.redSqr(),f=h.redMul(a),u=r.redMul(h),c=l.redSqr().redIAdd(f).redISub(u).redISub(u),d=l.redMul(u.redISub(c)).redISub(s.redMul(f)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(c,d,p)},h.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),i=this.x,r=t.x.redMul(e),n=this.y,s=t.y.redMul(e).redMul(this.z),o=i.redSub(r),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),h=l.redMul(o),f=i.redMul(l),u=a.redSqr().redIAdd(h).redISub(f).redISub(f),c=a.redMul(f.redISub(u)).redISub(n.redMul(h)),d=this.z.redMul(o);return this.curve.jpoint(u,c,d)},h.prototype.dblp=function(t){if(0===t||this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var e,i=this;for(e=0;e<t;e++)i=i.dbl();return i}var r=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,l=a.redSqr().redSqr(),h=o.redAdd(o);for(e=0;e<t;e++){var f=s.redSqr(),u=h.redSqr(),c=u.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(r.redMul(l)),p=s.redMul(u),b=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(b),m=d.redMul(g);m=m.redIAdd(m).redISub(c);var y=h.redMul(a);e+1<t&&(l=l.redMul(c)),s=b,a=y,h=m}return this.curve.jpoint(s,h.redMul(n),a)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){if(this.zOne){var t,e,i,r=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(r).redISub(s);o=o.redIAdd(o);var a=r.redAdd(r).redIAdd(r),l=a.redSqr().redISub(o).redISub(o),h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),t=l,e=a.redMul(o.redISub(l)).redISub(h),i=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),u=this.y.redSqr(),c=u.redSqr(),d=this.x.redAdd(u).redSqr().redISub(f).redISub(c);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),b=p.redSqr(),g=c.redIAdd(c);g=(g=g.redIAdd(g)).redIAdd(g),t=b.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(t,e,i)},h.prototype._threeDbl=function(){if(this.zOne){var t,e,i,r=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(r).redISub(s);o=o.redIAdd(o);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),l=a.redSqr().redISub(o).redISub(o);t=l;var h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),e=a.redMul(o.redISub(l)).redISub(h),i=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),u=this.y.redSqr(),c=this.x.redMul(u),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=c.redIAdd(c),b=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(b),i=this.y.redAdd(this.z).redSqr().redISub(u).redISub(f);var g=u.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,i)},h.prototype._dbl=function(){var t=this.curve.a,e=this.x,i=this.y,r=this.z,n=r.redSqr().redSqr(),s=e.redSqr(),o=i.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(n)),l=e.redAdd(e),h=(l=l.redIAdd(l)).redMul(o),f=a.redSqr().redISub(h.redAdd(h)),u=h.redISub(f),c=o.redSqr();c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=a.redMul(u).redISub(c),p=i.redAdd(i).redMul(r);return this.curve.jpoint(f,d,p)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),i=this.z.redSqr(),r=e.redSqr(),n=t.redAdd(t).redIAdd(t),s=n.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(r),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),l=r.redIAdd(r);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(l),f=e.redMul(h);f=(f=f.redIAdd(f)).redIAdd(f);var u=this.x.redMul(a).redISub(f);u=(u=u.redIAdd(u)).redIAdd(u);var c=this.y.redMul(h.redMul(l.redISub(h)).redISub(o.redMul(a)));c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=this.z.redAdd(o).redSqr().redISub(i).redISub(a);return this.curve.jpoint(u,c,d)},h.prototype.mul=function(t,e){return t=new r(t,e),this.curve._wnafMul(this,t)},h.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),i=t.z.redSqr();if(0!==this.x.redMul(i).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),n=i.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(r)).cmpn(0)},h.prototype.eqXToP=function(t){var e=this.z.redSqr(),i=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(i))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(e);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(n),0===this.x.cmp(i))return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}}),tk("av2Yx",function(t,e){var i=tE("dEXSZ"),r=tE("dlqwk"),n=tE("hSu7V"),s=tE("gEVtY");function o(t){n.call(this,"mont",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function a(t,e,r){n.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(o,n),t.exports=o,o.prototype.validate=function(t){var e=t.normalize().x,i=e.redSqr(),r=i.redMul(e).redAdd(i.redMul(this.a)).redAdd(e);return 0===r.redSqrt().redSqr().cmp(r)},r(a,n.BasePoint),o.prototype.decodePoint=function(t,e){return this.point(s.toArray(t,e),1)},o.prototype.point=function(t,e){return new a(this,t,e)},o.prototype.pointFromJSON=function(t){return a.fromJSON(this,t)},a.prototype.precompute=function(){},a.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},a.fromJSON=function(t,e){return new a(t,e[0],e[1]||t.one)},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},a.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),i=t.redSub(e),r=t.redMul(e),n=i.redMul(e.redAdd(this.curve.a24.redMul(i)));return this.curve.point(r,n)},a.prototype.add=function(){throw Error("Not supported on Montgomery curve")},a.prototype.diffAdd=function(t,e){var i=this.x.redAdd(this.z),r=this.x.redSub(this.z),n=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(i),o=n.redMul(r),a=e.z.redMul(s.redAdd(o).redSqr()),l=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,l)},a.prototype.mul=function(t){for(var e=t.clone(),i=this,r=this.curve.point(null,null),n=[];0!==e.cmpn(0);e.iushrn(1))n.push(e.andln(1));for(var s=n.length-1;s>=0;s--)0===n[s]?(i=i.diffAdd(r,this),r=r.dbl()):(r=i.diffAdd(r,this),i=i.dbl());return r},a.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},a.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},a.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},a.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),tk("dqmX9",function(t,e){var i=tE("gEVtY"),r=tE("dEXSZ"),n=tE("dlqwk"),s=tE("hSu7V"),o=i.assert;function a(t){this.twisted=(0|t.a)!=1,this.mOneA=this.twisted&&(0|t.a)==-1,this.extended=this.mOneA,s.call(this,"edwards",t),this.a=new r(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=(0|t.c)==1}function l(t,e,i,n,o){s.BasePoint.call(this,t,"projective"),null===e&&null===i&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(e,16),this.y=new r(i,16),this.z=n?new r(n,16):this.curve.one,this.t=o&&new r(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,!this.curve.extended||this.t||(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}n(a,s),t.exports=a,a.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},a.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},a.prototype.jpoint=function(t,e,i,r){return this.point(t,e,i,r)},a.prototype.pointFromX=function(t,e){(t=new r(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),n=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw Error("invalid point");var l=a.fromRed().isOdd();return(e&&!l||!e&&l)&&(a=a.redNeg()),this.point(t,a)},a.prototype.pointFromY=function(t,e){(t=new r(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),n=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(!e)return this.point(this.zero,t);throw Error("invalid point")}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},a.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),i=t.y.redSqr(),r=e.redMul(this.a).redAdd(i),n=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(i)));return 0===r.cmp(n)},n(l,s.BasePoint),a.prototype.pointFromJSON=function(t){return l.fromJSON(this,t)},a.prototype.point=function(t,e,i,r){return new l(this,t,e,i,r)},l.fromJSON=function(t,e){return new l(t,e[0],e[1],e[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var r=this.curve._mulA(t),n=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=r.redAdd(e),o=s.redSub(i),a=r.redSub(e),l=n.redMul(o),h=s.redMul(a),f=n.redMul(a),u=o.redMul(s);return this.curve.point(l,h,u,f)},l.prototype._projDbl=function(){var t,e,i,r,n,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),l=this.y.redSqr();if(this.curve.twisted){var h=(r=this.curve._mulA(a)).redAdd(l);this.zOne?(t=o.redSub(a).redSub(l).redMul(h.redSub(this.curve.two)),e=h.redMul(r.redSub(l)),i=h.redSqr().redSub(h).redSub(h)):(n=this.z.redSqr(),s=h.redSub(n).redISub(n),t=o.redSub(a).redISub(l).redMul(s),e=h.redMul(r.redSub(l)),i=h.redMul(s))}else r=a.redAdd(l),n=this.curve._mulC(this.z).redSqr(),s=r.redSub(n).redSub(n),t=this.curve._mulC(o.redISub(r)).redMul(s),e=this.curve._mulC(r).redMul(a.redISub(l)),i=r.redMul(s);return this.curve.point(t,e,i)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),i=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),n=this.z.redMul(t.z.redAdd(t.z)),s=i.redSub(e),o=n.redSub(r),a=n.redAdd(r),l=i.redAdd(e),h=s.redMul(o),f=a.redMul(l),u=s.redMul(l),c=o.redMul(a);return this.curve.point(h,f,c,u)},l.prototype._projAdd=function(t){var e,i,r=this.z.redMul(t.z),n=r.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),l=n.redSub(a),h=n.redAdd(a),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),u=r.redMul(l).redMul(f);return this.curve.twisted?(e=r.redMul(h).redMul(o.redSub(this.curve._mulA(s))),i=l.redMul(h)):(e=r.redMul(h).redMul(o.redSub(s)),i=this.curve._mulC(l).redMul(h)),this.curve.point(u,e,i)},l.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},l.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},l.prototype.mulAdd=function(t,e,i){return this.curve._wnafMulAdd(1,[this,e],[t,i],2,!1)},l.prototype.jmulAdd=function(t,e,i){return this.curve._wnafMulAdd(1,[this,e],[t,i],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},l.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var i=t.clone(),r=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(r),0===this.x.cmp(e))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add}),tk("fbTbW",function(t,e){var i,r=t.exports,n=tE("kiSKt"),s=tE("cP1GP"),o=tE("gEVtY").assert;function a(t){"short"===t.type?this.curve=new s.short(t):"edwards"===t.type?this.curve=new s.edwards(t):this.curve=new s.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(t,e){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){var i=new a(e);return Object.defineProperty(r,t,{configurable:!0,enumerable:!0,value:i}),i}})}r.PresetCurve=a,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=tE("lNVWe")}catch(t){i=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})}),tk("kiSKt",function(t,e){var i=t.exports;i.utils=tE("btcbI"),i.common=tE("aAb7n"),i.sha=tE("2wnQk"),i.ripemd=tE("05eZB"),i.hmac=tE("ap2lu"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160}),tk("btcbI",function(t,e){tv(t.exports,"inherits",()=>i,t=>i=t),tv(t.exports,"toArray",()=>r,t=>r=t),tv(t.exports,"toHex",()=>n,t=>n=t),tv(t.exports,"htonl",()=>s,t=>s=t),tv(t.exports,"toHex32",()=>o,t=>o=t),tv(t.exports,"zero2",()=>a,t=>a=t),tv(t.exports,"zero8",()=>l,t=>l=t),tv(t.exports,"join32",()=>h,t=>h=t),tv(t.exports,"split32",()=>f,t=>f=t),tv(t.exports,"rotr32",()=>u,t=>u=t),tv(t.exports,"rotl32",()=>c,t=>c=t),tv(t.exports,"sum32",()=>d,t=>d=t),tv(t.exports,"sum32_3",()=>p,t=>p=t),tv(t.exports,"sum32_4",()=>b,t=>b=t),tv(t.exports,"sum32_5",()=>g,t=>g=t),tv(t.exports,"sum64",()=>m,t=>m=t),tv(t.exports,"sum64_hi",()=>y,t=>y=t),tv(t.exports,"sum64_lo",()=>v,t=>v=t),tv(t.exports,"sum64_4_hi",()=>_,t=>_=t),tv(t.exports,"sum64_4_lo",()=>w,t=>w=t),tv(t.exports,"sum64_5_hi",()=>x,t=>x=t),tv(t.exports,"sum64_5_lo",()=>S,t=>S=t),tv(t.exports,"rotr64_hi",()=>E,t=>E=t),tv(t.exports,"rotr64_lo",()=>k,t=>k=t),tv(t.exports,"shr64_hi",()=>A,t=>A=t),tv(t.exports,"shr64_lo",()=>M,t=>M=t);var i,r,n,s,o,a,l,h,f,u,c,d,p,b,g,m,y,v,_,w,x,S,E,k,A,M,T=tE("koC21");function I(t){return(t>>>24|t>>>8&65280|t<<8&0xff0000|(255&t)<<24)>>>0}function P(t){return 1===t.length?"0"+t:t}function O(t){if(7===t.length)return"0"+t;if(6===t.length)return"00"+t;if(5===t.length)return"000"+t;if(4===t.length)return"0000"+t;if(3===t.length)return"00000"+t;else if(2===t.length)return"000000"+t;else if(1===t.length)return"0000000"+t;else return t}i=tE("dlqwk"),r=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var i=[];if("string"==typeof t){if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)i.push(parseInt(t[n]+t[n+1],16))}else for(var r=0,n=0;n<t.length;n++){var s,o,a=t.charCodeAt(n);a<128?i[r++]=a:(a<2048?i[r++]=a>>6|192:((s=t,o=n,(64512&s.charCodeAt(o))!=55296||o<0||o+1>=s.length?1:(64512&s.charCodeAt(o+1))!=56320)?i[r++]=a>>12|224:(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++n)),i[r++]=a>>18|240,i[r++]=a>>12&63|128),i[r++]=a>>6&63|128),i[r++]=63&a|128)}}else for(n=0;n<t.length;n++)i[n]=0|t[n];return i},n=function(t){for(var e="",i=0;i<t.length;i++)e+=P(t[i].toString(16));return e},s=I,o=function(t,e){for(var i="",r=0;r<t.length;r++){var n=t[r];"little"===e&&(n=I(n)),i+=O(n.toString(16))}return i},a=P,l=O,h=function(t,e,i,r){var n,s=i-e;T(s%4==0);for(var o=Array(s/4),a=0,l=e;a<o.length;a++,l+=4)n="big"===r?t[l]<<24|t[l+1]<<16|t[l+2]<<8|t[l+3]:t[l+3]<<24|t[l+2]<<16|t[l+1]<<8|t[l],o[a]=n>>>0;return o},f=function(t,e){for(var i=Array(4*t.length),r=0,n=0;r<t.length;r++,n+=4){var s=t[r];"big"===e?(i[n]=s>>>24,i[n+1]=s>>>16&255,i[n+2]=s>>>8&255,i[n+3]=255&s):(i[n+3]=s>>>24,i[n+2]=s>>>16&255,i[n+1]=s>>>8&255,i[n]=255&s)}return i},u=function(t,e){return t>>>e|t<<32-e},c=function(t,e){return t<<e|t>>>32-e},d=function(t,e){return t+e>>>0},p=function(t,e,i){return t+e+i>>>0},b=function(t,e,i,r){return t+e+i+r>>>0},g=function(t,e,i,r,n){return t+e+i+r+n>>>0},m=function(t,e,i,r){var n=t[e],s=r+t[e+1]>>>0;t[e]=+(s<r)+i+n>>>0,t[e+1]=s},y=function(t,e,i,r){return+(e+r>>>0<e)+t+i>>>0},v=function(t,e,i,r){return e+r>>>0},_=function(t,e,i,r,n,s,o,a){var l,h=e;return t+i+n+o+(l=0+ +((h=h+r>>>0)<e)+ +((h=h+s>>>0)<s)+ +((h=h+a>>>0)<a))>>>0},w=function(t,e,i,r,n,s,o,a){return e+r+s+a>>>0},x=function(t,e,i,r,n,s,o,a,l,h){var f,u=e;return t+i+n+o+l+(f=0+ +((u=u+r>>>0)<e)+ +((u=u+s>>>0)<s)+ +((u=u+a>>>0)<a)+ +((u=u+h>>>0)<h))>>>0},S=function(t,e,i,r,n,s,o,a,l,h){return e+r+s+a+h>>>0},E=function(t,e,i){return(e<<32-i|t>>>i)>>>0},k=function(t,e,i){return(t<<32-i|e>>>i)>>>0},A=function(t,e,i){return t>>>i},M=function(t,e,i){return(t<<32-i|e>>>i)>>>0}}),tk("aAb7n",function(t,e){tv(t.exports,"BlockHash",()=>i,t=>i=t);var i,r=tE("btcbI"),n=tE("koC21");function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i=s,s.prototype.update=function(t,e){if(t=r.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var i=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-i,t.length),0===this.pending.length&&(this.pending=null),t=r.join32(t,0,t.length-i,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},s.prototype.digest=function(t){return this.update(this._pad()),n(null===this.pending),this._digest(t)},s.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,i=e-(t+this.padLength)%e,r=Array(i+this.padLength);r[0]=128;for(var n=1;n<i;n++)r[n]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)r[n++]=0;r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=t>>>24&255,r[n++]=t>>>16&255,r[n++]=t>>>8&255,r[n++]=255&t}else for(s=8,r[n++]=255&t,r[n++]=t>>>8&255,r[n++]=t>>>16&255,r[n++]=t>>>24&255,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0;s<this.padLength;s++)r[n++]=0;return r}}),tk("2wnQk",function(t,e){var i,r,n,s,o;tv(t.exports,"sha1",()=>i,t=>i=t),tv(t.exports,"sha224",()=>r,t=>r=t),tv(t.exports,"sha256",()=>n,t=>n=t),tv(t.exports,"sha384",()=>s,t=>s=t),tv(t.exports,"sha512",()=>o,t=>o=t),i=tE("IUW6G"),r=tE("gBE2w"),n=tE("a9EzX"),s=tE("7j4cV"),o=tE("lMBCM")}),tk("IUW6G",function(t,e){var i=tE("btcbI"),r=tE("aAb7n"),n=tE("dV8oa"),s=i.rotl32,o=i.sum32,a=i.sum32_5,l=n.ft_1,h=r.BlockHash,f=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6];function u(){if(!(this instanceof u))return new u;h.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.W=Array(80)}i.inherits(u,h),t.exports=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(t,e){for(var i=this.W,r=0;r<16;r++)i[r]=t[e+r];for(;r<i.length;r++)i[r]=s(i[r-3]^i[r-8]^i[r-14]^i[r-16],1);var n=this.h[0],h=this.h[1],u=this.h[2],c=this.h[3],d=this.h[4];for(r=0;r<i.length;r++){var p=~~(r/20),b=a(s(n,5),l(p,h,u,c),d,i[r],f[p]);d=c,c=u,u=s(h,30),h=n,n=b}this.h[0]=o(this.h[0],n),this.h[1]=o(this.h[1],h),this.h[2]=o(this.h[2],u),this.h[3]=o(this.h[3],c),this.h[4]=o(this.h[4],d)},u.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}}),tk("dV8oa",function(t,e){tv(t.exports,"ft_1",()=>i,t=>i=t),tv(t.exports,"ch32",()=>r,t=>r=t),tv(t.exports,"maj32",()=>n,t=>n=t),tv(t.exports,"s0_256",()=>s,t=>s=t),tv(t.exports,"s1_256",()=>o,t=>o=t),tv(t.exports,"g0_256",()=>a,t=>a=t),tv(t.exports,"g1_256",()=>l,t=>l=t);var i,r,n,s,o,a,l,h=tE("btcbI").rotr32;function f(t,e,i){return t&e^t&i^e&i}i=function(t,e,i,r){var n;return 0===t?(n=e)&i^~n&r:1===t||3===t?e^i^r:2===t?f(e,i,r):void 0},r=function(t,e,i){return t&e^~t&i},n=f,s=function(t){return h(t,2)^h(t,13)^h(t,22)},o=function(t){return h(t,6)^h(t,11)^h(t,25)},a=function(t){return h(t,7)^h(t,18)^t>>>3},l=function(t){return h(t,17)^h(t,19)^t>>>10}}),tk("gBE2w",function(t,e){var i=tE("btcbI"),r=tE("a9EzX");function n(){if(!(this instanceof n))return new n;r.call(this),this.h=[0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]}i.inherits(n,r),t.exports=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}}),tk("a9EzX",function(t,e){var i=tE("btcbI"),r=tE("aAb7n"),n=tE("dV8oa"),s=tE("koC21"),o=i.sum32,a=i.sum32_4,l=i.sum32_5,h=n.ch32,f=n.maj32,u=n.s0_256,c=n.s1_256,d=n.g0_256,p=n.g1_256,b=r.BlockHash,g=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function m(){if(!(this instanceof m))return new m;b.call(this),this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],this.k=g,this.W=Array(64)}i.inherits(m,b),t.exports=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(t,e){for(var i=this.W,r=0;r<16;r++)i[r]=t[e+r];for(;r<i.length;r++)i[r]=a(p(i[r-2]),i[r-7],d(i[r-15]),i[r-16]);var n=this.h[0],b=this.h[1],g=this.h[2],m=this.h[3],y=this.h[4],v=this.h[5],_=this.h[6],w=this.h[7];for(s(this.k.length===i.length),r=0;r<i.length;r++){var x=l(w,c(y),h(y,v,_),this.k[r],i[r]),S=o(u(n),f(n,b,g));w=_,_=v,v=y,y=o(m,x),m=g,g=b,b=n,n=o(x,S)}this.h[0]=o(this.h[0],n),this.h[1]=o(this.h[1],b),this.h[2]=o(this.h[2],g),this.h[3]=o(this.h[3],m),this.h[4]=o(this.h[4],y),this.h[5]=o(this.h[5],v),this.h[6]=o(this.h[6],_),this.h[7]=o(this.h[7],w)},m.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}}),tk("7j4cV",function(t,e){var i=tE("btcbI"),r=tE("lMBCM");function n(){if(!(this instanceof n))return new n;r.call(this),this.h=[0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]}i.inherits(n,r),t.exports=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}}),tk("lMBCM",function(t,e){var i=tE("btcbI"),r=tE("aAb7n"),n=tE("koC21"),s=i.rotr64_hi,o=i.rotr64_lo,a=i.shr64_hi,l=i.shr64_lo,h=i.sum64,f=i.sum64_hi,u=i.sum64_lo,c=i.sum64_4_hi,d=i.sum64_4_lo,p=i.sum64_5_hi,b=i.sum64_5_lo,g=r.BlockHash,m=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179],this.k=m,this.W=Array(160)}i.inherits(y,g),t.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(t,e){for(var i=this.W,r=0;r<32;r++)i[r]=t[e+r];for(;r<i.length;r+=2){var n=function(t,e){var i=s(t,e,19)^s(e,t,29)^a(t,e,6);return i<0&&(i+=0x100000000),i}(i[r-4],i[r-3]),h=function(t,e){var i=o(t,e,19)^o(e,t,29)^l(t,e,6);return i<0&&(i+=0x100000000),i}(i[r-4],i[r-3]),f=i[r-14],u=i[r-13],p=function(t,e){var i=s(t,e,1)^s(t,e,8)^a(t,e,7);return i<0&&(i+=0x100000000),i}(i[r-30],i[r-29]),b=function(t,e){var i=o(t,e,1)^o(t,e,8)^l(t,e,7);return i<0&&(i+=0x100000000),i}(i[r-30],i[r-29]),g=i[r-32],m=i[r-31];i[r]=c(n,h,f,u,p,b,g,m),i[r+1]=d(n,h,f,u,p,b,g,m)}},y.prototype._update=function(t,e){this._prepareBlock(t,e);var i=this.W,r=this.h[0],a=this.h[1],l=this.h[2],c=this.h[3],d=this.h[4],g=this.h[5],m=this.h[6],y=this.h[7],v=this.h[8],_=this.h[9],w=this.h[10],x=this.h[11],S=this.h[12],E=this.h[13],k=this.h[14],A=this.h[15];n(this.k.length===i.length);for(var M=0;M<i.length;M+=2){var T=k,I=A,P=function(t,e){var i=s(t,e,14)^s(t,e,18)^s(e,t,9);return i<0&&(i+=0x100000000),i}(v,_),O=function(t,e){var i=o(t,e,14)^o(t,e,18)^o(e,t,9);return i<0&&(i+=0x100000000),i}(v,_),B=function(t,e,i,r,n){var s=t&i^~t&n;return s<0&&(s+=0x100000000),s}(v,0,w,0,S,E),C=function(t,e,i,r,n,s){var o=e&r^~e&s;return o<0&&(o+=0x100000000),o}(0,_,0,x,0,E),R=this.k[M],L=this.k[M+1],N=i[M],D=i[M+1],U=p(T,I,P,O,B,C,R,L,N,D),H=b(T,I,P,O,B,C,R,L,N,D);T=function(t,e){var i=s(t,e,28)^s(e,t,2)^s(e,t,7);return i<0&&(i+=0x100000000),i}(r,a),I=function(t,e){var i=o(t,e,28)^o(e,t,2)^o(e,t,7);return i<0&&(i+=0x100000000),i}(r,a);var j=f(T,I,P=function(t,e,i,r,n){var s=t&i^t&n^i&n;return s<0&&(s+=0x100000000),s}(r,0,l,0,d,g),O=function(t,e,i,r,n,s){var o=e&r^e&s^r&s;return o<0&&(o+=0x100000000),o}(0,a,0,c,0,g)),F=u(T,I,P,O);k=S,A=E,S=w,E=x,w=v,x=_,v=f(m,y,U,H),_=u(y,y,U,H),m=d,y=g,d=l,g=c,l=r,c=a,r=f(U,H,j,F),a=u(U,H,j,F)}h(this.h,0,r,a),h(this.h,2,l,c),h(this.h,4,d,g),h(this.h,6,m,y),h(this.h,8,v,_),h(this.h,10,w,x),h(this.h,12,S,E),h(this.h,14,k,A)},y.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}}),tk("05eZB",function(t,e){tv(t.exports,"ripemd160",()=>i,t=>i=t);var i,r=tE("btcbI"),n=tE("aAb7n"),s=r.rotl32,o=r.sum32,a=r.sum32_3,l=r.sum32_4,h=n.BlockHash;function f(){if(!(this instanceof f))return new f;h.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.endian="little"}function u(t,e,i,r){return t<=15?e^i^r:t<=31?e&i|~e&r:t<=47?(e|~i)^r:t<=63?e&r|i&~r:e^(i|~r)}r.inherits(f,h),i=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(t,e){for(var i=this.h[0],r=this.h[1],n=this.h[2],h=this.h[3],f=this.h[4],g=i,m=r,y=n,v=h,_=f,w=0;w<80;w++){var x,S,E=o(s(l(i,u(w,r,n,h),t[c[w]+e],(x=w)<=15?0:x<=31?0x5a827999:x<=47?0x6ed9eba1:x<=63?0x8f1bbcdc:0xa953fd4e),p[w]),f);i=f,f=h,h=s(n,10),n=r,r=E,E=o(s(l(g,u(79-w,m,y,v),t[d[w]+e],(S=w)<=15?0x50a28be6:S<=31?0x5c4dd124:S<=47?0x6d703ef3:0x7a6d76e9*!!(S<=63)),b[w]),_),g=_,_=v,v=s(y,10),y=m,m=E}E=a(this.h[1],n,v),this.h[1]=a(this.h[2],h,_),this.h[2]=a(this.h[3],f,g),this.h[3]=a(this.h[4],i,m),this.h[4]=a(this.h[0],r,y),this.h[0]=E},f.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),tk("ap2lu",function(t,e){var i=tE("btcbI"),r=tE("koC21");function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(e,r))}t.exports=n,n.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),r(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(e=0,this.inner=new this.Hash().update(t);e<t.length;e++)t[e]^=106;this.outer=new this.Hash().update(t)},n.prototype.update=function(t,e){return this.inner.update(t,e),this},n.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}}),tk("lNVWe",function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),tk("220Zx",function(t,e){var i=tE("dEXSZ"),r=tE("kKonu"),n=tE("gEVtY"),s=tE("fbTbW"),o=tE("7JHF0"),a=n.assert,l=tE("lPqzs"),h=tE("i46nc");function f(t){if(!(this instanceof f))return new f(t);"string"==typeof t&&(a(Object.prototype.hasOwnProperty.call(s,t),"Unknown curve "+t),t=s[t]),t instanceof s.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=f,f.prototype.keyPair=function(t){return new l(this,t)},f.prototype.keyFromPrivate=function(t,e){return l.fromPrivate(this,t,e)},f.prototype.keyFromPublic=function(t,e){return l.fromPublic(this,t,e)},f.prototype.genKeyPair=function(t){t||(t={});for(var e=new r({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||o(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),s=this.n.sub(new i(2));;){var a=new i(e.generate(n));if(!(a.cmp(s)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(t,e,r){if(i.isBN(t)||"number"==typeof t)n=(t=new i(t,16)).byteLength();else if("object"==typeof t)n=t.length,t=new i(t,16);else{var n,s=t.toString();n=s.length+1>>>1,t=new i(s,16)}"number"!=typeof r&&(r=8*n);var o=r-this.n.bitLength();return(o>0&&(t=t.ushrn(o)),!e&&t.cmp(this.n)>=0)?t.sub(this.n):t},f.prototype.sign=function(t,e,n,s){if("object"==typeof n&&(s=n,n=null),s||(s={}),"string"!=typeof t&&"number"!=typeof t&&!i.isBN(t)){a("object"==typeof t&&t&&"number"==typeof t.length,"Expected message to be an array-like, a hex string, or a BN instance"),a(t.length>>>0===t.length);for(var o=0;o<t.length;o++)a((255&t[o])===t[o])}e=this.keyFromPrivate(e,n),a(!(t=this._truncateToN(t,!1,s.msgBitLength)).isNeg(),"Can not sign a negative message");var l=this.n.byteLength(),f=e.getPrivate().toArray("be",l),u=t.toArray("be",l);a(new i(u).eq(t),"Can not sign message");for(var c=new r({hash:this.hash,entropy:f,nonce:u,pers:s.pers,persEnc:s.persEnc||"utf8"}),d=this.n.sub(new i(1)),p=0;;p++){var b=s.k?s.k(p):new i(c.generate(this.n.byteLength()));if(0>=(b=this._truncateToN(b,!0)).cmpn(1)||b.cmp(d)>=0)continue;var g=this.g.mul(b);if(!g.isInfinity()){var m=g.getX(),y=m.umod(this.n);if(0!==y.cmpn(0)){var v=b.invm(this.n).mul(y.mul(e.getPrivate()).iadd(t));if(0!==(v=v.umod(this.n)).cmpn(0)){var _=+!!g.getY().isOdd()|2*(0!==m.cmp(y));return s.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),_^=1),new h({r:y,s:v,recoveryParam:_})}}}}},f.prototype.verify=function(t,e,i,r,n){n||(n={}),t=this._truncateToN(t,!1,n.msgBitLength),i=this.keyFromPublic(i,r);var s,o=(e=new h(e,"hex")).r,a=e.s;if(0>o.cmpn(1)||o.cmp(this.n)>=0||0>a.cmpn(1)||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),f=l.mul(t).umod(this.n),u=l.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(f,i.getPublic(),u)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(f,i.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(t,e,r,n){a((3&r)===r,"The recovery param is more than two bits"),e=new h(e,n);var s=this.n,o=new i(t),l=e.r,f=e.s,u=1&r,c=r>>1;if(l.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw Error("Unable to find sencond key candinate");l=c?this.curve.pointFromX(l.add(this.curve.n),u):this.curve.pointFromX(l,u);var d=e.r.invm(s),p=s.sub(o).mul(d).umod(s),b=f.mul(d).umod(s);return this.g.mulAdd(p,l,b)},f.prototype.getKeyRecoveryParam=function(t,e,i,r){if(null!==(e=new h(e,r)).recoveryParam)return e.recoveryParam;for(var n,s=0;s<4;s++){try{n=this.recoverPubKey(t,e,s)}catch(t){continue}if(n.eq(i))return s}throw Error("Unable to find valid recovery factor")}}),tk("kKonu",function(t,e){var i=tE("kiSKt"),r=tE("lC4vN"),n=tE("koC21");function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=r.toArray(t.entropy,t.entropyEnc||"hex"),i=r.toArray(t.nonce,t.nonceEnc||"hex"),o=r.toArray(t.pers,t.persEnc||"hex");n(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,i,o)}t.exports=s,s.prototype._init=function(t,e,i){var r=t.concat(e).concat(i);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(r),this._reseed=1,this.reseedInterval=0x1000000000000},s.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,i,s){"string"!=typeof e&&(s=i,i=e,e=null),t=r.toArray(t,e),i=r.toArray(i,s),n(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(i||[])),this._reseed=1},s.prototype.generate=function(t,e,i,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof e&&(n=i,i=e,e=null),i&&(i=r.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(i),this._reseed++,r.encode(o,e)}}),tk("lPqzs",function(t,e){var i=tE("dEXSZ"),r=tE("gEVtY").assert;function n(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=n,n.fromPublic=function(t,e,i){return e instanceof n?e:new n(t,{pub:e,pubEnc:i})},n.fromPrivate=function(t,e,i){return e instanceof n?e:new n(t,{priv:e,privEnc:i})},n.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(t,e){return("string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e)?this.pub.encode(e,t):this.pub},n.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(t,e){this.priv=new i(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(t,e){if(t.x||t.y){"mont"===this.ec.curve.type?r(t.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&r(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,e)},n.prototype.derive=function(t){return t.validate()||r(t.validate(),"public point not validated"),t.mul(this.priv).getX()},n.prototype.sign=function(t,e,i){return this.ec.sign(t,this,e,i)},n.prototype.verify=function(t,e,i){return this.ec.verify(t,e,this,void 0,i)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),tk("i46nc",function(t,e){var i=tE("dEXSZ"),r=tE("gEVtY"),n=r.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(n(t.r&&t.s,"Signature without r or s"),this.r=new i(t.r,16),this.s=new i(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function o(){this.place=0}function a(t,e){var i=t[e.place++];if(!(128&i))return i;var r=15&i;if(0===r||r>4||0===t[e.place])return!1;for(var n=0,s=0,o=e.place;s<r;s++,o++)n<<=8,n|=t[o],n>>>=0;return!(n<=127)&&(e.place=o,n)}function l(t){for(var e=0,i=t.length-1;!t[e]&&!(128&t[e+1])&&e<i;)e++;return 0===e?t:t.slice(e)}function h(t,e){if(e<128){t.push(e);return}var i=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|i);--i;)t.push(e>>>(i<<3)&255);t.push(e)}t.exports=s,s.prototype._importDER=function(t,e){t=r.toArray(t,e);var n=new o;if(48!==t[n.place++])return!1;var s=a(t,n);if(!1===s||s+n.place!==t.length||2!==t[n.place++])return!1;var l=a(t,n);if(!1===l||(128&t[n.place])!=0)return!1;var h=t.slice(n.place,l+n.place);if(n.place+=l,2!==t[n.place++])return!1;var f=a(t,n);if(!1===f||t.length!==f+n.place||(128&t[n.place])!=0)return!1;var u=t.slice(n.place,f+n.place);if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}return this.r=new i(h),this.s=new i(u),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),i=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&i[0]&&(i=[0].concat(i)),e=l(e),i=l(i);!i[0]&&!(128&i[1]);)i=i.slice(1);var n=[2];h(n,e.length),(n=n.concat(e)).push(2),h(n,i.length);var s=n.concat(i),o=[48];return h(o,s.length),o=o.concat(s),r.encode(o,t)}}),tk("esmmS",function(t,e){var i=tE("kiSKt"),r=tE("fbTbW"),n=tE("gEVtY"),s=n.assert,o=n.parseBytes,a=tE("1D85n"),l=tE("7XcGE");function h(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof h))return new h(t);t=r[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=i.sha512}t.exports=h,h.prototype.sign=function(t,e){t=o(t);var i=this.keyFromSecret(e),r=this.hashInt(i.messagePrefix(),t),n=this.g.mul(r),s=this.encodePoint(n),a=this.hashInt(s,i.pubBytes(),t).mul(i.priv()),l=r.add(a).umod(this.curve.n);return this.makeSignature({R:n,S:l,Rencoded:s})},h.prototype.verify=function(t,e,i){if(t=o(t),(e=this.makeSignature(e)).S().gte(e.eddsa.curve.n)||e.S().isNeg())return!1;var r=this.keyFromPublic(i),n=this.hashInt(e.Rencoded(),r.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(r.pub().mul(n)).eq(s)},h.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return n.intFromLE(t.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(t){return a.fromPublic(this,t)},h.prototype.keyFromSecret=function(t){return a.fromSecret(this,t)},h.prototype.makeSignature=function(t){return t instanceof l?t:new l(this,t)},h.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=128*!!t.getX().isOdd(),e},h.prototype.decodePoint=function(t){var e=(t=n.parseBytes(t)).length-1,i=t.slice(0,e).concat(-129&t[e]),r=(128&t[e])!=0,s=n.intFromLE(i);return this.curve.pointFromY(s,r)},h.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(t){return n.intFromLE(t)},h.prototype.isPoint=function(t){return t instanceof this.pointClass}}),tk("1D85n",function(t,e){var i=tE("gEVtY"),r=i.assert,n=i.parseBytes,s=i.cachedProperty;function o(t,e){this.eddsa=t,this._secret=n(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=n(e.pub)}o.fromPublic=function(t,e){return e instanceof o?e:new o(t,{pub:e})},o.fromSecret=function(t,e){return e instanceof o?e:new o(t,{secret:e})},o.prototype.secret=function(){return this._secret},s(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(o,"privBytes",function(){var t=this.eddsa,e=this.hash(),i=t.encodingLength-1,r=e.slice(0,t.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r}),s(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(t){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},o.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},o.prototype.getSecret=function(t){return r(this._secret,"KeyPair is public only"),i.encode(this.secret(),t)},o.prototype.getPublic=function(t){return i.encode(this.pubBytes(),t)},t.exports=o}),tk("7XcGE",function(t,e){var i=tE("dEXSZ"),r=tE("gEVtY"),n=r.assert,s=r.cachedProperty,o=r.parseBytes;function a(t,e){this.eddsa=t,"object"!=typeof e&&(e=o(e)),Array.isArray(e)&&(n(e.length===2*t.encodingLength,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),n(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof i&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(a,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(a,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(a,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(a,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},a.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},t.exports=a}),tk("lYlyf",function(t,e){var i=tE("akIbT"),r=tE("heKts"),n=i.tfJSON,s=i.TfTypeError,o=i.TfPropertyTypeError,a=i.tfSubError,l=i.getValueTypeName,h={arrayOf:function(t,e){function i(i,n){return!(!r.Array(i)||r.Nil(i))&&(void 0===e.minLength||!(i.length<e.minLength))&&(void 0===e.maxLength||!(i.length>e.maxLength))&&(void 0===e.length||i.length===e.length)&&i.every(function(e,i){try{return u(t,e,n)}catch(t){throw a(t,i)}})}return t=f(t),e=e||{},i.toJSON=function(){var i="["+n(t)+"]";return void 0!==e.length?i+="{"+e.length+"}":(void 0!==e.minLength||void 0!==e.maxLength)&&(i+="{"+(void 0===e.minLength?0:e.minLength)+","+(void 0===e.maxLength?1/0:e.maxLength)+"}"),i},i},maybe:function t(e){function i(i,n){return r.Nil(i)||e(i,n,t)}return e=f(e),i.toJSON=function(){return"?"+n(e)},i},map:function(t,e){function i(i,n){if(!r.Object(i)||r.Nil(i))return!1;for(var s in i){try{e&&u(e,s,n)}catch(t){throw a(t,s,"key")}try{var o=i[s];u(t,o,n)}catch(t){throw a(t,s)}}return!0}return t=f(t),e&&(e=f(e)),e?i.toJSON=function(){return"{"+n(e)+": "+n(t)+"}"}:i.toJSON=function(){return"{"+n(t)+"}"},i},object:function(t){var e={};for(var i in t)e[i]=f(t[i]);function s(t,i){if(!r.Object(t)||r.Nil(t))return!1;try{for(n in e){var n,s=e[n],l=t[n];u(s,l,i)}}catch(t){throw a(t,n)}if(i){for(n in t)if(!e[n])throw new o(void 0,n)}return!0}return s.toJSON=function(){return n(e)},s},anyOf:function(){var t=[].slice.call(arguments).map(f);function e(e,i){return t.some(function(t){try{return u(t,e,i)}catch(t){return!1}})}return e.toJSON=function(){return t.map(n).join("|")},e},allOf:function(){var t=[].slice.call(arguments).map(f);function e(e,i){return t.every(function(t){try{return u(t,e,i)}catch(t){return!1}})}return e.toJSON=function(){return t.map(n).join(" & ")},e},quacksLike:function(t){function e(e){return t===l(e)}return e.toJSON=function(){return t},e},tuple:function(){var t=[].slice.call(arguments).map(f);function e(e,i){return!(r.Nil(e)||r.Nil(e.length))&&(!i||e.length===t.length)&&t.every(function(t,r){try{return u(t,e[r],i)}catch(t){throw a(t,r)}})}return e.toJSON=function(){return"("+t.map(n).join(", ")+")"},e},value:function(t){function e(e){return e===t}return e.toJSON=function(){return t},e}};function f(t){if(r.String(t))return"?"===t[0]?h.maybe(t.slice(1)):r[t]||h.quacksLike(t);if(t&&r.Object(t)){if(r.Array(t)){if(1!==t.length)throw TypeError("Expected compile() parameter of type Array of length 1");return h.arrayOf(t[0])}return h.object(t)}return r.Function(t)?t:h.value(t)}function u(t,e,i,n){if(r.Function(t)){if(t(e,i))return!0;throw new s(n||t,e)}return u(f(t),e,i)}for(var c in h.oneOf=h.anyOf,r)u[c]=r[c];for(c in h)u[c]=h[c];var d=tE("8tZX5");for(c in d)u[c]=d[c];u.compile=f,u.TfTypeError=s,u.TfPropertyTypeError=o,t.exports=u}),tk("akIbT",function(t,e){var i=tE("heKts");function r(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function n(t){return i.Nil(t)?"":r(t.constructor)}function s(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function o(t){return i.Function(t)?t.toJSON?t.toJSON():r(t):i.Array(t)?"Array":t&&i.Object(t)?"Object":void 0!==t?t:""}function a(t,e,r){var n=i.Function(e)?"":i.String(e)?JSON.stringify(e):e&&i.Object(e)?"":e;return"Expected "+o(t)+", got"+(""!==r?" "+r:"")+(""!==n?" "+n:"")}function l(t,e,i){i=i||n(e),this.message=a(t,e,i),s(this,l),this.__type=t,this.__value=e,this.__valueTypeName=i}function h(t,e,i,r,h){if(t){var f,u;h=h||n(r),this.message=(f=h,u='" of type ',"key"===i&&(u='" with key type '),a('property "'+o(e)+u+o(t),r,f))}else this.message='Unexpected property "'+e+'"';s(this,l),this.__label=i,this.__property=e,this.__type=t,this.__value=r,this.__valueTypeName=h}l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,h.prototype=Object.create(Error.prototype),h.prototype.constructor=l,t.exports={TfTypeError:l,TfPropertyTypeError:h,tfCustomError:function(t,e){return new l(t,{},e)},tfSubError:function(t,e,i){return t instanceof h?(e=e+"."+t.__property,t=new h(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof l&&(t=new h(t.__type,e,i,t.__value,t.__valueTypeName)),s(t),t},tfJSON:o,getValueTypeName:n}}),tk("heKts",function(t,e){var i={Array:function(t){return null!=t&&t.constructor===Array},Boolean:function(t){return"boolean"==typeof t},Function:function(t){return"function"==typeof t},Nil:function(t){return null==t},Number:function(t){return"number"==typeof t},Object:function(t){return"object"==typeof t},String:function(t){return"string"==typeof t},"":function(){return!0}};for(var r in i.Null=i.Nil,i)i[r].toJSON=(function(t){return t}).bind(null,r);t.exports=i}),tk("8tZX5",function(t,e){var i=tE("6ZWSX").Buffer,r=tE("heKts"),n=tE("akIbT");function s(t){return i.isBuffer(t)}function o(t){return"string"==typeof t&&/^([0-9a-f]{2})+$/i.test(t)}function a(t,e){var i=t.toJSON();function r(r){if(!t(r))return!1;if(r.length===e)return!0;throw n.tfCustomError(i+"(Length: "+e+")",i+"(Length: "+r.length+")")}return r.toJSON=function(){return i},r}var l=a.bind(null,r.Array),h=a.bind(null,s),f=a.bind(null,o),u={ArrayN:l,Buffer:s,BufferN:h,Finite:function(t){return"number"==typeof t&&isFinite(t)},Hex:o,HexN:f,Int8:function(t){return t<<24>>24===t},Int16:function(t){return t<<16>>16===t},Int32:function(t){return(0|t)===t},Int53:function(t){return"number"==typeof t&&t>=-0x1fffffffffffff&&t<=0x1fffffffffffff&&Math.floor(t)===t},Range:function(t,e,i){function n(r,n){return i(r,n)&&r>t&&r<e}return i=i||r.Number,n.toJSON=function(){return`${i.toJSON()} between [${t}, ${e}]`},n},StringN:a.bind(null,r.String),UInt8:function(t){return(255&t)===t},UInt16:function(t){return(65535&t)===t},UInt32:function(t){return t>>>0===t},UInt53:function(t){return"number"==typeof t&&t>=0&&t<=0x1fffffffffffff&&Math.floor(t)===t}};for(var c in u)u[c].toJSON=(function(t){return t}).bind(null,c);t.exports=u}),tk("8zyJG",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("7H7c4"),n=tE("3cFg7"),s=tE("gjBY1"),o=tE("qpq9i");function a(t,e,r){if(!e.equals(i.from([r])))throw Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}function l(t,{globalMapKeyVals:e,inputKeyVals:i,outputKeyVals:s}){let l={unsignedTx:t},h=0;for(let t of e)switch(t.key[0]){case o.GlobalTypes.UNSIGNED_TX:if(a("global",t.key,o.GlobalTypes.UNSIGNED_TX),h>0)throw Error("Format Error: GlobalMap has multiple UNSIGNED_TX");h++;break;case o.GlobalTypes.GLOBAL_XPUB:void 0===l.globalXpub&&(l.globalXpub=[]),l.globalXpub.push(r.globals.globalXpub.decode(t));break;default:l.unknownKeyVals||(l.unknownKeyVals=[]),l.unknownKeyVals.push(t)}let f=i.length,u=s.length,c=[],d=[];for(let t of n.range(f)){let e={};for(let n of i[t])switch(r.inputs.checkPubkey(n),n.key[0]){case o.InputTypes.NON_WITNESS_UTXO:if(a("input",n.key,o.InputTypes.NON_WITNESS_UTXO),void 0!==e.nonWitnessUtxo)throw Error("Format Error: Input has multiple NON_WITNESS_UTXO");e.nonWitnessUtxo=r.inputs.nonWitnessUtxo.decode(n);break;case o.InputTypes.WITNESS_UTXO:if(a("input",n.key,o.InputTypes.WITNESS_UTXO),void 0!==e.witnessUtxo)throw Error("Format Error: Input has multiple WITNESS_UTXO");e.witnessUtxo=r.inputs.witnessUtxo.decode(n);break;case o.InputTypes.PARTIAL_SIG:void 0===e.partialSig&&(e.partialSig=[]),e.partialSig.push(r.inputs.partialSig.decode(n));break;case o.InputTypes.SIGHASH_TYPE:if(a("input",n.key,o.InputTypes.SIGHASH_TYPE),void 0!==e.sighashType)throw Error("Format Error: Input has multiple SIGHASH_TYPE");e.sighashType=r.inputs.sighashType.decode(n);break;case o.InputTypes.REDEEM_SCRIPT:if(a("input",n.key,o.InputTypes.REDEEM_SCRIPT),void 0!==e.redeemScript)throw Error("Format Error: Input has multiple REDEEM_SCRIPT");e.redeemScript=r.inputs.redeemScript.decode(n);break;case o.InputTypes.WITNESS_SCRIPT:if(a("input",n.key,o.InputTypes.WITNESS_SCRIPT),void 0!==e.witnessScript)throw Error("Format Error: Input has multiple WITNESS_SCRIPT");e.witnessScript=r.inputs.witnessScript.decode(n);break;case o.InputTypes.BIP32_DERIVATION:void 0===e.bip32Derivation&&(e.bip32Derivation=[]),e.bip32Derivation.push(r.inputs.bip32Derivation.decode(n));break;case o.InputTypes.FINAL_SCRIPTSIG:a("input",n.key,o.InputTypes.FINAL_SCRIPTSIG),e.finalScriptSig=r.inputs.finalScriptSig.decode(n);break;case o.InputTypes.FINAL_SCRIPTWITNESS:a("input",n.key,o.InputTypes.FINAL_SCRIPTWITNESS),e.finalScriptWitness=r.inputs.finalScriptWitness.decode(n);break;case o.InputTypes.POR_COMMITMENT:a("input",n.key,o.InputTypes.POR_COMMITMENT),e.porCommitment=r.inputs.porCommitment.decode(n);break;case o.InputTypes.TAP_KEY_SIG:a("input",n.key,o.InputTypes.TAP_KEY_SIG),e.tapKeySig=r.inputs.tapKeySig.decode(n);break;case o.InputTypes.TAP_SCRIPT_SIG:void 0===e.tapScriptSig&&(e.tapScriptSig=[]),e.tapScriptSig.push(r.inputs.tapScriptSig.decode(n));break;case o.InputTypes.TAP_LEAF_SCRIPT:void 0===e.tapLeafScript&&(e.tapLeafScript=[]),e.tapLeafScript.push(r.inputs.tapLeafScript.decode(n));break;case o.InputTypes.TAP_BIP32_DERIVATION:void 0===e.tapBip32Derivation&&(e.tapBip32Derivation=[]),e.tapBip32Derivation.push(r.inputs.tapBip32Derivation.decode(n));break;case o.InputTypes.TAP_INTERNAL_KEY:a("input",n.key,o.InputTypes.TAP_INTERNAL_KEY),e.tapInternalKey=r.inputs.tapInternalKey.decode(n);break;case o.InputTypes.TAP_MERKLE_ROOT:a("input",n.key,o.InputTypes.TAP_MERKLE_ROOT),e.tapMerkleRoot=r.inputs.tapMerkleRoot.decode(n);break;default:e.unknownKeyVals||(e.unknownKeyVals=[]),e.unknownKeyVals.push(n)}c.push(e)}for(let t of n.range(u)){let e={};for(let i of s[t])switch(r.outputs.checkPubkey(i),i.key[0]){case o.OutputTypes.REDEEM_SCRIPT:if(a("output",i.key,o.OutputTypes.REDEEM_SCRIPT),void 0!==e.redeemScript)throw Error("Format Error: Output has multiple REDEEM_SCRIPT");e.redeemScript=r.outputs.redeemScript.decode(i);break;case o.OutputTypes.WITNESS_SCRIPT:if(a("output",i.key,o.OutputTypes.WITNESS_SCRIPT),void 0!==e.witnessScript)throw Error("Format Error: Output has multiple WITNESS_SCRIPT");e.witnessScript=r.outputs.witnessScript.decode(i);break;case o.OutputTypes.BIP32_DERIVATION:void 0===e.bip32Derivation&&(e.bip32Derivation=[]),e.bip32Derivation.push(r.outputs.bip32Derivation.decode(i));break;case o.OutputTypes.TAP_INTERNAL_KEY:a("output",i.key,o.OutputTypes.TAP_INTERNAL_KEY),e.tapInternalKey=r.outputs.tapInternalKey.decode(i);break;case o.OutputTypes.TAP_TREE:a("output",i.key,o.OutputTypes.TAP_TREE),e.tapTree=r.outputs.tapTree.decode(i);break;case o.OutputTypes.TAP_BIP32_DERIVATION:void 0===e.tapBip32Derivation&&(e.tapBip32Derivation=[]),e.tapBip32Derivation.push(r.outputs.tapBip32Derivation.decode(i));break;default:e.unknownKeyVals||(e.unknownKeyVals=[]),e.unknownKeyVals.push(i)}d.push(e)}return{globalMap:l,inputs:c,outputs:d}}t.exports.psbtFromBuffer=function(t,e){let i=0;function r(){let e=s.decode(t,i);i+=s.encodingLength(e);let r=t.slice(i,i+e);return i+=e,r}function a(){return{key:r(),value:r()}}function h(){if(i>=t.length)throw Error("Format Error: Unexpected End of PSBT");let e=0===t.readUInt8(i);return e&&i++,e}if(0x70736274!==function(){let e=t.readUInt32BE(i);return i+=4,e}())throw Error("Format Error: Invalid Magic Number");if(255!==function(){let e=t.readUInt8(i);return i+=1,e}())throw Error("Format Error: Magic Number must be followed by 0xff separator");let f=[],u={};for(;!h();){let t=a(),e=t.key.toString("hex");if(u[e])throw Error("Format Error: Keys must be unique for global keymap: key "+e);u[e]=1,f.push(t)}let c=f.filter(t=>t.key[0]===o.GlobalTypes.UNSIGNED_TX);if(1!==c.length)throw Error("Format Error: Only one UNSIGNED_TX allowed");let d=e(c[0].value),{inputCount:p,outputCount:b}=d.getInputOutputCounts(),g=[],m=[];for(let t of n.range(p)){let e={},i=[];for(;!h();){let r=a(),n=r.key.toString("hex");if(e[n])throw Error("Format Error: Keys must be unique for each input: input index "+t+" key "+n);e[n]=1,i.push(r)}g.push(i)}for(let t of n.range(b)){let e={},i=[];for(;!h();){let r=a(),n=r.key.toString("hex");if(e[n])throw Error("Format Error: Keys must be unique for each output: output index "+t+" key "+n);e[n]=1,i.push(r)}m.push(i)}return l(d,{globalMapKeyVals:f,inputKeyVals:g,outputKeyVals:m})},t.exports.checkKeyBuffer=a,t.exports.psbtFromKeyVals=l}),tk("7H7c4",function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0});var i=tE("qpq9i"),r=tE("2M3mP"),n=tE("9CSLb"),s=tE("bHI13"),o=tE("gsMQz"),a=tE("fmNoO"),l=tE("9vZgw"),h=tE("ckVfp"),f=tE("eOKUK"),u=tE("bn4w6"),c=tE("gJHsk"),d=tE("gOgEP"),p=tE("fvNw3"),b=tE("eweRk"),g=tE("jO9dJ"),m=tE("7YFpq"),y=tE("iVrTH"),v=tE("62Nv9"),_=tE("3RTes"),w=tE("1Ya0J"),x=tE("kSfZv");let S={unsignedTx:n,globalXpub:r,checkPubkey:y.makeChecker([])};t.exports.globals=S;let E={nonWitnessUtxo:a,partialSig:l,sighashType:f,finalScriptSig:s,finalScriptWitness:o,porCommitment:h,witnessUtxo:b,bip32Derivation:m.makeConverter(i.InputTypes.BIP32_DERIVATION),redeemScript:v.makeConverter(i.InputTypes.REDEEM_SCRIPT),witnessScript:x.makeConverter(i.InputTypes.WITNESS_SCRIPT),checkPubkey:y.makeChecker([i.InputTypes.PARTIAL_SIG,i.InputTypes.BIP32_DERIVATION]),tapKeySig:u,tapScriptSig:p,tapLeafScript:c,tapBip32Derivation:_.makeConverter(i.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:w.makeConverter(i.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:d};t.exports.inputs=E;let k={bip32Derivation:m.makeConverter(i.OutputTypes.BIP32_DERIVATION),redeemScript:v.makeConverter(i.OutputTypes.REDEEM_SCRIPT),witnessScript:x.makeConverter(i.OutputTypes.WITNESS_SCRIPT),checkPubkey:y.makeChecker([i.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:_.makeConverter(i.OutputTypes.TAP_BIP32_DERIVATION),tapTree:g,tapInternalKey:w.makeConverter(i.OutputTypes.TAP_INTERNAL_KEY)};t.exports.outputs=k}),tk("qpq9i",function(t,e){var i,r,n;Object.defineProperty(t.exports,"__esModule",{value:!0}),(i=t.exports.GlobalTypes||(t.exports.GlobalTypes={}))[i.UNSIGNED_TX=0]="UNSIGNED_TX",i[i.GLOBAL_XPUB=1]="GLOBAL_XPUB",t.exports.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],(r=t.exports.InputTypes||(t.exports.InputTypes={}))[r.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",r[r.WITNESS_UTXO=1]="WITNESS_UTXO",r[r.PARTIAL_SIG=2]="PARTIAL_SIG",r[r.SIGHASH_TYPE=3]="SIGHASH_TYPE",r[r.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",r[r.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",r[r.BIP32_DERIVATION=6]="BIP32_DERIVATION",r[r.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",r[r.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",r[r.POR_COMMITMENT=9]="POR_COMMITMENT",r[r.TAP_KEY_SIG=19]="TAP_KEY_SIG",r[r.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",r[r.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",r[r.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",r[r.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",r[r.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT",t.exports.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],(n=t.exports.OutputTypes||(t.exports.OutputTypes={}))[n.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",n[n.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",n[n.BIP32_DERIVATION=2]="BIP32_DERIVATION",n[n.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",n[n.TAP_TREE=6]="TAP_TREE",n[n.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION",t.exports.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]}),tk("2M3mP",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");let n=t=>[...Array(t).keys()];t.exports.decode=function(t){if(t.key[0]!==r.GlobalTypes.GLOBAL_XPUB)throw Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(79!==t.key.length||![2,3].includes(t.key[46]))throw Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!=0)throw Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),i={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let e of n(t.value.length/4-1)){let r=t.value.readUInt32LE(4*e+4),n=!!(0x80000000&r),s=0x7fffffff&r;i.path+="/"+s.toString(10)+(n?"'":"")}return i},t.exports.encode=function(t){let e=i.from([r.GlobalTypes.GLOBAL_XPUB]),n=i.concat([e,t.extendedPubkey]),s=t.path.split("/"),o=i.allocUnsafe(4*s.length);t.masterFingerprint.copy(o,0);let a=4;return s.slice(1).forEach(t=>{let e="'"===t.slice(-1),i=0x7fffffff&parseInt(e?t.slice(0,-1):t,10);e&&(i+=0x80000000),o.writeUInt32LE(i,a),a+=4}),{key:n,value:o}},t.exports.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",t.exports.check=function(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return i.isBuffer(e)&&78===e.length&&[2,3].indexOf(e[45])>-1&&i.isBuffer(r)&&4===r.length&&"string"==typeof n&&!!n.match(/^m(\/\d+'?)*$/)},t.exports.canAddToArray=function(t,e,i){let r=e.extendedPubkey.toString("hex");return!i.has(r)&&(i.add(r),0===t.filter(t=>t.extendedPubkey.equals(e.extendedPubkey)).length)}}),tk("9CSLb",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");t.exports.encode=function(t){return{key:i.from([r.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}}),tk("bHI13",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");t.exports.decode=function(t){if(t.key[0]!==r.InputTypes.FINAL_SCRIPTSIG)throw Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value},t.exports.encode=function(t){return{key:i.from([r.InputTypes.FINAL_SCRIPTSIG]),value:t}},t.exports.expected="Buffer",t.exports.check=function(t){return i.isBuffer(t)},t.exports.canAdd=function(t,e){return!!t&&!!e&&void 0===t.finalScriptSig}}),tk("gsMQz",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");t.exports.decode=function(t){if(t.key[0]!==r.InputTypes.FINAL_SCRIPTWITNESS)throw Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value},t.exports.encode=function(t){return{key:i.from([r.InputTypes.FINAL_SCRIPTWITNESS]),value:t}},t.exports.expected="Buffer",t.exports.check=function(t){return i.isBuffer(t)},t.exports.canAdd=function(t,e){return!!t&&!!e&&void 0===t.finalScriptWitness}}),tk("fmNoO",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");t.exports.decode=function(t){if(t.key[0]!==r.InputTypes.NON_WITNESS_UTXO)throw Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value},t.exports.encode=function(t){return{key:i.from([r.InputTypes.NON_WITNESS_UTXO]),value:t}},t.exports.expected="Buffer",t.exports.check=function(t){return i.isBuffer(t)},t.exports.canAdd=function(t,e){return!!t&&!!e&&void 0===t.nonWitnessUtxo}}),tk("9vZgw",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");t.exports.decode=function(t){if(t.key[0]!==r.InputTypes.PARTIAL_SIG)throw Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(34!==t.key.length&&66!==t.key.length||![2,3,4].includes(t.key[1]))throw Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}},t.exports.encode=function(t){let e=i.from([r.InputTypes.PARTIAL_SIG]);return{key:i.concat([e,t.pubkey]),value:t.signature}},t.exports.expected="{ pubkey: Buffer; signature: Buffer; }",t.exports.check=function(t){return i.isBuffer(t.pubkey)&&i.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&function(t){if(!i.isBuffer(t)||t.length<9||48!==t[0]||t.length!==t[1]+3||2!==t[2])return!1;let e=t[3];if(e>33||e<1||2!==t[3+e+1])return!1;let r=t[3+e+2];return!(r>33)&&!(r<1)&&t.length===3+e+2+r+2}(t.signature)},t.exports.canAddToArray=function(t,e,i){let r=e.pubkey.toString("hex");return!i.has(r)&&(i.add(r),0===t.filter(t=>t.pubkey.equals(e.pubkey)).length)}}),tk("ckVfp",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");t.exports.decode=function(t){if(t.key[0]!==r.InputTypes.POR_COMMITMENT)throw Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")},t.exports.encode=function(t){return{key:i.from([r.InputTypes.POR_COMMITMENT]),value:i.from(t,"utf8")}},t.exports.expected="string",t.exports.check=function(t){return"string"==typeof t},t.exports.canAdd=function(t,e){return!!t&&!!e&&void 0===t.porCommitment}}),tk("eOKUK",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");t.exports.decode=function(t){if(t.key[0]!==r.InputTypes.SIGHASH_TYPE)throw Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)},t.exports.encode=function(t){let e=i.from([r.InputTypes.SIGHASH_TYPE]),n=i.allocUnsafe(4);return n.writeUInt32LE(t,0),{key:e,value:n}},t.exports.expected="number",t.exports.check=function(t){return"number"==typeof t},t.exports.canAdd=function(t,e){return!!t&&!!e&&void 0===t.sighashType}}),tk("bn4w6",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");function n(t){return i.isBuffer(t)&&(64===t.length||65===t.length)}t.exports.decode=function(t){if(t.key[0]!==r.InputTypes.TAP_KEY_SIG||1!==t.key.length)throw Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!n(t.value))throw Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value},t.exports.encode=function(t){return{key:i.from([r.InputTypes.TAP_KEY_SIG]),value:t}},t.exports.expected="Buffer",t.exports.check=n,t.exports.canAdd=function(t,e){return!!t&&!!e&&void 0===t.tapKeySig}}),tk("gJHsk",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");t.exports.decode=function(t){if(t.key[0]!==r.InputTypes.TAP_LEAF_SCRIPT)throw Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!=0)throw Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((254&t.key[1])!==e)throw Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let i=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:i,leafVersion:e}},t.exports.encode=function(t){let e=i.from([r.InputTypes.TAP_LEAF_SCRIPT]),n=i.from([t.leafVersion]);return{key:i.concat([e,t.controlBlock]),value:i.concat([t.script,n])}},t.exports.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",t.exports.check=function(t){return i.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32==0&&(254&t.controlBlock[0])===t.leafVersion&&i.isBuffer(t.script)},t.exports.canAddToArray=function(t,e,i){let r=e.controlBlock.toString("hex");return!i.has(r)&&(i.add(r),0===t.filter(t=>t.controlBlock.equals(e.controlBlock)).length)}}),tk("gOgEP",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");function n(t){return i.isBuffer(t)&&32===t.length}t.exports.decode=function(t){if(t.key[0]!==r.InputTypes.TAP_MERKLE_ROOT||1!==t.key.length)throw Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!n(t.value))throw Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value},t.exports.encode=function(t){return{key:i.from([r.InputTypes.TAP_MERKLE_ROOT]),value:t}},t.exports.expected="Buffer",t.exports.check=n,t.exports.canAdd=function(t,e){return!!t&&!!e&&void 0===t.tapMerkleRoot}}),tk("fvNw3",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i");t.exports.decode=function(t){if(t.key[0]!==r.InputTypes.TAP_SCRIPT_SIG)throw Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(65!==t.key.length)throw Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(64!==t.value.length&&65!==t.value.length)throw Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1,33),leafHash:t.key.slice(33),signature:t.value}},t.exports.encode=function(t){let e=i.from([r.InputTypes.TAP_SCRIPT_SIG]);return{key:i.concat([e,t.pubkey,t.leafHash]),value:t.signature}},t.exports.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",t.exports.check=function(t){return i.isBuffer(t.pubkey)&&i.isBuffer(t.leafHash)&&i.isBuffer(t.signature)&&32===t.pubkey.length&&32===t.leafHash.length&&(64===t.signature.length||65===t.signature.length)},t.exports.canAddToArray=function(t,e,i){let r=e.pubkey.toString("hex")+e.leafHash.toString("hex");return!i.has(r)&&(i.add(r),0===t.filter(t=>t.pubkey.equals(e.pubkey)&&t.leafHash.equals(e.leafHash)).length)}}),tk("eweRk",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i"),n=tE("3cFg7"),s=tE("gjBY1");t.exports.decode=function(t){if(t.key[0]!==r.InputTypes.WITNESS_UTXO)throw Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=n.readUInt64LE(t.value,0),i=8,o=s.decode(t.value,i);i+=s.encodingLength(o);let a=t.value.slice(i);if(a.length!==o)throw Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:a,value:e}},t.exports.encode=function(t){let{script:e,value:o}=t,a=s.encodingLength(e.length),l=i.allocUnsafe(8+a+e.length);return n.writeUInt64LE(l,o,0),s.encode(e.length,l,8),e.copy(l,8+a),{key:i.from([r.InputTypes.WITNESS_UTXO]),value:l}},t.exports.expected="{ script: Buffer; value: number; }",t.exports.check=function(t){return i.isBuffer(t.script)&&"number"==typeof t.value},t.exports.canAdd=function(t,e){return!!t&&!!e&&void 0===t.witnessUtxo}}),tk("3cFg7",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("gjBY1");function n(t){let e=t.key.length,n=t.value.length,s=r.encodingLength(e),o=r.encodingLength(n),a=i.allocUnsafe(s+e+o+n);return r.encode(e,a,0),t.key.copy(a,s),r.encode(n,a,s+e),t.value.copy(a,s+e+o),a}function s(t,e){if("number"!=typeof t)throw Error("cannot write a non-number as a number");if(t<0)throw Error("specified a negative value for writing an unsigned value");if(t>e)throw Error("RangeError: value out of range");if(Math.floor(t)!==t)throw Error("value has a fractional component")}t.exports.range=t=>[...Array(t).keys()],t.exports.reverseBuffer=function(t){if(t.length<1)return t;let e=t.length-1,i=0;for(let r=0;r<t.length/2;r++)i=t[r],t[r]=t[e],t[e]=i,e--;return t},t.exports.keyValsToBuffer=function(t){let e=t.map(n);return e.push(i.from([0])),i.concat(e)},t.exports.keyValToBuffer=n,t.exports.readUInt64LE=function(t,e){let i=t.readUInt32LE(e),r=t.readUInt32LE(e+4);return s((r*=0x100000000)+i,0x1fffffffffffff),r+i},t.exports.writeUInt64LE=function(t,e,i){return s(e,0x1fffffffffffff),t.writeInt32LE(-1&e,i),t.writeUInt32LE(Math.floor(e/0x100000000),i+4),i+8}}),tk("gjBY1",function(t,e){var i=tE("6ZWSX").Buffer;function r(t){if(t<0||t>0x1fffffffffffff||t%1!=0)throw RangeError("value out of range")}function n(t){return r(t),t<253?1:t<=65535?3:t<=0xffffffff?5:9}Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.encode=function t(e,s,o){if(r(e),s||(s=i.allocUnsafe(n(e))),!i.isBuffer(s))throw TypeError("buffer must be a Buffer instance");return o||(o=0),e<253?(s.writeUInt8(e,o),Object.assign(t,{bytes:1})):e<=65535?(s.writeUInt8(253,o),s.writeUInt16LE(e,o+1),Object.assign(t,{bytes:3})):e<=0xffffffff?(s.writeUInt8(254,o),s.writeUInt32LE(e,o+1),Object.assign(t,{bytes:5})):(s.writeUInt8(255,o),s.writeUInt32LE(e>>>0,o+1),s.writeUInt32LE(e/0x100000000|0,o+5),Object.assign(t,{bytes:9})),s},t.exports.decode=function t(e,n){if(!i.isBuffer(e))throw TypeError("buffer must be a Buffer instance");n||(n=0);let s=e.readUInt8(n);if(s<253)return Object.assign(t,{bytes:1}),s;if(253===s)return Object.assign(t,{bytes:3}),e.readUInt16LE(n+1);if(254===s)return Object.assign(t,{bytes:5}),e.readUInt32LE(n+1);{Object.assign(t,{bytes:9});let i=e.readUInt32LE(n+1),s=0x100000000*e.readUInt32LE(n+5)+i;return r(s),s}},t.exports.encodingLength=n}),tk("jO9dJ",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("qpq9i"),n=tE("gjBY1");t.exports.decode=function(t){if(t.key[0]!==r.OutputTypes.TAP_TREE||1!==t.key.length)throw Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,i=[];for(;e<t.value.length;){let r=t.value[e++],s=t.value[e++],o=n.decode(t.value,e);e+=n.encodingLength(o),i.push({depth:r,leafVersion:s,script:t.value.slice(e,e+o)}),e+=o}return{leaves:i}},t.exports.encode=function(t){let e=i.from([r.OutputTypes.TAP_TREE]),s=[].concat(...t.leaves.map(t=>[i.of(t.depth,t.leafVersion),n.encode(t.script.length),t.script]));return{key:e,value:i.concat(s)}},t.exports.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",t.exports.check=function(t){return Array.isArray(t.leaves)&&t.leaves.every(t=>t.depth>=0&&t.depth<=128&&(254&t.leafVersion)===t.leafVersion&&i.isBuffer(t.script))},t.exports.canAdd=function(t,e){return!!t&&!!e&&void 0===t.tapTree}}),tk("7YFpq",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});let r=t=>[...Array(t).keys()],n=t=>33===t.length&&[2,3].includes(t[0])||65===t.length&&4===t[0];t.exports.makeConverter=function(t,e=n){return{decode:function(i){if(i.key[0]!==t)throw Error("Decode Error: could not decode bip32Derivation with key 0x"+i.key.toString("hex"));let n=i.key.slice(1);if(!e(n))throw Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+i.key.toString("hex"));if(i.value.length/4%1!=0)throw Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let s={masterFingerprint:i.value.slice(0,4),pubkey:n,path:"m"};for(let t of r(i.value.length/4-1)){let e=i.value.readUInt32LE(4*t+4),r=!!(0x80000000&e),n=0x7fffffff&e;s.path+="/"+n.toString(10)+(r?"'":"")}return s},encode:function(e){let r=i.from([t]),n=i.concat([r,e.pubkey]),s=e.path.split("/"),o=i.allocUnsafe(4*s.length);e.masterFingerprint.copy(o,0);let a=4;return s.slice(1).forEach(t=>{let e="'"===t.slice(-1),i=0x7fffffff&parseInt(e?t.slice(0,-1):t,10);e&&(i+=0x80000000),o.writeUInt32LE(i,a),a+=4}),{key:n,value:o}},check:function(t){return i.isBuffer(t.pubkey)&&i.isBuffer(t.masterFingerprint)&&"string"==typeof t.path&&e(t.pubkey)&&4===t.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(t,e,i){let r=e.pubkey.toString("hex");return!i.has(r)&&(i.add(r),0===t.filter(t=>t.pubkey.equals(e.pubkey)).length)}}}}),tk("iVrTH",function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.makeChecker=function(t){return function(e){let i;if(t.includes(e.key[0])&&(33!==(i=e.key.slice(1)).length&&65!==i.length||![2,3,4].includes(i[0])))throw Error("Format Error: invalid pubkey in key 0x"+e.key.toString("hex"));return i}}}),tk("62Nv9",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.makeConverter=function(t){return{decode:function(e){if(e.key[0]!==t)throw Error("Decode Error: could not decode redeemScript with key 0x"+e.key.toString("hex"));return e.value},encode:function(e){return{key:i.from([t]),value:e}},check:function(t){return i.isBuffer(t)},expected:"Buffer",canAdd:function(t,e){return!!t&&!!e&&void 0===t.redeemScript}}}}),tk("3RTes",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("gjBY1"),n=tE("7YFpq");let s=t=>32===t.length;t.exports.makeConverter=function(t){let e=n.makeConverter(t,s);return{decode:function(t){let i=r.decode(t.value),n=r.encodingLength(i),s=e.decode({key:t.key,value:t.value.slice(n+32*i)}),o=Array(i);for(let e=0,r=n;e<i;e++,r+=32)o[e]=t.value.slice(r,r+32);return Object.assign({},s,{leafHashes:o})},encode:function(t){let n=e.encode(t),s=r.encodingLength(t.leafHashes.length),o=i.allocUnsafe(s);r.encode(t.leafHashes.length,o);let a=i.concat([o,...t.leafHashes,n.value]);return Object.assign({},n,{value:a})},check:function(t){return Array.isArray(t.leafHashes)&&t.leafHashes.every(t=>i.isBuffer(t)&&32===t.length)&&e.check(t)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:e.canAddToArray}}}),tk("1Ya0J",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.makeConverter=function(t){return{decode:function(e){if(e.key[0]!==t||1!==e.key.length)throw Error("Decode Error: could not decode tapInternalKey with key 0x"+e.key.toString("hex"));if(32!==e.value.length)throw Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return e.value},encode:function(e){return{key:i.from([t]),value:e}},check:function(t){return i.isBuffer(t)&&32===t.length},expected:"Buffer",canAdd:function(t,e){return!!t&&!!e&&void 0===t.tapInternalKey}}}}),tk("kSfZv",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.makeConverter=function(t){return{decode:function(e){if(e.key[0]!==t)throw Error("Decode Error: could not decode witnessScript with key 0x"+e.key.toString("hex"));return e.value},encode:function(e){return{key:i.from([t]),value:e}},check:function(t){return i.isBuffer(t)},expected:"Buffer",canAdd:function(t,e){return!!t&&!!e&&void 0===t.witnessScript}}}}),tk("iWOny",function(t,e){var i=tE("6ZWSX").Buffer;Object.defineProperty(t.exports,"__esModule",{value:!0});var r=tE("7H7c4"),n=tE("3cFg7");t.exports.psbtToBuffer=function({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:s,inputKeyVals:o,outputKeyVals:l}=a({globalMap:t,inputs:e,outputs:r}),h=n.keyValsToBuffer(s),f=t=>0===t.length?[i.from([0])]:t.map(n.keyValsToBuffer),u=f(o),c=f(l),d=i.allocUnsafe(5);return d.writeUIntBE(0x70736274ff,0,5),i.concat([d,h].concat(u,c))};let s=(t,e)=>t.key.compare(e.key);function o(t,e){let i=new Set,r=Object.entries(t).reduce((t,[r,n])=>{if("unknownKeyVals"===r)return t;let s=e[r];if(void 0===s)return t;let o=(Array.isArray(n)?n:[n]).map(s.encode);return o.map(t=>t.key.toString("hex")).forEach(t=>{if(i.has(t))throw Error("Serialize Error: Duplicate key: "+t);i.add(t)}),t.concat(o)},[]),n=t.unknownKeyVals?t.unknownKeyVals.filter(t=>!i.has(t.key.toString("hex"))):[];return r.concat(n).sort(s)}function a({globalMap:t,inputs:e,outputs:i}){return{globalKeyVals:o(t,r.globals),inputKeyVals:e.map(t=>o(t,r.inputs)),outputKeyVals:i.map(t=>o(t,r.outputs))}}t.exports.psbtToKeyVals=a}),tk("f504n",function(t,e){var i=tE("23YZo"),r=tE("fiQnm"),n=e&&!e.nodeType&&e,s=n&&t&&!t.nodeType&&t,o=s&&s.exports===n?i.Buffer:void 0;t.exports=(o?o.isBuffer:void 0)||r}),tk("23YZo",function(t,e){var i=tE("ljJ8G"),r="object"==typeof self&&self&&self.Object===Object&&self;t.exports=i||r||Function("return this")()}),tk("ljJ8G",function(t,e){t.exports="object"==typeof ty&&ty&&ty.Object===Object&&ty}),tk("fiQnm",function(t,e){t.exports=function(){return!1}}),tk("jIny1",function(t,e){var i=tE("ljJ8G"),r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,s=n&&n.exports===r&&i.process;t.exports=function(){try{var t=n&&n.require&&n.require("util").types;if(t)return t;return s&&s.binding&&s.binding("util")}catch(t){}}()}),tk("uQ1Em",function(t,e){var i=tE("23YZo"),r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,s=n&&n.exports===r?i.Buffer:void 0,o=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var i=t.length,r=o?o(i):new t.constructor(i);return t.copy(r),r}});var tA={};tv(tA,"popperGenerator",()=>eq),tv(tA,"detectOverflow",()=>eB),tv(tA,"createPopperBase",()=>e$),tv(tA,"createPopper",()=>ez),tv(tA,"createPopperLite",()=>eV);var tM={};tv(tM,"top",()=>tT),tv(tM,"bottom",()=>tI),tv(tM,"right",()=>tP),tv(tM,"left",()=>tO),tv(tM,"auto",()=>tB),tv(tM,"basePlacements",()=>tC),tv(tM,"start",()=>tR),tv(tM,"end",()=>tL),tv(tM,"clippingParents",()=>tN),tv(tM,"viewport",()=>tD),tv(tM,"popper",()=>tU),tv(tM,"reference",()=>tH),tv(tM,"variationPlacements",()=>tj),tv(tM,"placements",()=>tF),tv(tM,"beforeRead",()=>tq),tv(tM,"read",()=>t$),tv(tM,"afterRead",()=>tz),tv(tM,"beforeMain",()=>tV),tv(tM,"main",()=>tW),tv(tM,"afterMain",()=>tK),tv(tM,"beforeWrite",()=>tQ),tv(tM,"write",()=>tG),tv(tM,"afterWrite",()=>tX),tv(tM,"modifierPhases",()=>tY);var tT="top",tI="bottom",tP="right",tO="left",tB="auto",tC=[tT,tI,tP,tO],tR="start",tL="end",tN="clippingParents",tD="viewport",tU="popper",tH="reference",tj=tC.reduce(function(t,e){return t.concat([e+"-"+tR,e+"-"+tL])},[]),tF=[].concat(tC,[tB]).reduce(function(t,e){return t.concat([e,e+"-"+tR,e+"-"+tL])},[]),tq="beforeRead",t$="read",tz="afterRead",tV="beforeMain",tW="main",tK="afterMain",tQ="beforeWrite",tG="write",tX="afterWrite",tY=[tq,t$,tz,tV,tW,tK,tQ,tG,tX],tZ={};function tJ(t){return t?(t.nodeName||"").toLowerCase():null}function t0(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function t1(t){var e=t0(t).Element;return t instanceof e||t instanceof Element}function t2(t){var e=t0(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function t3(t){if("undefined"==typeof ShadowRoot)return!1;var e=t0(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}tv(tZ,"applyStyles",()=>t6),tv(tZ,"arrow",()=>ep),tv(tZ,"computeStyles",()=>ey),tv(tZ,"eventListeners",()=>e_),tv(tZ,"flip",()=>eC),tv(tZ,"hide",()=>eN),tv(tZ,"offset",()=>eD),tv(tZ,"popperOffsets",()=>eU),tv(tZ,"preventOverflow",()=>eH);var t6={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},n=e.elements[t];t2(n)&&tJ(n)&&(Object.assign(n.style,i),Object.keys(r).forEach(function(t){var e=r[t];!1===e?n.removeAttribute(t):n.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(t){var r=e.elements[t],n=e.attributes[t]||{},s=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce(function(t,e){return t[e]="",t},{});t2(r)&&tJ(r)&&(Object.assign(r.style,s),Object.keys(n).forEach(function(t){r.removeAttribute(t)}))})}},requires:["computeStyles"]};function t5(t){return t.split("-")[0]}var t8=Math.max,t4=Math.min,t9=Math.round;function t7(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function et(){return!/^((?!chrome|android).)*safari/i.test(t7())}function ee(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var r=t.getBoundingClientRect(),n=1,s=1;e&&t2(t)&&(n=t.offsetWidth>0&&t9(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&t9(r.height)/t.offsetHeight||1);var o=(t1(t)?t0(t):window).visualViewport,a=!et()&&i,l=(r.left+(a&&o?o.offsetLeft:0))/n,h=(r.top+(a&&o?o.offsetTop:0))/s,f=r.width/n,u=r.height/s;return{width:f,height:u,top:h,right:l+f,bottom:h+u,left:l,x:l,y:h}}function ei(t){var e=ee(t),i=t.offsetWidth,r=t.offsetHeight;return 1>=Math.abs(e.width-i)&&(i=e.width),1>=Math.abs(e.height-r)&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:r}}function er(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&t3(i)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function en(t){return t0(t).getComputedStyle(t)}function es(t){return((t1(t)?t.ownerDocument:t.document)||window.document).documentElement}function eo(t){return"html"===tJ(t)?t:t.assignedSlot||t.parentNode||(t3(t)?t.host:null)||es(t)}function ea(t){return t2(t)&&"fixed"!==en(t).position?t.offsetParent:null}function el(t){for(var e=t0(t),i=ea(t);i&&["table","td","th"].indexOf(tJ(i))>=0&&"static"===en(i).position;)i=ea(i);return i&&("html"===tJ(i)||"body"===tJ(i)&&"static"===en(i).position)?e:i||function(t){var e=/firefox/i.test(t7());if(/Trident/i.test(t7())&&t2(t)&&"fixed"===en(t).position)return null;var i=eo(t);for(t3(i)&&(i=i.host);t2(i)&&0>["html","body"].indexOf(tJ(i));){var r=en(i);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return i;i=i.parentNode}return null}(t)||e}function eh(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ef(t,e,i){return t8(t,t4(e,i))}function eu(){return{top:0,right:0,bottom:0,left:0}}function ec(t){return Object.assign({},eu(),t)}function ed(t,e){return e.reduce(function(e,i){return e[i]=t,e},{})}var ep={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,r=t.name,n=t.options,s=i.elements.arrow,o=i.modifiersData.popperOffsets,a=t5(i.placement),l=eh(a),h=[tO,tP].indexOf(a)>=0?"height":"width";if(s&&o){var f,u=ec("number"!=typeof(f="function"==typeof(f=n.padding)?f(Object.assign({},i.rects,{placement:i.placement})):f)?f:ed(f,tC)),c=ei(s),d="y"===l?tT:tO,p="y"===l?tI:tP,b=i.rects.reference[h]+i.rects.reference[l]-o[l]-i.rects.popper[h],g=o[l]-i.rects.reference[l],m=el(s),y=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,v=u[d],_=y-c[h]-u[p],w=y/2-c[h]/2+(b/2-g/2),x=ef(v,w,_);i.modifiersData[r]=((e={})[l]=x,e.centerOffset=x-w,e)}},effect:function(t){var e=t.state,i=t.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&er(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function eb(t){return t.split("-")[1]}var eg={top:"auto",right:"auto",bottom:"auto",left:"auto"};function em(t){var e,i,r,n,s,o,a,l=t.popper,h=t.popperRect,f=t.placement,u=t.variation,c=t.offsets,d=t.position,p=t.gpuAcceleration,b=t.adaptive,g=t.roundOffsets,m=t.isFixed,y=c.x,v=void 0===y?0:y,_=c.y,w=void 0===_?0:_,x="function"==typeof g?g({x:v,y:w}):{x:v,y:w};v=x.x,w=x.y;var S=c.hasOwnProperty("x"),E=c.hasOwnProperty("y"),k=tO,A=tT,M=window;if(b){var T=el(l),I="clientHeight",P="clientWidth";T===t0(l)&&"static"!==en(T=es(l)).position&&"absolute"===d&&(I="scrollHeight",P="scrollWidth"),(f===tT||(f===tO||f===tP)&&u===tL)&&(A=tI,w-=(m&&T===M&&M.visualViewport?M.visualViewport.height:T[I])-h.height,w*=p?1:-1),(f===tO||(f===tT||f===tI)&&u===tL)&&(k=tP,v-=(m&&T===M&&M.visualViewport?M.visualViewport.width:T[P])-h.width,v*=p?1:-1)}var O=Object.assign({position:d},b&&eg),B=!0===g?(e={x:v,y:w},i=t0(l),r=e.x,n=e.y,{x:t9(r*(s=i.devicePixelRatio||1))/s||0,y:t9(n*s)/s||0}):{x:v,y:w};return(v=B.x,w=B.y,p)?Object.assign({},O,((a={})[A]=E?"0":"",a[k]=S?"0":"",a.transform=1>=(M.devicePixelRatio||1)?"translate("+v+"px, "+w+"px)":"translate3d("+v+"px, "+w+"px, 0)",a)):Object.assign({},O,((o={})[A]=E?w+"px":"",o[k]=S?v+"px":"",o.transform="",o))}var ey={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,r=i.gpuAcceleration,n=i.adaptive,s=i.roundOffsets,o=void 0===s||s,a={placement:t5(e.placement),variation:eb(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,em(Object.assign({},a,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:void 0===n||n,roundOffsets:o})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,em(Object.assign({},a,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},ev={passive:!0},e_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,r=t.options,n=r.scroll,s=void 0===n||n,o=r.resize,a=void 0===o||o,l=t0(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(t){t.addEventListener("scroll",i.update,ev)}),a&&l.addEventListener("resize",i.update,ev),function(){s&&h.forEach(function(t){t.removeEventListener("scroll",i.update,ev)}),a&&l.removeEventListener("resize",i.update,ev)}},data:{}},ew={left:"right",right:"left",bottom:"top",top:"bottom"};function ex(t){return t.replace(/left|right|bottom|top/g,function(t){return ew[t]})}var eS={start:"end",end:"start"};function eE(t){return t.replace(/start|end/g,function(t){return eS[t]})}function ek(t){var e=t0(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function eA(t){return ee(es(t)).left+ek(t).scrollLeft}function eM(t){var e=en(t),i=e.overflow,r=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+r)}function eT(t,e){void 0===e&&(e=[]);var i,r=function t(e){return["html","body","#document"].indexOf(tJ(e))>=0?e.ownerDocument.body:t2(e)&&eM(e)?e:t(eo(e))}(t),n=r===(null==(i=t.ownerDocument)?void 0:i.body),s=t0(r),o=n?[s].concat(s.visualViewport||[],eM(r)?r:[]):r,a=e.concat(o);return n?a:a.concat(eT(eo(o)))}function eI(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function eP(t,e,i){var r,n,s,o,a,l,h,f,u,c;return e===tD?eI(function(t,e){var i=t0(t),r=es(t),n=i.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;var h=et();(h||!h&&"fixed"===e)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a+eA(t),y:l}}(t,i)):t1(e)?((r=ee(e,!1,"fixed"===i)).top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r):eI((n=es(t),o=es(n),a=ek(n),l=null==(s=n.ownerDocument)?void 0:s.body,h=t8(o.scrollWidth,o.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),f=t8(o.scrollHeight,o.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),u=-a.scrollLeft+eA(n),c=-a.scrollTop,"rtl"===en(l||o).direction&&(u+=t8(o.clientWidth,l?l.clientWidth:0)-h),{width:h,height:f,x:u,y:c}))}function eO(t){var e,i=t.reference,r=t.element,n=t.placement,s=n?t5(n):null,o=n?eb(n):null,a=i.x+i.width/2-r.width/2,l=i.y+i.height/2-r.height/2;switch(s){case tT:e={x:a,y:i.y-r.height};break;case tI:e={x:a,y:i.y+i.height};break;case tP:e={x:i.x+i.width,y:l};break;case tO:e={x:i.x-r.width,y:l};break;default:e={x:i.x,y:i.y}}var h=s?eh(s):null;if(null!=h){var f="y"===h?"height":"width";switch(o){case tR:e[h]=e[h]-(i[f]/2-r[f]/2);break;case tL:e[h]=e[h]+(i[f]/2-r[f]/2)}}return e}function eB(t,e){void 0===e&&(e={});var i,r,n,s,o,a,l,h=e,f=h.placement,u=void 0===f?t.placement:f,c=h.strategy,d=void 0===c?t.strategy:c,p=h.boundary,b=h.rootBoundary,g=h.elementContext,m=void 0===g?tU:g,y=h.altBoundary,v=h.padding,_=void 0===v?0:v,w=ec("number"!=typeof _?_:ed(_,tC)),x=t.rects.popper,S=t.elements[void 0!==y&&y?m===tU?tH:tU:m],E=(i=t1(S)?S:S.contextElement||es(t.elements.popper),a=(o=[].concat("clippingParents"===(r=void 0===p?tN:p)?(n=eT(eo(i)),t1(s=["absolute","fixed"].indexOf(en(i).position)>=0&&t2(i)?el(i):i)?n.filter(function(t){return t1(t)&&er(t,s)&&"body"!==tJ(t)}):[]):[].concat(r),[void 0===b?tD:b]))[0],(l=o.reduce(function(t,e){var r=eP(i,e,d);return t.top=t8(r.top,t.top),t.right=t4(r.right,t.right),t.bottom=t4(r.bottom,t.bottom),t.left=t8(r.left,t.left),t},eP(i,a,d))).width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l),k=ee(t.elements.reference),A=eO({reference:k,element:x,strategy:"absolute",placement:u}),M=eI(Object.assign({},x,A)),T=m===tU?M:k,I={top:E.top-T.top+w.top,bottom:T.bottom-E.bottom+w.bottom,left:E.left-T.left+w.left,right:T.right-E.right+w.right},P=t.modifiersData.offset;if(m===tU&&P){var O=P[u];Object.keys(I).forEach(function(t){var e=[tP,tI].indexOf(t)>=0?1:-1,i=[tT,tI].indexOf(t)>=0?"y":"x";I[t]+=O[i]*e})}return I}var eC={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var n=i.mainAxis,s=void 0===n||n,o=i.altAxis,a=void 0===o||o,l=i.fallbackPlacements,h=i.padding,f=i.boundary,u=i.rootBoundary,c=i.altBoundary,d=i.flipVariations,p=void 0===d||d,b=i.allowedAutoPlacements,g=e.options.placement,m=t5(g)===g,y=l||(m||!p?[ex(g)]:function(t){if(t5(t)===tB)return[];var e=ex(t);return[eE(t),e,eE(e)]}(g)),v=[g].concat(y).reduce(function(t,i){var r,n,s,o,a,l,c,d,g,m,y,v;return t.concat(t5(i)===tB?(n=(r={placement:i,boundary:f,rootBoundary:u,padding:h,flipVariations:p,allowedAutoPlacements:b}).placement,s=r.boundary,o=r.rootBoundary,a=r.padding,l=r.flipVariations,d=void 0===(c=r.allowedAutoPlacements)?tF:c,0===(y=(m=(g=eb(n))?l?tj:tj.filter(function(t){return eb(t)===g}):tC).filter(function(t){return d.indexOf(t)>=0})).length&&(y=m),Object.keys(v=y.reduce(function(t,i){return t[i]=eB(e,{placement:i,boundary:s,rootBoundary:o,padding:a})[t5(i)],t},{})).sort(function(t,e){return v[t]-v[e]})):i)},[]),_=e.rects.reference,w=e.rects.popper,x=new Map,S=!0,E=v[0],k=0;k<v.length;k++){var A=v[k],M=t5(A),T=eb(A)===tR,I=[tT,tI].indexOf(M)>=0,P=I?"width":"height",O=eB(e,{placement:A,boundary:f,rootBoundary:u,altBoundary:c,padding:h}),B=I?T?tP:tO:T?tI:tT;_[P]>w[P]&&(B=ex(B));var C=ex(B),R=[];if(s&&R.push(O[M]<=0),a&&R.push(O[B]<=0,O[C]<=0),R.every(function(t){return t})){E=A,S=!1;break}x.set(A,R)}if(S)for(var L=p?3:1,N=function(t){var e=v.find(function(e){var i=x.get(e);if(i)return i.slice(0,t).every(function(t){return t})});if(e)return E=e,"break"},D=L;D>0&&"break"!==N(D);D--);e.placement!==E&&(e.modifiersData[r]._skip=!0,e.placement=E,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function eR(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function eL(t){return[tT,tP,tI,tO].some(function(e){return t[e]>=0})}var eN={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,r=e.rects.reference,n=e.rects.popper,s=e.modifiersData.preventOverflow,o=eB(e,{elementContext:"reference"}),a=eB(e,{altBoundary:!0}),l=eR(o,r),h=eR(a,n,s),f=eL(l),u=eL(h);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":u})}},eD={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,r=t.name,n=i.offset,s=void 0===n?[0,0]:n,o=tF.reduce(function(t,i){var r,n,o,a,l,h;return t[i]=(r=e.rects,o=[tO,tT].indexOf(n=t5(i))>=0?-1:1,l=(a="function"==typeof s?s(Object.assign({},r,{placement:i})):s)[0],h=a[1],l=l||0,h=(h||0)*o,[tO,tP].indexOf(n)>=0?{x:h,y:l}:{x:l,y:h}),t},{}),a=o[e.placement],l=a.x,h=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=o}},eU={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=eO({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},eH={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,r=t.name,n=i.mainAxis,s=i.altAxis,o=i.boundary,a=i.rootBoundary,l=i.altBoundary,h=i.padding,f=i.tether,u=void 0===f||f,c=i.tetherOffset,d=void 0===c?0:c,p=eB(e,{boundary:o,rootBoundary:a,padding:h,altBoundary:l}),b=t5(e.placement),g=eb(e.placement),m=!g,y=eh(b),v="x"===y?"y":"x",_=e.modifiersData.popperOffsets,w=e.rects.reference,x=e.rects.popper,S="function"==typeof d?d(Object.assign({},e.rects,{placement:e.placement})):d,E="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(_){if(void 0===n||n){var M,T="y"===y?tT:tO,I="y"===y?tI:tP,P="y"===y?"height":"width",O=_[y],B=O+p[T],C=O-p[I],R=u?-x[P]/2:0,L=g===tR?w[P]:x[P],N=g===tR?-x[P]:-w[P],D=e.elements.arrow,U=u&&D?ei(D):{width:0,height:0},H=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:eu(),j=H[T],F=H[I],q=ef(0,w[P],U[P]),$=m?w[P]/2-R-q-j-E.mainAxis:L-q-j-E.mainAxis,z=m?-w[P]/2+R+q+F+E.mainAxis:N+q+F+E.mainAxis,V=e.elements.arrow&&el(e.elements.arrow),W=V?"y"===y?V.clientTop||0:V.clientLeft||0:0,K=null!=(M=null==k?void 0:k[y])?M:0,Q=ef(u?t4(B,O+$-K-W):B,O,u?t8(C,O+z-K):C);_[y]=Q,A[y]=Q-O}if(void 0!==s&&s){var G,X,Y="x"===y?tT:tO,Z="x"===y?tI:tP,J=_[v],tt="y"===v?"height":"width",te=J+p[Y],ti=J-p[Z],tr=-1!==[tT,tO].indexOf(b),tn=null!=(X=null==k?void 0:k[v])?X:0,ts=tr?te:J-w[tt]-x[tt]-tn+E.altAxis,to=tr?J+w[tt]+x[tt]-tn-E.altAxis:ti,ta=u&&tr?(G=ef(ts,J,to))>to?to:G:ef(u?ts:te,J,u?to:ti);_[v]=ta,A[v]=ta-J}e.modifiersData[r]=A}},requiresIfExists:["offset"]},ej={placement:"bottom",modifiers:[],strategy:"absolute"};function eF(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function eq(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,r=void 0===i?[]:i,n=e.defaultOptions,s=void 0===n?ej:n;return function(t,e,i){void 0===i&&(i=s);var n,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},ej,s),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],l=!1,h={state:o,setOptions:function(i){var n,l,u,c,d,p="function"==typeof i?i(o.options):i;f(),o.options=Object.assign({},s,o.options,p),o.scrollParents={reference:t1(t)?eT(t):t.contextElement?eT(t.contextElement):[],popper:eT(e)};var b=(l=Object.keys(n=[].concat(r,o.options.modifiers).reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{})).map(function(t){return n[t]}),u=new Map,c=new Set,d=[],l.forEach(function(t){u.set(t.name,t)}),l.forEach(function(t){c.has(t.name)||function t(e){c.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!c.has(e)){var i=u.get(e);i&&t(i)}}),d.push(e)}(t)}),tY.reduce(function(t,e){return t.concat(d.filter(function(t){return t.phase===e}))},[]));return o.orderedModifiers=b.filter(function(t){return t.enabled}),o.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,r=t.effect;if("function"==typeof r){var n=r({state:o,name:e,instance:h,options:void 0===i?{}:i});a.push(n||function(){})}}),h.update()},forceUpdate:function(){if(!l){var t=o.elements,e=t.reference,i=t.popper;if(eF(e,i)){o.rects={reference:(r=el(i),n="fixed"===o.options.strategy,s=t2(r),c=t2(r)&&(f=t9((a=r.getBoundingClientRect()).width)/r.offsetWidth||1,u=t9(a.height)/r.offsetHeight||1,1!==f||1!==u),d=es(r),p=ee(e,c,n),b={scrollLeft:0,scrollTop:0},g={x:0,y:0},(s||!s&&!n)&&(("body"!==tJ(r)||eM(d))&&(b=function(t){return t!==t0(t)&&t2(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:ek(t)}(r)),t2(r)?(g=ee(r,!0),g.x+=r.clientLeft,g.y+=r.clientTop):d&&(g.x=eA(d))),{x:p.left+b.scrollLeft-g.x,y:p.top+b.scrollTop-g.y,width:p.width,height:p.height}),popper:ei(i)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(t){return o.modifiersData[t.name]=Object.assign({},t.data)});for(var r,n,s,a,f,u,c,d,p,b,g,m=0;m<o.orderedModifiers.length;m++){if(!0===o.reset){o.reset=!1,m=-1;continue}var y=o.orderedModifiers[m],v=y.fn,_=y.options,w=void 0===_?{}:_,x=y.name;"function"==typeof v&&(o=v({state:o,options:w,name:x,instance:h})||o)}}}},update:function(){return n||(n=new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(new Promise(function(t){h.forceUpdate(),t(o)}))})})),n},destroy:function(){f(),l=!0}};if(!eF(t,e))return h;function f(){a.forEach(function(t){return t()}),a=[]}return h.setOptions(i).then(function(t){!l&&i.onFirstUpdate&&i.onFirstUpdate(t)}),h}}var e$=eq(),ez=eq({defaultModifiers:[e_,eU,ey,t6,eD,eC,eH,ep,eN]}),eV=eq({defaultModifiers:[e_,eU,ey,t6]});t_(tA,tM),t_(tA,tZ);const eW=new Map,eK={set(t,e,i){eW.has(t)||eW.set(t,new Map);let r=eW.get(t);if(!r.has(e)&&0!==r.size){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,i)},get:(t,e)=>eW.has(t)&&eW.get(t).get(e)||null,remove(t,e){if(!eW.has(t))return;let i=eW.get(t);i.delete(e),0===i.size&&eW.delete(t)}},eQ="transitionend",eG=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t),eX=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),eY=t=>{do t+=Math.floor(1e6*Math.random());while(document.getElementById(t))return t},eZ=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t),r=Number.parseFloat(e),n=Number.parseFloat(i);return r||n?(e=e.split(",")[0],i=i.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(i))*1e3):0},eJ=t=>{t.dispatchEvent(new Event(eQ))},e0=t=>!!t&&"object"==typeof t&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),e1=t=>e0(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(eG(t)):null,e2=t=>{if(!e0(t)||0===t.getClientRects().length)return!1;let e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){let e=t.closest("summary");if(e&&e.parentNode!==i||null===e)return!1}return e},e3=t=>!!(!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled"))||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),e6=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){let e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?e6(t.parentNode):null},e5=()=>{},e8=t=>{t.offsetHeight},e4=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,e9=[],e7=t=>{"loading"===document.readyState?(e9.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of e9)t()}),e9.push(t)):t()},it=()=>"rtl"===document.documentElement.dir,ie=t=>{e7(()=>{let e=e4();if(e){let i=t.NAME,r=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=r,t.jQueryInterface)}})},ii=(t,e=[],i=t)=>"function"==typeof t?t(...e):i,ir=(t,e,i=!0)=>{if(!i){ii(t);return}let r=eZ(e)+5,n=!1,s=({target:i})=>{i===e&&(n=!0,e.removeEventListener(eQ,s),ii(t))};e.addEventListener(eQ,s),setTimeout(()=>{n||eJ(e)},r)},is=(t,e,i,r)=>{let n=t.length,s=t.indexOf(e);return -1===s?!i&&r?t[n-1]:t[0]:(s+=i?1:-1,r&&(s=(s+n)%n),t[Math.max(0,Math.min(s,n-1))])},io=/[^.]*(?=\..*)\.|.*/,ia=/\..*/,il=/::\d+$/,ih={};let iu=1;const ic={mouseenter:"mouseover",mouseleave:"mouseout"},id=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ip(t,e){return e&&`${e}::${iu++}`||t.uidEvent||iu++}function ib(t){let e=ip(t);return t.uidEvent=e,ih[e]=ih[e]||{},ih[e]}function ig(t,e,i=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===i)}function im(t,e,i){let r="string"==typeof e,n=i_(t);return id.has(n)||(n=t),[r,r?i:e||i,n]}function iy(t,e,i,r,n){var s,o;if("string"!=typeof e||!t)return;let[a,l,h]=im(e,i,r);if(e in ic){let t;t=l,l=function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)}}let f=ib(t),u=f[h]||(f[h]={}),c=ig(u,l,a?i:null);if(c){c.oneOff=c.oneOff&&n;return}let d=ip(l,e.replace(io,"")),p=a?(s=l,function e(r){let n=t.querySelectorAll(i);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(let a of n)if(a===o)return ix(r,{delegateTarget:o}),e.oneOff&&iw.off(t,r.type,i,s),s.apply(o,[r])}):(o=l,function e(i){return ix(i,{delegateTarget:t}),e.oneOff&&iw.off(t,i.type,o),o.apply(t,[i])});p.delegationSelector=a?i:null,p.callable=l,p.oneOff=n,p.uidEvent=d,u[d]=p,t.addEventListener(h,p,a)}function iv(t,e,i,r,n){let s=ig(e[i],r,n);s&&(t.removeEventListener(i,s,!!n),delete e[i][s.uidEvent])}function i_(t){return ic[t=t.replace(ia,"")]||t}const iw={on(t,e,i,r){iy(t,e,i,r,!1)},one(t,e,i,r){iy(t,e,i,r,!0)},off(t,e,i,r){if("string"!=typeof e||!t)return;let[n,s,o]=im(e,i,r),a=o!==e,l=ib(t),h=l[o]||{},f=e.startsWith(".");if(void 0!==s){if(!Object.keys(h).length)return;iv(t,l,o,s,n?i:null);return}if(f)for(let i of Object.keys(l))!function(t,e,i,r){for(let[n,s]of Object.entries(e[i]||{}))n.includes(r)&&iv(t,e,i,s.callable,s.delegationSelector)}(t,l,i,e.slice(1));for(let[i,r]of Object.entries(h)){let n=i.replace(il,"");(!a||e.includes(n))&&iv(t,l,o,r.callable,r.delegationSelector)}},trigger(t,e,i){if("string"!=typeof e||!t)return null;let r=e4(),n=i_(e),s=null,o=!0,a=!0,l=!1;e!==n&&r&&(s=r.Event(e,i),r(t).trigger(s),o=!s.isPropagationStopped(),a=!s.isImmediatePropagationStopped(),l=s.isDefaultPrevented());let h=ix(new Event(e,{bubbles:o,cancelable:!0}),i);return l&&h.preventDefault(),a&&t.dispatchEvent(h),h.defaultPrevented&&s&&s.preventDefault(),h}};function ix(t,e={}){for(let[i,r]of Object.entries(e))try{t[i]=r}catch(e){Object.defineProperty(t,i,{configurable:!0,get:()=>r})}return t}function iS(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function iE(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const ik={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${iE(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${iE(e)}`)},getDataAttributes(t){if(!t)return{};let e={};for(let i of Object.keys(t.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"))){let r=i.replace(/^bs/,"");e[r=r.charAt(0).toLowerCase()+r.slice(1,r.length)]=iS(t.dataset[i])}return e},getDataAttribute:(t,e)=>iS(t.getAttribute(`data-bs-${iE(e)}`))};class iA{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){let i=e0(e)?ik.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...e0(e)?ik.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(let[i,r]of Object.entries(e)){let e=t[i],n=e0(e)?"element":eX(e);if(!new RegExp(r).test(n))throw TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${n}" but expected type "${r}".`)}}}class iM extends iA{constructor(t,e){if(super(),!(t=e1(t)))return;this._element=t,this._config=this._getConfig(e),eK.set(this._element,this.constructor.DATA_KEY,this)}dispose(){for(let t of(eK.remove(this._element,this.constructor.DATA_KEY),iw.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this)))this[t]=null}_queueCallback(t,e,i=!0){ir(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return eK.get(e1(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const iT=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e?e.split(",").map(t=>eG(t)).join(","):null},iI={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){let i=[],r=t.parentNode.closest(e);for(;r;)i.push(r),r=r.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(t=>!e3(t)&&e2(t))},getSelectorFromElement(t){let e=iT(t);return e&&iI.findOne(e)?e:null},getElementFromSelector(t){let e=iT(t);return e?iI.findOne(e):null},getMultipleElementsFromSelector(t){let e=iT(t);return e?iI.find(e):[]}},iP=(t,e="hide")=>{let i=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;iw.on(document,i,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),e3(this))return;let n=iI.getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(n)[e]()})},iO=".bs.alert",iB=`close${iO}`,iC=`closed${iO}`;class iR extends iM{static get NAME(){return"alert"}close(){if(iw.trigger(this._element,iB).defaultPrevented)return;this._element.classList.remove("show");let t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),iw.trigger(this._element,iC),this.dispose()}static jQueryInterface(t){return this.each(function(){let e=iR.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t](this)}})}}iP(iR,"close"),ie(iR);const iL='[data-bs-toggle="button"]',iN="click.bs.button.data-api";class iD extends iM{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){let e=iD.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}iw.on(document,iN,iL,t=>{t.preventDefault();let e=t.target.closest(iL);iD.getOrCreateInstance(e).toggle()}),ie(iD);const iU=".bs.swipe",iH=`touchstart${iU}`,ij=`touchmove${iU}`,iF=`touchend${iU}`,iq=`pointerdown${iU}`,i$=`pointerup${iU}`,iz={endCallback:null,leftCallback:null,rightCallback:null},iV={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class iW extends iA{constructor(t,e){if(super(),this._element=t,!t||!iW.isSupported())return;this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents()}static get Default(){return iz}static get DefaultType(){return iV}static get NAME(){return"swipe"}dispose(){iw.off(this._element,iU)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),ii(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){let t=Math.abs(this._deltaX);if(t<=40)return;let e=t/this._deltaX;this._deltaX=0,e&&ii(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(iw.on(this._element,iq,t=>this._start(t)),iw.on(this._element,i$,t=>this._end(t)),this._element.classList.add("pointer-event")):(iw.on(this._element,iH,t=>this._start(t)),iw.on(this._element,ij,t=>this._move(t)),iw.on(this._element,iF,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const iK=".bs.carousel",iQ=".data-api",iG="next",iX="prev",iY="left",iZ="right",iJ=`slide${iK}`,i0=`slid${iK}`,i1=`keydown${iK}`,i2=`mouseenter${iK}`,i3=`mouseleave${iK}`,i6=`dragstart${iK}`,i5=`load${iK}${iQ}`,i8=`click${iK}${iQ}`,i4="carousel",i9="active",i7=".active",rt=".carousel-item",re=i7+rt,ri={ArrowLeft:iZ,ArrowRight:iY},rr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},rn={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class rs extends iM{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=iI.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===i4&&this.cycle()}static get Default(){return rr}static get DefaultType(){return rn}static get NAME(){return"carousel"}next(){this._slide(iG)}nextWhenVisible(){!document.hidden&&e2(this._element)&&this.next()}prev(){this._slide(iX)}pause(){this._isSliding&&eJ(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){iw.one(this._element,i0,()=>this.cycle());return}this.cycle()}}to(t){let e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){iw.one(this._element,i0,()=>this.to(t));return}let i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?iG:iX,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&iw.on(this._element,i1,t=>this._keydown(t)),"hover"===this._config.pause&&(iw.on(this._element,i2,()=>this.pause()),iw.on(this._element,i3,()=>this._maybeEnableCycle())),this._config.touch&&iW.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let t of iI.find(".carousel-item img",this._element))iw.on(t,i6,t=>t.preventDefault());this._swipeHelper=new iW(this._element,{leftCallback:()=>this._slide(this._directionToOrder(iY)),rightCallback:()=>this._slide(this._directionToOrder(iZ)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;let e=ri[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;let e=iI.findOne(i7,this._indicatorsElement);e.classList.remove(i9),e.removeAttribute("aria-current");let i=iI.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(i9),i.setAttribute("aria-current","true"))}_updateInterval(){let t=this._activeElement||this._getActive();if(!t)return;let e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;let i=this._getActive(),r=t===iG,n=e||is(this._getItems(),i,r,this._config.wrap);if(n===i)return;let s=this._getItemIndex(n),o=e=>iw.trigger(this._element,e,{relatedTarget:n,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:s});if(o(iJ).defaultPrevented||!i||!n)return;let a=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=n;let l=r?"carousel-item-start":"carousel-item-end",h=r?"carousel-item-next":"carousel-item-prev";n.classList.add(h),e8(n),i.classList.add(l),n.classList.add(l),this._queueCallback(()=>{n.classList.remove(l,h),n.classList.add(i9),i.classList.remove(i9,h,l),this._isSliding=!1,o(i0)},i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return iI.findOne(re,this._element)}_getItems(){return iI.find(rt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return it()?t===iY?iX:iG:t===iY?iG:iX}_orderToDirection(t){return it()?t===iX?iY:iZ:t===iX?iZ:iY}static jQueryInterface(t){return this.each(function(){let e=rs.getOrCreateInstance(this,t);if("number"==typeof t){e.to(t);return}if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t]()}})}}iw.on(document,i8,"[data-bs-slide], [data-bs-slide-to]",function(t){let e=iI.getElementFromSelector(this);if(!e||!e.classList.contains(i4))return;t.preventDefault();let i=rs.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){i.to(r),i._maybeEnableCycle();return}if("next"===ik.getDataAttribute(this,"slide")){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()}),iw.on(window,i5,()=>{for(let t of iI.find('[data-bs-ride="carousel"]'))rs.getOrCreateInstance(t)}),ie(rs);const ro=".bs.collapse",ra=`show${ro}`,rl=`shown${ro}`,rh=`hide${ro}`,rf=`hidden${ro}`,ru=`click${ro}.data-api`,rc="show",rd="collapse",rp="collapsing",rb=`:scope .${rd} .${rd}`,rg='[data-bs-toggle="collapse"]',rm={parent:null,toggle:!0},ry={parent:"(null|element)",toggle:"boolean"};class rv extends iM{constructor(t,e){for(let i of(super(t,e),this._isTransitioning=!1,this._triggerArray=[],iI.find(rg))){let t=iI.getSelectorFromElement(i),e=iI.find(t).filter(t=>t===this._element);null!==t&&e.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return rm}static get DefaultType(){return ry}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(t=>t!==this._element).map(t=>rv.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning||iw.trigger(this._element,ra).defaultPrevented)return;for(let e of t)e.hide();let e=this._getDimension();this._element.classList.remove(rd),this._element.classList.add(rp),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let i=e[0].toUpperCase()+e.slice(1),r=`scroll${i}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rp),this._element.classList.add(rd,rc),this._element.style[e]="",iw.trigger(this._element,rl)},this._element,!0),this._element.style[e]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||iw.trigger(this._element,rh).defaultPrevented)return;let t=this._getDimension();for(let e of(this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,e8(this._element),this._element.classList.add(rp),this._element.classList.remove(rd,rc),this._triggerArray)){let t=iI.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rp),this._element.classList.add(rd),iw.trigger(this._element,rf)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(rc)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=e1(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent)for(let t of this._getFirstLevelChildren(rg)){let e=iI.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(t){let e=iI.find(rb,this._config.parent);return iI.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(let i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){let e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){let i=rv.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw TypeError(`No method named "${t}"`);i[t]()}})}}iw.on(document,ru,rg,function(t){for(let e of(("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault(),iI.getMultipleElementsFromSelector(this)))rv.getOrCreateInstance(e,{toggle:!1}).toggle()}),ie(rv);const r_="dropdown",rw=".bs.dropdown",rx=".data-api",rS="ArrowDown",rE=`hide${rw}`,rk=`hidden${rw}`,rA=`show${rw}`,rM=`shown${rw}`,rT=`click${rw}${rx}`,rI=`keydown${rw}${rx}`,rP=`keyup${rw}${rx}`,rO="show",rB='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',rC=`${rB}.${rO}`,rR=".dropdown-menu",rL=it()?"top-end":"top-start",rN=it()?"top-start":"top-end",rD=it()?"bottom-end":"bottom-start",rU=it()?"bottom-start":"bottom-end",rH=it()?"left-start":"right-start",rj=it()?"right-start":"left-start",rF={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rq={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class r$ extends iM{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=iI.next(this._element,rR)[0]||iI.prev(this._element,rR)[0]||iI.findOne(rR,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return rF}static get DefaultType(){return rq}static get NAME(){return r_}toggle(){return this._isShown()?this.hide():this.show()}show(){if(e3(this._element)||this._isShown())return;let t={relatedTarget:this._element};if(!iw.trigger(this._element,rA,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let t of[].concat(...document.body.children))iw.on(t,"mouseover",e5);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(rO),this._element.classList.add(rO),iw.trigger(this._element,rM,t)}}hide(){if(e3(this._element)||!this._isShown())return;let t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!iw.trigger(this._element,rE,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let t of[].concat(...document.body.children))iw.off(t,"mouseover",e5);this._popper&&this._popper.destroy(),this._menu.classList.remove(rO),this._element.classList.remove(rO),this._element.setAttribute("aria-expanded","false"),ik.removeDataAttribute(this._menu,"popper"),iw.trigger(this._element,rk,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!e0(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw TypeError(`${r_.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===tA)throw TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:e0(this._config.reference)?t=e1(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);let e=this._getPopperConfig();this._popper=tA.createPopper(t,this._menu,e)}_isShown(){return this._menu.classList.contains(rO)}_getPlacement(){let t=this._parent;if(t.classList.contains("dropend"))return rH;if(t.classList.contains("dropstart"))return rj;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";let e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?rN:rL:e?rU:rD}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){let t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ik.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...ii(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){let i=iI.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(t=>e2(t));i.length&&is(i,e,t===rS,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){let e=r$.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2!==t.button&&("keyup"!==t.type||"Tab"===t.key))for(let e of iI.find(rC)){let i=r$.getInstance(e);if(!i||!1===i._config.autoClose)continue;let r=t.composedPath(),n=r.includes(i._menu);if(r.includes(i._element)||"inside"===i._config.autoClose&&!n||"outside"===i._config.autoClose&&n||i._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let s={relatedTarget:i._element};"click"===t.type&&(s.clickEvent=t),i._completeHide(s)}}static dataApiKeydownHandler(t){let e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,r=["ArrowUp",rS].includes(t.key);if(!r&&!i||e&&!i)return;t.preventDefault();let n=this.matches(rB)?this:iI.prev(this,rB)[0]||iI.next(this,rB)[0]||iI.findOne(rB,t.delegateTarget.parentNode),s=r$.getOrCreateInstance(n);if(r){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),n.focus())}}iw.on(document,rI,rB,r$.dataApiKeydownHandler),iw.on(document,rI,rR,r$.dataApiKeydownHandler),iw.on(document,rT,r$.clearMenus),iw.on(document,rP,r$.clearMenus),iw.on(document,rT,rB,function(t){t.preventDefault(),r$.getOrCreateInstance(this).toggle()}),ie(r$);const rz="backdrop",rV="show",rW=`mousedown.bs.${rz}`,rK={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rQ={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class rG extends iA{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return rK}static get DefaultType(){return rQ}static get NAME(){return rz}show(t){if(!this._config.isVisible){ii(t);return}this._append();let e=this._getElement();this._config.isAnimated&&e8(e),e.classList.add(rV),this._emulateAnimation(()=>{ii(t)})}hide(t){if(!this._config.isVisible){ii(t);return}this._getElement().classList.remove(rV),this._emulateAnimation(()=>{this.dispose(),ii(t)})}dispose(){this._isAppended&&(iw.off(this._element,rW),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=e1(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),iw.on(t,rW,()=>{ii(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){ir(t,this._getElement(),this._config.isAnimated)}}const rX=".bs.focustrap",rY=`focusin${rX}`,rZ=`keydown.tab${rX}`,rJ="backward",r0={autofocus:!0,trapElement:null},r1={autofocus:"boolean",trapElement:"element"};class r2 extends iA{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return r0}static get DefaultType(){return r1}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),iw.off(document,rX),iw.on(document,rY,t=>this._handleFocusin(t)),iw.on(document,rZ,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,iw.off(document,rX))}_handleFocusin(t){let{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;let i=iI.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===rJ?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?rJ:"forward")}}const r3=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",r6=".sticky-top",r5="padding-right",r8="margin-right";class r4{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,r5,e=>e+t),this._setElementAttributes(r3,r5,e=>e+t),this._setElementAttributes(r6,r8,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,r5),this._resetElementAttributes(r3,r5),this._resetElementAttributes(r6,r8)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){let r=this.getWidth();this._applyManipulationCallback(t,t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);let n=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(n))}px`)})}_saveInitialAttribute(t,e){let i=t.style.getPropertyValue(e);i&&ik.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,t=>{let i=ik.getDataAttribute(t,e);if(null===i){t.style.removeProperty(e);return}ik.removeDataAttribute(t,e),t.style.setProperty(e,i)})}_applyManipulationCallback(t,e){if(e0(t)){e(t);return}for(let i of iI.find(t,this._element))e(i)}}const r9=".bs.modal",r7=`hide${r9}`,nt=`hidePrevented${r9}`,ne=`hidden${r9}`,ni=`show${r9}`,nr=`shown${r9}`,nn=`resize${r9}`,ns=`click.dismiss${r9}`,no=`mousedown.dismiss${r9}`,na=`keydown.dismiss${r9}`,nl=`click${r9}.data-api`,nh="modal-open",nf="show",nu="modal-static",nc={backdrop:!0,focus:!0,keyboard:!0},nd={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class np extends iM{constructor(t,e){super(t,e),this._dialog=iI.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new r4,this._addEventListeners()}static get Default(){return nc}static get DefaultType(){return nd}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){!this._isShown&&!this._isTransitioning&&(iw.trigger(this._element,ni,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(nh),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t))))}hide(){this._isShown&&!this._isTransitioning&&(iw.trigger(this._element,r7).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(nf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){iw.off(window,r9),iw.off(this._dialog,r9),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new rG({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new r2({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let e=iI.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),e8(this._element),this._element.classList.add(nf),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,iw.trigger(this._element,nr,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){iw.on(this._element,na,t=>{if("Escape"===t.key){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),iw.on(window,nn,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),iw.on(this._element,no,t=>{iw.one(this._element,ns,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(nh),this._resetAdjustments(),this._scrollBar.reset(),iw.trigger(this._element,ne)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(iw.trigger(this._element,nt).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(nu)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(nu),this._queueCallback(()=>{this._element.classList.remove(nu),this._queueCallback(()=>{this._element.style.overflowY=e},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){let t=it()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!i&&t){let t=it()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){let i=np.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw TypeError(`No method named "${t}"`);i[t](e)}})}}iw.on(document,nl,'[data-bs-toggle="modal"]',function(t){let e=iI.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),iw.one(e,ni,t=>{t.defaultPrevented||iw.one(e,ne,()=>{e2(this)&&this.focus()})});let i=iI.findOne(".modal.show");i&&np.getInstance(i).hide(),np.getOrCreateInstance(e).toggle(this)}),iP(np),ie(np);const nb=".bs.offcanvas",ng=".data-api",nm=`load${nb}${ng}`,ny="show",nv="showing",n_="hiding",nw=".offcanvas.show",nx=`show${nb}`,nS=`shown${nb}`,nE=`hide${nb}`,nk=`hidePrevented${nb}`,nA=`hidden${nb}`,nM=`resize${nb}`,nT=`click${nb}${ng}`,nI=`keydown.dismiss${nb}`,nP={backdrop:!0,keyboard:!0,scroll:!1},nO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class nB extends iM{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nP}static get DefaultType(){return nO}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){!this._isShown&&!iw.trigger(this._element,nx,{relatedTarget:t}).defaultPrevented&&(this._isShown=!0,this._backdrop.show(),this._config.scroll||new r4().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(nv),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ny),this._element.classList.remove(nv),iw.trigger(this._element,nS,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!iw.trigger(this._element,nE).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(n_),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(ny,n_),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new r4().reset(),iw.trigger(this._element,nA)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let t=!!this._config.backdrop;return new rG({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{if("static"===this._config.backdrop){iw.trigger(this._element,nk);return}this.hide()}:null})}_initializeFocusTrap(){return new r2({trapElement:this._element})}_addEventListeners(){iw.on(this._element,nI,t=>{if("Escape"===t.key){if(this._config.keyboard){this.hide();return}iw.trigger(this._element,nk)}})}static jQueryInterface(t){return this.each(function(){let e=nB.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t](this)}})}}iw.on(document,nT,'[data-bs-toggle="offcanvas"]',function(t){let e=iI.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),e3(this))return;iw.one(e,nA,()=>{e2(this)&&this.focus()});let i=iI.findOne(nw);i&&i!==e&&nB.getInstance(i).hide(),nB.getOrCreateInstance(e).toggle(this)}),iw.on(window,nm,()=>{for(let t of iI.find(nw))nB.getOrCreateInstance(t).show()}),iw.on(window,nM,()=>{for(let t of iI.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&nB.getOrCreateInstance(t).hide()}),iP(nB),ie(nB);const nC={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},nR=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,nN=(t,e)=>{let i=t.nodeName.toLowerCase();return e.includes(i)?!nR.has(i)||!!nL.test(t.nodeValue):e.filter(t=>t instanceof RegExp).some(t=>t.test(i))},nD={allowList:nC,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nU={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},nH={entry:"(string|element|function|null)",selector:"(string|element)"};class nj extends iA{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return nD}static get DefaultType(){return nU}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){let t=document.createElement("div");for(let[e,i]of(t.innerHTML=this._maybeSanitize(this._config.template),Object.entries(this._config.content)))this._setContent(t,i,e);let e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(let[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},nH)}_setContent(t,e,i){let r=iI.findOne(i,t);if(r){if(!(e=this._resolvePossibleFunction(e))){r.remove();return}if(e0(e)){this._putElementInTemplate(e1(e),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(e);return}r.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(t,e,i){if(!t.length)return t;if(i&&"function"==typeof i)return i(t);let r=new window.DOMParser().parseFromString(t,"text/html");for(let t of[].concat(...r.body.querySelectorAll("*"))){let i=t.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){t.remove();continue}let r=[].concat(...t.attributes),n=[].concat(e["*"]||[],e[i]||[]);for(let e of r)nN(e,n)||t.removeAttribute(e.nodeName)}return r.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return ii(t,[this])}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const nF=new Set(["sanitize","allowList","sanitizeFn"]),nq="fade",n$="show",nz=".modal",nV="hide.bs.modal",nW="hover",nK="focus",nQ={AUTO:"auto",TOP:"top",RIGHT:it()?"left":"right",BOTTOM:"bottom",LEFT:it()?"right":"left"},nG={allowList:nC,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},nX={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class nY extends iM{constructor(t,e){if(void 0===tA)throw TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return nG}static get DefaultType(){return nX}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),iw.off(this._element.closest(nz),nV,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let t=iw.trigger(this._element,this.constructor.eventName("show")),e=(e6(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),iw.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(n$),"ontouchstart"in document.documentElement)for(let t of[].concat(...document.body.children))iw.on(t,"mouseover",e5);this._queueCallback(()=>{iw.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!iw.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(n$),"ontouchstart"in document.documentElement)for(let t of[].concat(...document.body.children))iw.off(t,"mouseover",e5);this._activeTrigger.click=!1,this._activeTrigger[nK]=!1,this._activeTrigger[nW]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),iw.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){let e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(nq,n$),e.classList.add(`bs-${this.constructor.NAME}-auto`);let i=eY(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(nq),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new nj({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nq)}_isShown(){return this.tip&&this.tip.classList.contains(n$)}_createPopper(t){let e=nQ[ii(this._config.placement,[this,t,this._element]).toUpperCase()];return tA.createPopper(this._element,t,this._getPopperConfig(e))}_getOffset(){let{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return ii(t,[this._element])}_getPopperConfig(t){let e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,...ii(this._config.popperConfig,[e])}}_setListeners(){for(let t of this._config.trigger.split(" "))if("click"===t)iw.on(this._element,this.constructor.eventName("click"),this._config.selector,t=>{this._initializeOnDelegatedTarget(t).toggle()});else if("manual"!==t){let e=t===nW?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===nW?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");iw.on(this._element,e,this._config.selector,t=>{let e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?nK:nW]=!0,e._enter()}),iw.on(this._element,i,this._config.selector,t=>{let e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?nK:nW]=e._element.contains(t.relatedTarget),e._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},iw.on(this._element.closest(nz),nV,this._hideModalHandler)}_fixTitle(){let t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){let e=ik.getDataAttributes(this._element);for(let t of Object.keys(e))nF.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:e1(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){let t={};for(let[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let e=nY.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t]()}})}}ie(nY);const nZ={...nY.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},nJ={...nY.DefaultType,content:"(null|string|element|function)"};class n0 extends nY{static get Default(){return nZ}static get DefaultType(){return nJ}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let e=n0.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t]()}})}}ie(n0);const n1=".bs.scrollspy",n2=`activate${n1}`,n3=`click${n1}`,n6=`load${n1}.data-api`,n5="active",n8="[href]",n4=".nav-link",n9=`${n4}, .nav-item > ${n4}, .list-group-item`,n7={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},st={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class se extends iM{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return n7}static get DefaultType(){return st}static get NAME(){return"scrollspy"}refresh(){for(let t of(this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver(),this._observableSections.values()))this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=e1(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(t=>Number.parseFloat(t))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(iw.off(this._config.target,n3),iw.on(this._config.target,n3,n8,t=>{let e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();let i=this._rootElement||window,r=e.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){let e=t=>this._targetLinks.get(`#${t.target.id}`),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},r=(this._rootElement||document.documentElement).scrollTop,n=r>=this._previousScrollData.parentScrollTop;for(let s of(this._previousScrollData.parentScrollTop=r,t)){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(s));continue}let t=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(n&&t){if(i(s),!r)return;continue}n||t||i(s)}}_initializeTargetsAndObservables(){for(let t of(this._targetLinks=new Map,this._observableSections=new Map,iI.find(n8,this._config.target))){if(!t.hash||e3(t))continue;let e=iI.findOne(decodeURI(t.hash),this._element);e2(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(n5),this._activateParents(t),iw.trigger(this._element,n2,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item")){iI.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(n5);return}for(let e of iI.parents(t,".nav, .list-group"))for(let t of iI.prev(e,n9))t.classList.add(n5)}_clearActiveClass(t){for(let e of(t.classList.remove(n5),iI.find(`${n8}.${n5}`,t)))e.classList.remove(n5)}static jQueryInterface(t){return this.each(function(){let e=se.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t]()}})}}iw.on(window,n6,()=>{for(let t of iI.find('[data-bs-spy="scroll"]'))se.getOrCreateInstance(t)}),ie(se);const si=".bs.tab",sr=`hide${si}`,sn=`hidden${si}`,ss=`show${si}`,so=`shown${si}`,sa=`click${si}`,sl=`keydown${si}`,sh=`load${si}`,sf="ArrowRight",su="ArrowDown",sc="Home",sd="active",sp="fade",sb="show",sg=".dropdown-toggle",sm=`:not(${sg})`,sy=`.nav-link${sm}, .list-group-item${sm}, [role="tab"]${sm}`,sv='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',s_=`${sy}, ${sv}`,sw=`.${sd}[data-bs-toggle="tab"], .${sd}[data-bs-toggle="pill"], .${sd}[data-bs-toggle="list"]`;class sx extends iM{constructor(t){if(super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),!this._parent)return;this._setInitialAttributes(this._parent,this._getChildren()),iw.on(this._element,sl,t=>this._keydown(t))}static get NAME(){return"tab"}show(){let t=this._element;if(this._elemIsActive(t))return;let e=this._getActiveElem(),i=e?iw.trigger(e,sr,{relatedTarget:t}):null;iw.trigger(t,ss,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(sd),this._activate(iI.getElementFromSelector(t)),this._queueCallback(()=>{if("tab"!==t.getAttribute("role")){t.classList.add(sb);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),iw.trigger(t,so,{relatedTarget:e})},t,t.classList.contains(sp)))}_deactivate(t,e){t&&(t.classList.remove(sd),t.blur(),this._deactivate(iI.getElementFromSelector(t)),this._queueCallback(()=>{if("tab"!==t.getAttribute("role")){t.classList.remove(sb);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),iw.trigger(t,sn,{relatedTarget:e})},t,t.classList.contains(sp)))}_keydown(t){let e;if(!["ArrowLeft",sf,"ArrowUp",su,sc,"End"].includes(t.key))return;t.stopPropagation(),t.preventDefault();let i=this._getChildren().filter(t=>!e3(t));if([sc,"End"].includes(t.key))e=i[t.key===sc?0:i.length-1];else{let r=[sf,su].includes(t.key);e=is(i,t.target,r,!0)}e&&(e.focus({preventScroll:!0}),sx.getOrCreateInstance(e).show())}_getChildren(){return iI.find(s_,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){for(let i of(this._setAttributeIfNotExists(t,"role","tablist"),e))this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);let e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){let e=iI.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){let i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;let r=(t,r)=>{let n=iI.findOne(t,i);n&&n.classList.toggle(r,e)};r(sg,sd),r(".dropdown-menu",sb),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(sd)}_getInnerElement(t){return t.matches(s_)?t:iI.findOne(s_,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){let e=sx.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t]()}})}}iw.on(document,sa,sv,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),e3(this)||sx.getOrCreateInstance(this).show()}),iw.on(window,sh,()=>{for(let t of iI.find(sw))sx.getOrCreateInstance(t)}),ie(sx);const sS=".bs.toast",sE=`mouseover${sS}`,sk=`mouseout${sS}`,sA=`focusin${sS}`,sM=`focusout${sS}`,sT=`hide${sS}`,sI=`hidden${sS}`,sP=`show${sS}`,sO=`shown${sS}`,sB="hide",sC="show",sR="showing",sL={animation:"boolean",autohide:"boolean",delay:"number"},sN={animation:!0,autohide:!0,delay:5e3};class sD extends iM{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sN}static get DefaultType(){return sL}static get NAME(){return"toast"}show(){!iw.trigger(this._element,sP).defaultPrevented&&(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(sB),e8(this._element),this._element.classList.add(sC,sR),this._queueCallback(()=>{this._element.classList.remove(sR),iw.trigger(this._element,sO),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!iw.trigger(this._element,sT).defaultPrevented&&(this._element.classList.add(sR),this._queueCallback(()=>{this._element.classList.add(sB),this._element.classList.remove(sR,sC),iw.trigger(this._element,sI)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(sC),super.dispose()}isShown(){return this._element.classList.contains(sC)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e){this._clearTimeout();return}let i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){iw.on(this._element,sE,t=>this._onInteraction(t,!0)),iw.on(this._element,sk,t=>this._onInteraction(t,!1)),iw.on(this._element,sA,t=>this._onInteraction(t,!0)),iw.on(this._element,sM,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let e=sD.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t](this)}})}}iP(sD),ie(sD);const sU=globalThis,sH=sU.ShadowRoot&&(void 0===sU.ShadyCSS||sU.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,sj=Symbol(),sF=new WeakMap;class sq{constructor(t,e,i){if(this._$cssResult$=!0,i!==sj)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o,e=this.t;if(sH&&void 0===t){let i=void 0!==e&&1===e.length;i&&(t=sF.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&sF.set(e,t))}return t}toString(){return this.cssText}}const s$=t=>new sq("string"==typeof t?t:t+"",void 0,sj),sz=(t,e)=>{if(sH)t.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(let i of e){let e=document.createElement("style"),r=sU.litNonce;void 0!==r&&e.setAttribute("nonce",r),e.textContent=i.cssText,t.appendChild(e)}},sV=sH?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(let i of t.cssRules)e+=i.cssText;return s$(e)})(t):t,{is:sW,defineProperty:sK,getOwnPropertyDescriptor:sQ,getOwnPropertyNames:sG,getOwnPropertySymbols:sX,getPrototypeOf:sY}=Object,sZ=globalThis,sJ=sZ.trustedTypes,s0=sJ?sJ.emptyScript:"",s1=sZ.reactiveElementPolyfillSupport,s2=(t,e)=>t,s3={toAttribute(t,e){switch(e){case Boolean:t=t?s0:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},s6=(t,e)=>!sW(t,e),s5={attribute:!0,type:String,converter:s3,reflect:!1,hasChanged:s6};Symbol.metadata??=Symbol("metadata"),sZ.litPropertyMetadata??=new WeakMap;class s8 extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=s5){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){let i=Symbol(),r=this.getPropertyDescriptor(t,i,e);void 0!==r&&sK(this.prototype,t,r)}}static getPropertyDescriptor(t,e,i){let{get:r,set:n}=sQ(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get(){return r?.call(this)},set(e){let s=r?.call(this);n.call(this,e),this.requestUpdate(t,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??s5}static _$Ei(){if(this.hasOwnProperty(s2("elementProperties")))return;let t=sY(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(s2("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(s2("properties"))){let t=this.properties;for(let e of[...sG(t),...sX(t)])this.createProperty(e,t[e])}let t=this[Symbol.metadata];if(null!==t){let e=litPropertyMetadata.get(t);if(void 0!==e)for(let[t,i]of e)this.elementProperties.set(t,i)}for(let[t,e]of(this._$Eh=new Map,this.elementProperties)){let i=this._$Eu(t,e);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){let e=[];if(Array.isArray(t))for(let i of new Set(t.flat(1/0).reverse()))e.unshift(sV(i));else void 0!==t&&e.push(sV(t));return e}static _$Eu(t,e){let i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){let t=new Map;for(let e of this.constructor.elementProperties.keys())this.hasOwnProperty(e)&&(t.set(e,this[e]),delete this[e]);t.size>0&&(this._$Ep=t)}createRenderRoot(){let t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return sz(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EC(t,e){let i=this.constructor.elementProperties.get(t),r=this.constructor._$Eu(t,i);if(void 0!==r&&!0===i.reflect){let n=(void 0!==i.converter?.toAttribute?i.converter:s3).toAttribute(e,i.type);this._$Em=t,null==n?this.removeAttribute(r):this.setAttribute(r,n),this._$Em=null}}_$AK(t,e){let i=this.constructor,r=i._$Eh.get(t);if(void 0!==r&&this._$Em!==r){let t=i.getPropertyOptions(r),n="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:s3;this._$Em=r,this[r]=n.fromAttribute(e,t.type),this._$Em=null}}requestUpdate(t,e,i){if(void 0!==t){if(!((i??=this.constructor.getPropertyOptions(t)).hasChanged??s6)(this[t],e))return;this.P(t,e,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,e,i){this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}let t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}let t=this.constructor.elementProperties;if(t.size>0)for(let[e,i]of t)!0!==i.wrapped||this._$AL.has(e)||void 0===this[e]||this.P(e,this[e],i)}let t=!1,e=this._$AL;try{(t=this.shouldUpdate(e))?(this.willUpdate(e),this._$EO?.forEach(t=>t.hostUpdate?.()),this.update(e)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach(t=>this._$EC(t,this[t])),this._$EU()}updated(t){}firstUpdated(t){}}s8.elementStyles=[],s8.shadowRootOptions={mode:"open"},s8[s2("elementProperties")]=new Map,s8[s2("finalized")]=new Map,s1?.({ReactiveElement:s8}),(sZ.reactiveElementVersions??=[]).push("2.0.4");const s4=globalThis,s9=s4.trustedTypes,s7=s9?s9.createPolicy("lit-html",{createHTML:t=>t}):void 0,ot="$lit$",oe=`lit$${Math.random().toFixed(9).slice(2)}$`,oi="?"+oe,or=`<${oi}>`,on=document,os=()=>on.createComment(""),oo=t=>null===t||"object"!=typeof t&&"function"!=typeof t,oa=Array.isArray,ol=t=>oa(t)||"function"==typeof t?.[Symbol.iterator],oh="[ 	\n\f\r]",of=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ou=/-->/g,oc=/>/g,od=RegExp(`>|${oh}(?:([^\\s"'>=/]+)(${oh}*=${oh}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),op=/'/g,ob=/"/g,og=/^(?:script|style|textarea|title)$/i,om=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),oy=om(1),ov=(om(2),om(3),Symbol.for("lit-noChange")),o_=Symbol.for("lit-nothing"),ow=new WeakMap,ox=on.createTreeWalker(on,129);function oS(t,e){if(!oa(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s7?s7.createHTML(e):e}const oE=(t,e)=>{let i=t.length-1,r=[],n,s=2===e?"<svg>":3===e?"<math>":"",o=of;for(let e=0;e<i;e++){let i=t[e],a,l,h=-1,f=0;for(;f<i.length&&(o.lastIndex=f,null!==(l=o.exec(i)));)f=o.lastIndex,o===of?"!--"===l[1]?o=ou:void 0!==l[1]?o=oc:void 0!==l[2]?(og.test(l[2])&&(n=RegExp("</"+l[2],"g")),o=od):void 0!==l[3]&&(o=od):o===od?">"===l[0]?(o=n??of,h=-1):void 0===l[1]?h=-2:(h=o.lastIndex-l[2].length,a=l[1],o=void 0===l[3]?od:'"'===l[3]?ob:op):o===ob||o===op?o=od:o===ou||o===oc?o=of:(o=od,n=void 0);let u=o===od&&t[e+1].startsWith("/>")?" ":"";s+=o===of?i+or:h>=0?(r.push(a),i.slice(0,h)+ot+i.slice(h)+oe+u):i+oe+(-2===h?e:u)}return[oS(t,s+(t[i]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),r]};class ok{constructor({strings:t,_$litType$:e},i){let r;this.parts=[];let n=0,s=0,o=t.length-1,a=this.parts,[l,h]=oE(t,e);if(this.el=ok.createElement(l,i),ox.currentNode=this.el.content,2===e||3===e){let t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=ox.nextNode())&&a.length<o;){if(1===r.nodeType){if(r.hasAttributes())for(let t of r.getAttributeNames())if(t.endsWith(ot)){let e=h[s++],i=r.getAttribute(t).split(oe),o=/([.?@])?(.*)/.exec(e);a.push({type:1,index:n,name:o[2],strings:i,ctor:"."===o[1]?oP:"?"===o[1]?oO:"@"===o[1]?oB:oI}),r.removeAttribute(t)}else t.startsWith(oe)&&(a.push({type:6,index:n}),r.removeAttribute(t));if(og.test(r.tagName)){let t=r.textContent.split(oe),e=t.length-1;if(e>0){r.textContent=s9?s9.emptyScript:"";for(let i=0;i<e;i++)r.append(t[i],os()),ox.nextNode(),a.push({type:2,index:++n});r.append(t[e],os())}}}else if(8===r.nodeType){if(r.data===oi)a.push({type:2,index:n});else{let t=-1;for(;-1!==(t=r.data.indexOf(oe,t+1));)a.push({type:7,index:n}),t+=oe.length-1}}n++}}static createElement(t,e){let i=on.createElement("template");return i.innerHTML=t,i}}function oA(t,e,i=t,r){if(e===ov)return e;let n=void 0!==r?i._$Co?.[r]:i._$Cl,s=oo(e)?void 0:e._$litDirective$;return n?.constructor!==s&&(n?._$AO?.(!1),void 0===s?n=void 0:(n=new s(t))._$AT(t,i,r),void 0!==r?(i._$Co??=[])[r]=n:i._$Cl=n),void 0!==n&&(e=oA(t,n._$AS(t,e.values),n,r)),e}class oM{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){let{el:{content:e},parts:i}=this._$AD,r=(t?.creationScope??on).importNode(e,!0);ox.currentNode=r;let n=ox.nextNode(),s=0,o=0,a=i[0];for(;void 0!==a;){if(s===a.index){let e;2===a.type?e=new oT(n,n.nextSibling,this,t):1===a.type?e=new a.ctor(n,a.name,a.strings,this,t):6===a.type&&(e=new oC(n,this,t)),this._$AV.push(e),a=i[++o]}s!==a?.index&&(n=ox.nextNode(),s++)}return ox.currentNode=on,r}p(t){let e=0;for(let i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class oT{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,r){this.type=2,this._$AH=o_,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode,e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){oo(t=oA(this,t,e))?t===o_||null==t||""===t?(this._$AH!==o_&&this._$AR(),this._$AH=o_):t!==this._$AH&&t!==ov&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):ol(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==o_&&oo(this._$AH)?this._$AA.nextSibling.data=t:this.T(on.createTextNode(t)),this._$AH=t}$(t){let{values:e,_$litType$:i}=t,r="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=ok.createElement(oS(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===r)this._$AH.p(e);else{let t=new oM(r,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=ow.get(t.strings);return void 0===e&&ow.set(t.strings,e=new ok(t)),e}k(t){oa(this._$AH)||(this._$AH=[],this._$AR());let e=this._$AH,i,r=0;for(let n of t)r===e.length?e.push(i=new oT(this.O(os()),this.O(os()),this,this.options)):i=e[r],i._$AI(n),r++;r<e.length&&(this._$AR(i&&i._$AB.nextSibling,r),e.length=r)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){let e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class oI{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,r,n){this.type=1,this._$AH=o_,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=o_}_$AI(t,e=this,i,r){let n=this.strings,s=!1;if(void 0===n)(s=!oo(t=oA(this,t,e,0))||t!==this._$AH&&t!==ov)&&(this._$AH=t);else{let r,o,a=t;for(t=n[0],r=0;r<n.length-1;r++)(o=oA(this,a[i+r],e,r))===ov&&(o=this._$AH[r]),s||=!oo(o)||o!==this._$AH[r],o===o_?t=o_:t!==o_&&(t+=(o??"")+n[r+1]),this._$AH[r]=o}s&&!r&&this.j(t)}j(t){t===o_?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class oP extends oI{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===o_?void 0:t}}class oO extends oI{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==o_)}}class oB extends oI{constructor(t,e,i,r,n){super(t,e,i,r,n),this.type=5}_$AI(t,e=this){if((t=oA(this,t,e,0)??o_)===ov)return;let i=this._$AH,r=t===o_&&i!==o_||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,n=t!==o_&&(i===o_||r);r&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class oC{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){oA(this,t)}}const oR=s4.litHtmlPolyfillSupport;oR?.(ok,oT),(s4.litHtmlVersions??=[]).push("3.2.1");const oL=(t,e,i)=>{let r=i?.renderBefore??e,n=r._$litPart$;if(void 0===n){let t=i?.renderBefore??null;r._$litPart$=n=new oT(e.insertBefore(os(),t),t,void 0,i??{})}return n._$AI(t),n};class oN extends s8{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){let t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){let e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=oL(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return ov}}oN._$litElement$=!0,oN.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:oN});const oD=globalThis.litElementPolyfillSupport;oD?.({LitElement:oN}),(globalThis.litElementVersions??=[]).push("4.1.1");var oU={};Object.defineProperty(oU,"__esModule",{value:!0}),oU.verifyDLEQProof_reblind=oU.verifyDLEQProof=void 0;var oH={};Object.defineProperty(oH,"__esModule",{value:!0}),oH.deriveKeysetId=oH.deserializeMintKeys=oH.serializeMintKeys=oH.createRandomPrivateKey=oH.getKeysetIdInt=oH.pointFromHex=oH.pointFromBytes=oH.hash_e=oH.hashToCurve=void 0;var oj={};Object.defineProperty(oj,"__esModule",{value:!0}),oj.encodeToCurve=oj.hashToCurve=oj.schnorr=oj.secp256k1=void 0;var oF={};Object.defineProperty(oF,"__esModule",{value:!0}),oF.sha224=oF.sha256=oF.SHA256=void 0;var oq={};Object.defineProperty(oq,"__esModule",{value:!0}),oq.HashMD=void 0,oq.setBigUint64=o2,oq.Chi=function(t,e,i){return t&e^~t&i},oq.Maj=function(t,e,i){return t&e^t&i^e&i};var o$={};function oz(t){if(!Number.isSafeInteger(t)||t<0)throw Error("positive integer expected, got "+t)}function oV(t,...e){if(!(t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name))throw Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw Error("Uint8Array expected of length "+e+", got length="+t.length)}Object.defineProperty(o$,"__esModule",{value:!0}),o$.anumber=oz,o$.abytes=oV,o$.ahash=function(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");oz(t.outputLen),oz(t.blockLen)},o$.aexists=function(t,e=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(e&&t.finished)throw Error("Hash#digest() has already been called")},o$.aoutput=function(t,e){oV(t);let i=e.outputLen;if(t.length<i)throw Error("digestInto() expects output buffer of length at least "+i)};var oW={};Object.defineProperty(oW,"__esModule",{value:!0}),oW.Hash=oW.nextTick=oW.byteSwapIfBE=oW.isLE=void 0,oW.isBytes=function(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name},oW.u8=function(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},oW.u32=function(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))},oW.createView=function(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)},oW.rotr=function(t,e){return t<<32-e|t>>>e},oW.rotl=function(t,e){return t<<e|t>>>32-e>>>0},oW.byteSwap=oQ,oW.byteSwap32=function(t){for(let e=0;e<t.length;e++)t[e]=oQ(t[e])},oW.bytesToHex=function(t){(0,o$.abytes)(t);let e="";for(let i=0;i<t.length;i++)e+=oG[t[i]];return e},oW.hexToBytes=function(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);let e=t.length,i=e/2;if(e%2)throw Error("hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(i);for(let e=0,n=0;e<i;e++,n+=2){let i=oY(t.charCodeAt(n)),s=oY(t.charCodeAt(n+1));if(void 0===i||void 0===s)throw Error('hex string expected, got non-hex character "'+(t[n]+t[n+1])+'" at index '+n);r[e]=16*i+s}return r},oW.asyncLoop=oJ,oW.utf8ToBytes=o0,oW.toBytes=o1,oW.concatBytes=function(...t){let e=0;for(let i=0;i<t.length;i++){let r=t[i];(0,o$.abytes)(r),e+=r.length}let i=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){let n=t[e];i.set(n,r),r+=n.length}return i},oW.checkOpts=function(t,e){if(void 0!==e&&"[object Object]"!==({}).toString.call(e))throw Error("Options should be object or undefined");return Object.assign(t,e)},oW.wrapConstructor=function(t){let e=e=>t().update(o1(e)).digest(),i=t();return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=()=>t(),e},oW.wrapConstructorWithOpts=function(t){let e=(e,i)=>t(i).update(o1(e)).digest(),i=t({});return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=e=>t(e),e},oW.wrapXOFConstructorWithOpts=function(t){let e=(e,i)=>t(i).update(o1(e)).digest(),i=t({});return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=e=>t(e),e},oW.randomBytes=function(t=32){if(oK.crypto&&"function"==typeof oK.crypto.getRandomValues)return oK.crypto.getRandomValues(new Uint8Array(t));if(oK.crypto&&"function"==typeof oK.crypto.randomBytes)return oK.crypto.randomBytes(t);throw Error("crypto.getRandomValues must be defined")};var oK={};function oQ(t){return t<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}Object.defineProperty(oK,"__esModule",{value:!0}),oK.crypto=void 0,oK.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,oW.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],oW.byteSwapIfBE=oW.isLE?t=>t:t=>oQ(t);const oG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),oX={_0:48,_9:57,A:65,F:70,a:97,f:102};function oY(t){return t>=oX._0&&t<=oX._9?t-oX._0:t>=oX.A&&t<=oX.F?t-(oX.A-10):t>=oX.a&&t<=oX.f?t-(oX.a-10):void 0}const oZ=async()=>{};async function oJ(t,e,i){let r=Date.now();for(let n=0;n<t;n++){i(n);let t=Date.now()-r;t>=0&&t<e||(await (0,oW.nextTick)(),r+=t)}}function o0(t){if("string"!=typeof t)throw Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function o1(t){return"string"==typeof t&&(t=o0(t)),(0,o$.abytes)(t),t}function o2(t,e,i,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,i,r);let n=BigInt(32),s=BigInt(0xffffffff),o=Number(i>>n&s),a=Number(i&s),l=4*!!r,h=4*!r;t.setUint32(e+l,o,r),t.setUint32(e+h,a,r)}oW.nextTick=oZ,oW.Hash=class{clone(){return this._cloneInto()}};class o3 extends oW.Hash{constructor(t,e,i,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=i,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,oW.createView)(this.buffer)}update(t){(0,o$.aexists)(this);let{view:e,buffer:i,blockLen:r}=this,n=(t=(0,oW.toBytes)(t)).length;for(let s=0;s<n;){let o=Math.min(r-this.pos,n-s);if(o===r){let e=(0,oW.createView)(t);for(;r<=n-s;s+=r)this.process(e,s);continue}i.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,o$.aexists)(this),(0,o$.aoutput)(t,this),this.finished=!0;let{buffer:e,view:i,blockLen:r,isLE:n}=this,{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(i,0),s=0);for(let t=s;t<r;t++)e[t]=0;o2(i,r-8,BigInt(8*this.length),n),this.process(i,0);let o=(0,oW.createView)(t),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,h=this.get();if(l>h.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)o.setUint32(4*t,h[t],n)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let i=t.slice(0,e);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:i,length:r,finished:n,destroyed:s,pos:o}=this;return t.length=r,t.pos=o,t.finished=n,t.destroyed=s,r%e&&t.buffer.set(i),t}}oq.HashMD=o3;const o6=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),o5=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),o8=new Uint32Array(64);class o4 extends oq.HashMD{constructor(){super(64,32,8,!1),this.A=0|o5[0],this.B=0|o5[1],this.C=0|o5[2],this.D=0|o5[3],this.E=0|o5[4],this.F=0|o5[5],this.G=0|o5[6],this.H=0|o5[7]}get(){let{A:t,B:e,C:i,D:r,E:n,F:s,G:o,H:a}=this;return[t,e,i,r,n,s,o,a]}set(t,e,i,r,n,s,o,a){this.A=0|t,this.B=0|e,this.C=0|i,this.D=0|r,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let i=0;i<16;i++,e+=4)o8[i]=t.getUint32(e,!1);for(let t=16;t<64;t++){let e=o8[t-15],i=o8[t-2],r=(0,oW.rotr)(e,7)^(0,oW.rotr)(e,18)^e>>>3,n=(0,oW.rotr)(i,17)^(0,oW.rotr)(i,19)^i>>>10;o8[t]=n+o8[t-7]+r+o8[t-16]|0}let{A:i,B:r,C:n,D:s,E:o,F:a,G:l,H:h}=this;for(let t=0;t<64;t++){let e=h+((0,oW.rotr)(o,6)^(0,oW.rotr)(o,11)^(0,oW.rotr)(o,25))+(0,oq.Chi)(o,a,l)+o6[t]+o8[t]|0,f=((0,oW.rotr)(i,2)^(0,oW.rotr)(i,13)^(0,oW.rotr)(i,22))+(0,oq.Maj)(i,r,n)|0;h=l,l=a,a=o,o=s+e|0,s=n,n=r,r=i,i=e+f|0}i=i+this.A|0,r=r+this.B|0,n=n+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(i,r,n,s,o,a,l,h)}roundClean(){o8.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}oF.SHA256=o4;class o9 extends o4{constructor(){super(),this.A=-0x3efa6128,this.B=0x367cd507,this.C=0x3070dd17,this.D=-0x8f1a6c7,this.E=-4191439,this.F=0x68581511,this.G=0x64f98fa7,this.H=-0x4105b05c,this.outputLen=28}}oF.sha256=(0,oW.wrapConstructor)(()=>new o4),oF.sha224=(0,oW.wrapConstructor)(()=>new o9);var o7={};Object.defineProperty(o7,"__esModule",{value:!0}),o7.getHash=am,o7.createCurve=function(t,e){let i=e=>(0,ai.weierstrass)({...t,...am(e)});return{...i(e),create:i}};var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.hmac=at.HMAC=void 0;class ae extends oW.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,o$.ahash)(t);let i=(0,oW.toBytes)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,n=new Uint8Array(r);n.set(i.length>r?t.create().update(i).digest():i);for(let t=0;t<n.length;t++)n[t]^=54;this.iHash.update(n),this.oHash=t.create();for(let t=0;t<n.length;t++)n[t]^=106;this.oHash.update(n),n.fill(0)}update(t){return(0,o$.aexists)(this),this.iHash.update(t),this}digestInto(t){(0,o$.aexists)(this),(0,o$.abytes)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:i,finished:r,destroyed:n,blockLen:s,outputLen:o}=this;return t.finished=r,t.destroyed=n,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}at.HMAC=ae,at.hmac=(t,e,i)=>new ae(t,e).update(i).digest(),at.hmac.create=(t,e)=>new ae(t,e);var ai={};Object.defineProperty(ai,"__esModule",{value:!0}),ai.DER=ai.DERErr=void 0,ai.weierstrassPoints=ab,ai.weierstrass=function(t){let e=function(t){let e=(0,ar.validateBasic)(t);return as.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:i,n:r}=e,n=i.BYTES+1,s=2*i.BYTES+1;function o(t){return(0,an.mod)(t,r)}function a(t){return(0,an.invert)(t,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:u}=ab({...e,toBytes(t,e,r){let n=e.toAffine(),s=i.toBytes(n.x),o=as.concatBytes;return((0,as.abool)("isCompressed",r),r)?o(Uint8Array.from([e.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,i.toBytes(n.y))},fromBytes(t){let e=t.length,r=t[0],o=t.subarray(1);if(e===n&&(2===r||3===r)){let t,e=as.bytesToNumberBE(o);if(!as.inRange(e,au,i.ORDER))throw Error("Point is not on curve");let n=f(e);try{t=i.sqrt(n)}catch(t){throw Error("Point is not on curve"+(t instanceof Error?": "+t.message:""))}return(1&r)==1!=((t&au)===au)&&(t=i.neg(t)),{x:e,y:t}}if(e===s&&4===r)return{x:i.fromBytes(o.subarray(0,i.BYTES)),y:i.fromBytes(o.subarray(i.BYTES,2*i.BYTES))};throw Error("invalid Point, expected length of "+n+", or uncompressed "+s+", got "+e)}}),c=t=>as.bytesToHex(as.numberToBytesBE(t,e.nByteLength)),d=(t,e,i)=>as.bytesToNumberBE(t.slice(e,i));class p{constructor(t,e,i){this.r=t,this.s=e,this.recovery=i,this.assertValidity()}static fromCompact(t){let i=e.nByteLength;return new p(d(t=(0,as.ensureBytes)("compactSignature",t,2*i),0,i),d(t,i,2*i))}static fromDER(t){let{r:e,s:i}=ai.DER.toSig((0,as.ensureBytes)("DER",t));return new p(e,i)}assertValidity(){as.aInRange("r",this.r,au,r),as.aInRange("s",this.s,au,r)}addRecoveryBit(t){return new p(this.r,this.s,t)}recoverPublicKey(t){let{r:r,s:n,recovery:s}=this,h=m((0,as.ensureBytes)("msgHash",t));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let f=2===s||3===s?r+e.n:r;if(f>=i.ORDER)throw Error("recovery id 2 or 3 invalid");let u=(1&s)==0?"02":"03",d=l.fromHex(u+c(f)),p=a(f),b=o(-h*p),g=o(n*p),y=l.BASE.multiplyAndAddUnsafe(d,b,g);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>r>>au}normalizeS(){return this.hasHighS()?new p(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return as.hexToBytes(this.toDERHex())}toDERHex(){return ai.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return as.hexToBytes(this.toCompactHex())}toCompactHex(){return c(this.r)+c(this.s)}}function b(t){let e=as.isBytes(t),i="string"==typeof t,r=(e||i)&&t.length;return e?r===n||r===s:i?r===2*n||r===2*s:t instanceof l}let g=e.bits2int||function(t){if(t.length>8192)throw Error("input is too large");let i=as.bytesToNumberBE(t),r=8*t.length-e.nBitLength;return r>0?i>>BigInt(r):i},m=e.bits2int_modN||function(t){return o(g(t))},y=as.bitMask(e.nBitLength);function v(t){return as.aInRange("num < 2^"+e.nBitLength,t,af,y),as.numberToBytesBE(t,e.nByteLength)}let _={lowS:e.lowS,prehash:!1},w={lowS:e.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return l.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,i=!0){if(b(t))throw Error("first arg must be private key");if(!b(e))throw Error("second arg must be public key");return l.fromHex(e).multiply(h(t)).toRawBytes(i)},sign:function(t,n,s=_){let{seed:f,k2sig:c}=function(t,n,s=_){if(["recovered","canonical"].some(t=>t in s))throw Error("sign() legacy options not supported");let{hash:f,randomBytes:c}=e,{lowS:d,prehash:b,extraEntropy:y}=s;null==d&&(d=!0),t=(0,as.ensureBytes)("msgHash",t),ao(s),b&&(t=(0,as.ensureBytes)("prehashed msgHash",f(t)));let w=m(t),x=h(n),S=[v(x),v(w)];if(null!=y&&!1!==y){let t=!0===y?c(i.BYTES):y;S.push((0,as.ensureBytes)("extraEntropy",t))}return{seed:as.concatBytes(...S),k2sig:function(t){let e=g(t);if(!u(e))return;let i=a(e),n=l.BASE.multiply(e).toAffine(),s=o(n.x);if(s===af)return;let h=o(i*o(w+s*x));if(h===af)return;let f=2*(n.x!==s)|Number(n.y&au),c=h;if(d&&h>r>>au){var b;c=(b=h)>r>>au?o(-b):b,f^=1}return new p(s,c,f)}}}(t,n,s);return as.createHmacDrbg(e.hash.outputLen,e.nByteLength,e.hmac)(f,c)},verify:function(t,i,r,n=w){let s,h;i=(0,as.ensureBytes)("msgHash",i),r=(0,as.ensureBytes)("publicKey",r);let{lowS:f,prehash:u,format:c}=n;if(ao(n),"strict"in n)throw Error("options.strict was renamed to lowS");if(void 0!==c&&"compact"!==c&&"der"!==c)throw Error("format must be compact or der");let d="string"==typeof t||as.isBytes(t),b=!d&&!c&&"object"==typeof t&&null!==t&&"bigint"==typeof t.r&&"bigint"==typeof t.s;if(!d&&!b)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(b&&(h=new p(t.r,t.s)),d){try{"compact"!==c&&(h=p.fromDER(t))}catch(t){if(!(t instanceof ai.DER.Err))throw t}h||"der"===c||(h=p.fromCompact(t))}s=l.fromHex(r)}catch(t){return!1}if(!h||f&&h.hasHighS())return!1;u&&(i=e.hash(i));let{r:g,s:y}=h,v=m(i),_=a(y),x=o(v*_),S=o(g*_),E=l.BASE.multiplyAndAddUnsafe(s,x,S)?.toAffine();return!!E&&o(E.x)===g},ProjectivePoint:l,Signature:p,utils:{isValidPrivateKey(t){try{return h(t),!0}catch(t){return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{let t=(0,an.getMinHashLength)(e.n);return(0,an.mapHashToField)(e.randomBytes(t),e.n)},precompute:(t=8,e=l.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}},ai.SWUFpSqrtRatio=ag,ai.mapToCurveSimpleSWU=function(t,e){if((0,an.validateField)(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let i=ag(t,e.Z);if(!t.isOdd)throw Error("Fp.isOdd is not implemented!");return r=>{let n,s,o,a,l,h,f,u;n=t.sqr(r),n=t.mul(n,e.Z),s=t.sqr(n),s=t.add(s,n),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),h=t.sqr(a),l=t.mul(h,e.A),s=t.add(s,l),s=t.mul(s,o),h=t.mul(h,a),l=t.mul(h,e.B),s=t.add(s,l),f=t.mul(n,o);let{isValid:c,value:d}=i(s,h);u=t.mul(n,r),u=t.mul(u,d),f=t.cmov(f,o,c),u=t.cmov(u,d,c);let p=t.isOdd(r)===t.isOdd(u);return u=t.cmov(t.neg(u),u,p),{x:f=t.div(f,a),y:u}}};var ar=tE("lkFCe"),an=tE("2D9sF"),as=(tE("esaJO"),tE("esaJO"));function ao(t){void 0!==t.lowS&&(0,as.abool)("lowS",t.lowS),void 0!==t.prehash&&(0,as.abool)("prehash",t.prehash)}const{bytesToNumberBE:aa,hexToBytes:al}=as;class ah extends Error{constructor(t=""){super(t)}}ai.DERErr=ah,ai.DER={Err:ah,_tlv:{encode:(t,e)=>{let{Err:i}=ai.DER;if(t<0||t>256)throw new i("tlv.encode: wrong tag");if(1&e.length)throw new i("tlv.encode: unpadded data");let r=e.length/2,n=as.numberToHexUnpadded(r);if(n.length/2&128)throw new i("tlv.encode: long form length too big");let s=r>127?as.numberToHexUnpadded(n.length/2|128):"";return as.numberToHexUnpadded(t)+s+n+e},decode(t,e){let{Err:i}=ai.DER,r=0;if(t<0||t>256)throw new i("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new i("tlv.decode: wrong tlv");let n=e[r++],s=0;if(128&n){let t=127&n;if(!t)throw new i("tlv.decode(long): indefinite length not supported");if(t>4)throw new i("tlv.decode(long): byte length is too big");let o=e.subarray(r,r+t);if(o.length!==t)throw new i("tlv.decode: length bytes not complete");if(0===o[0])throw new i("tlv.decode(long): zero leftmost byte");for(let t of o)s=s<<8|t;if(r+=t,s<128)throw new i("tlv.decode(long): not minimal encoding")}else s=n;let o=e.subarray(r,r+s);if(o.length!==s)throw new i("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+s)}}},_int:{encode(t){let{Err:e}=ai.DER;if(t<af)throw new e("integer: negative integers are not allowed");let i=as.numberToHexUnpadded(t);if(8&Number.parseInt(i[0],16)&&(i="00"+i),1&i.length)throw new e("unexpected DER parsing assertion: unpadded hex");return i},decode(t){let{Err:e}=ai.DER;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return aa(t)}},toSig(t){let{Err:e,_int:i,_tlv:r}=ai.DER,n="string"==typeof t?al(t):t;as.abytes(n);let{v:s,l:o}=r.decode(48,n);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:l}=r.decode(2,s),{v:h,l:f}=r.decode(2,l);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:i.decode(a),s:i.decode(h)}},hexFromSig(t){let{_tlv:e,_int:i}=ai.DER,r=e.encode(2,i.encode(t.r)),n=e.encode(2,i.encode(t.s));return e.encode(48,r+n)}};const af=BigInt(0),au=BigInt(1),ac=BigInt(2),ad=BigInt(3),ap=BigInt(4);function ab(t){let e=function(t){let e=(0,ar.validateBasic)(t);as.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:i,Fp:r,a:n}=e;if(i){if(!r.eql(n,r.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof i||"bigint"!=typeof i.beta||"function"!=typeof i.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:i}=e,r=(0,an.Field)(e.n,e.nBitLength),n=e.toBytes||((t,e,r)=>{let n=e.toAffine();return as.concatBytes(Uint8Array.from([4]),i.toBytes(n.x),i.toBytes(n.y))}),s=e.fromBytes||(t=>{let e=t.subarray(1);return{x:i.fromBytes(e.subarray(0,i.BYTES)),y:i.fromBytes(e.subarray(i.BYTES,2*i.BYTES))}});function o(t){let{a:r,b:n}=e,s=i.sqr(t),o=i.mul(s,t);return i.add(i.add(o,i.mul(t,r)),n)}if(!i.eql(i.sqr(e.Gy),o(e.Gx)))throw Error("bad generator point: equation left != right");function a(t){let i,{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:s,n:o}=e;if(r&&"bigint"!=typeof t){if(as.isBytes(t)&&(t=as.bytesToHex(t)),"string"!=typeof t||!r.includes(t.length))throw Error("invalid private key");t=t.padStart(2*n,"0")}try{i="bigint"==typeof t?t:as.bytesToNumberBE((0,as.ensureBytes)("private key",t,n))}catch(e){throw Error("invalid private key, expected hex or "+n+" bytes, got "+typeof t)}return s&&(i=(0,an.mod)(i,o)),as.aInRange("private key",i,au,o),i}function l(t){if(!(t instanceof u))throw Error("ProjectivePoint expected")}let h=(0,as.memoized)((t,e)=>{let{px:r,py:n,pz:s}=t;if(i.eql(s,i.ONE))return{x:r,y:n};let o=t.is0();null==e&&(e=o?i.ONE:i.inv(s));let a=i.mul(r,e),l=i.mul(n,e),h=i.mul(s,e);if(o)return{x:i.ZERO,y:i.ZERO};if(!i.eql(h,i.ONE))throw Error("invZ was invalid");return{x:a,y:l}}),f=(0,as.memoized)(t=>{if(t.is0()){if(e.allowInfinityPoint&&!i.is0(t.py))return;throw Error("bad point: ZERO")}let{x:r,y:n}=t.toAffine();if(!i.isValid(r)||!i.isValid(n))throw Error("bad point: x or y not FE");let s=i.sqr(n),a=o(r);if(!i.eql(s,a))throw Error("bad point: equation left != right");if(!t.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class u{constructor(t,e,r){if(this.px=t,this.py=e,this.pz=r,null==t||!i.isValid(t))throw Error("x required");if(null==e||!i.isValid(e))throw Error("y required");if(null==r||!i.isValid(r))throw Error("z required");Object.freeze(this)}static fromAffine(t){let{x:e,y:r}=t||{};if(!t||!i.isValid(e)||!i.isValid(r))throw Error("invalid affine point");if(t instanceof u)throw Error("projective point not allowed");let n=t=>i.eql(t,i.ZERO);return n(e)&&n(r)?u.ZERO:new u(e,r,i.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){let e=i.invertBatch(t.map(t=>t.pz));return t.map((t,i)=>t.toAffine(e[i])).map(u.fromAffine)}static fromHex(t){let e=u.fromAffine(s((0,as.ensureBytes)("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return u.BASE.multiply(a(t))}static msm(t,e){return(0,ar.pippenger)(u,r,t,e)}_setWindowSize(t){d.setWindowSize(this,t)}assertValidity(){f(this)}hasEvenY(){let{y:t}=this.toAffine();if(i.isOdd)return!i.isOdd(t);throw Error("Field doesn't support isOdd")}equals(t){l(t);let{px:e,py:r,pz:n}=this,{px:s,py:o,pz:a}=t,h=i.eql(i.mul(e,a),i.mul(s,n)),f=i.eql(i.mul(r,a),i.mul(o,n));return h&&f}negate(){return new u(this.px,i.neg(this.py),this.pz)}double(){let{a:t,b:r}=e,n=i.mul(r,ad),{px:s,py:o,pz:a}=this,l=i.ZERO,h=i.ZERO,f=i.ZERO,c=i.mul(s,s),d=i.mul(o,o),p=i.mul(a,a),b=i.mul(s,o);return b=i.add(b,b),f=i.mul(s,a),f=i.add(f,f),l=i.mul(t,f),h=i.mul(n,p),h=i.add(l,h),l=i.sub(d,h),h=i.add(d,h),h=i.mul(l,h),l=i.mul(b,l),f=i.mul(n,f),p=i.mul(t,p),b=i.sub(c,p),b=i.mul(t,b),b=i.add(b,f),f=i.add(c,c),c=i.add(f,c),c=i.add(c,p),c=i.mul(c,b),h=i.add(h,c),p=i.mul(o,a),p=i.add(p,p),c=i.mul(p,b),l=i.sub(l,c),f=i.mul(p,d),f=i.add(f,f),new u(l,h,f=i.add(f,f))}add(t){l(t);let{px:r,py:n,pz:s}=this,{px:o,py:a,pz:h}=t,f=i.ZERO,c=i.ZERO,d=i.ZERO,p=e.a,b=i.mul(e.b,ad),g=i.mul(r,o),m=i.mul(n,a),y=i.mul(s,h),v=i.add(r,n),_=i.add(o,a);v=i.mul(v,_),_=i.add(g,m),v=i.sub(v,_),_=i.add(r,s);let w=i.add(o,h);return _=i.mul(_,w),w=i.add(g,y),_=i.sub(_,w),w=i.add(n,s),f=i.add(a,h),w=i.mul(w,f),f=i.add(m,y),w=i.sub(w,f),d=i.mul(p,_),f=i.mul(b,y),d=i.add(f,d),f=i.sub(m,d),d=i.add(m,d),c=i.mul(f,d),m=i.add(g,g),m=i.add(m,g),y=i.mul(p,y),_=i.mul(b,_),m=i.add(m,y),y=i.sub(g,y),y=i.mul(p,y),_=i.add(_,y),g=i.mul(m,_),c=i.add(c,g),g=i.mul(w,_),f=i.mul(v,f),f=i.sub(f,g),g=i.mul(v,m),d=i.mul(w,d),new u(f,c,d=i.add(d,g))}subtract(t){return this.add(t.negate())}is0(){return this.equals(u.ZERO)}wNAF(t){return d.wNAFCached(this,t,u.normalizeZ)}multiplyUnsafe(t){let{endo:r,n:n}=e;as.aInRange("scalar",t,af,n);let s=u.ZERO;if(t===af)return s;if(this.is0()||t===au)return this;if(!r||d.hasPrecomputes(this))return d.wNAFCachedUnsafe(this,t,u.normalizeZ);let{k1neg:o,k1:a,k2neg:l,k2:h}=r.splitScalar(t),f=s,c=s,p=this;for(;a>af||h>af;)a&au&&(f=f.add(p)),h&au&&(c=c.add(p)),p=p.double(),a>>=au,h>>=au;return o&&(f=f.negate()),l&&(c=c.negate()),c=new u(i.mul(c.px,r.beta),c.py,c.pz),f.add(c)}multiply(t){let r,n,{endo:s,n:o}=e;if(as.aInRange("scalar",t,au,o),s){let{k1neg:e,k1:o,k2neg:a,k2:l}=s.splitScalar(t),{p:h,f:f}=this.wNAF(o),{p:c,f:p}=this.wNAF(l);h=d.constTimeNegate(e,h),c=d.constTimeNegate(a,c),c=new u(i.mul(c.px,s.beta),c.py,c.pz),r=h.add(c),n=f.add(p)}else{let{p:e,f:i}=this.wNAF(t);r=e,n=i}return u.normalizeZ([r,n])[0]}multiplyAndAddUnsafe(t,e,i){let r=u.BASE,n=(t,e)=>e!==af&&e!==au&&t.equals(r)?t.multiply(e):t.multiplyUnsafe(e),s=n(this,e).add(n(t,i));return s.is0()?void 0:s}toAffine(t){return h(this,t)}isTorsionFree(){let{h:t,isTorsionFree:i}=e;if(t===au)return!0;if(i)return i(u,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:t,clearCofactor:i}=e;return t===au?this:i?i(u,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return(0,as.abool)("isCompressed",t),this.assertValidity(),n(u,this,t)}toHex(t=!0){return(0,as.abool)("isCompressed",t),as.bytesToHex(this.toRawBytes(t))}}u.BASE=new u(e.Gx,e.Gy,i.ONE),u.ZERO=new u(i.ZERO,i.ONE,i.ZERO);let c=e.nBitLength,d=(0,ar.wNAF)(u,e.endo?Math.ceil(c/2):c);return{CURVE:e,ProjectivePoint:u,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:function(t){return as.inRange(t,au,e.n)}}}function ag(t,e){let i=t.ORDER,r=af;for(let t=i-au;t%ac===af;t/=ac)r+=au;let n=r,s=ac<<n-au-au,o=s*ac,a=(i-au)/o,l=(a-au)/ac,h=o-au,f=t.pow(e,a),u=t.pow(e,(a+au)/ac),c=(e,i)=>{let r=f,o=t.pow(i,h),a=t.sqr(o);a=t.mul(a,i);let c=t.mul(e,a);c=t.pow(c,l),c=t.mul(c,o),o=t.mul(c,i),a=t.mul(c,e);let d=t.mul(a,o);c=t.pow(d,s);let p=t.eql(c,t.ONE);o=t.mul(a,u),c=t.mul(d,r),a=t.cmov(o,a,p),d=t.cmov(c,d,p);for(let e=n;e>au;e--){let i=e-ac;i=ac<<i-au;let n=t.pow(d,i),s=t.eql(n,t.ONE);o=t.mul(a,r),r=t.mul(r,r),n=t.mul(d,r),a=t.cmov(o,a,s),d=t.cmov(n,d,s)}return{isValid:p,value:a}};if(t.ORDER%ap===ad){let i=(t.ORDER-ad)/ap,r=t.sqrt(t.neg(e));c=(e,n)=>{let s=t.sqr(n),o=t.mul(e,n);s=t.mul(s,o);let a=t.pow(s,i);a=t.mul(a,o);let l=t.mul(a,r),h=t.mul(t.sqr(a),n),f=t.eql(h,e),u=t.cmov(l,a,f);return{isValid:f,value:u}}}return c}function am(t){return{hash:t,hmac:(e,...i)=>(0,at.hmac)(t,e,(0,oW.concatBytes)(...i)),randomBytes:oW.randomBytes}}var ay={};Object.defineProperty(ay,"__esModule",{value:!0}),ay.expand_message_xmd=ax,ay.expand_message_xof=aS,ay.hash_to_field=aE,ay.isogenyMap=function(t,e){let i=e.map(t=>Array.from(t).reverse());return(e,r)=>{let[n,s,o,a]=i.map(i=>i.reduce((i,r)=>t.add(t.mul(i,e),r)));return e=t.div(n,s),r=t.mul(r,t.div(o,a)),{x:e,y:r}}},ay.createHasher=function(t,e,i){if("function"!=typeof e)throw Error("mapToCurve() must be defined");return{hashToCurve(r,n){let s=aE(r,2,{...i,DST:i.DST,...n}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),l=o.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(r,n){let s=aE(r,1,{...i,DST:i.encodeDST,...n}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(i){if(!Array.isArray(i))throw Error("mapToCurve: expected array of bigints");for(let t of i)if("bigint"!=typeof t)throw Error("mapToCurve: expected array of bigints");let r=t.fromAffine(e(i)).clearCofactor();return r.assertValidity(),r}}};var an=tE("2D9sF"),as=tE("esaJO");const av=as.bytesToNumberBE;function a_(t,e){if(aw(t),aw(e),t<0||t>=1<<8*e)throw Error("invalid I2OSP input: "+t);let i=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)i[r]=255&t,t>>>=8;return new Uint8Array(i)}function aw(t){if(!Number.isSafeInteger(t))throw Error("number expected")}function ax(t,e,i,r){(0,as.abytes)(t),(0,as.abytes)(e),aw(i),e.length>255&&(e=r((0,as.concatBytes)((0,as.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:n,blockLen:s}=r,o=Math.ceil(i/n);if(i>65535||o>255)throw Error("expand_message_xmd: invalid lenInBytes");let a=(0,as.concatBytes)(e,a_(e.length,1)),l=a_(0,s),h=a_(i,2),f=Array(o),u=r((0,as.concatBytes)(l,t,h,a_(0,1),a));f[0]=r((0,as.concatBytes)(u,a_(1,1),a));for(let t=1;t<=o;t++){let e=[function(t,e){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t[r]^e[r];return i}(u,f[t-1]),a_(t+1,1),a];f[t]=r((0,as.concatBytes)(...e))}return(0,as.concatBytes)(...f).slice(0,i)}function aS(t,e,i,r,n){if((0,as.abytes)(t),(0,as.abytes)(e),aw(i),e.length>255){let t=Math.ceil(2*r/8);e=n.create({dkLen:t}).update((0,as.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(i>65535||e.length>255)throw Error("expand_message_xof: invalid lenInBytes");return n.create({dkLen:i}).update(t).update(a_(i,2)).update(e).update(a_(e.length,1)).digest()}function aE(t,e,i){let r;(0,as.validateObject)(i,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:s,m:o,hash:a,expand:l,DST:h}=i;(0,as.abytes)(t),aw(e);let f="string"==typeof h?(0,as.utf8ToBytes)(h):h,u=Math.ceil((n.toString(2).length+s)/8),c=e*o*u;if("xmd"===l)r=ax(t,f,c,a);else if("xof"===l)r=aS(t,f,c,s,a);else if("_internal_pass"===l)r=t;else throw Error('expand must be "xmd" or "xof"');let d=Array(e);for(let t=0;t<e;t++){let e=Array(o);for(let i=0;i<o;i++){let s=u*(i+t*o),a=r.subarray(s,s+u);e[i]=(0,an.mod)(av(a),n)}d[t]=e}return d}var an=tE("2D9sF"),as=tE("esaJO");const ak=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),aA=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),aM=BigInt(1),aT=BigInt(2),aI=(t,e)=>(t+e/aT)/e;function aP(t){let e=BigInt(3),i=BigInt(6),r=BigInt(11),n=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),l=t*t*t%ak,h=l*l*t%ak,f=(0,an.pow2)(h,e,ak)*h%ak,u=(0,an.pow2)(f,e,ak)*h%ak,c=(0,an.pow2)(u,aT,ak)*l%ak,d=(0,an.pow2)(c,r,ak)*c%ak,p=(0,an.pow2)(d,n,ak)*d%ak,b=(0,an.pow2)(p,o,ak)*p%ak,g=(0,an.pow2)(b,a,ak)*b%ak,m=(0,an.pow2)(g,o,ak)*p%ak,y=(0,an.pow2)(m,e,ak)*h%ak,v=(0,an.pow2)(y,s,ak)*d%ak,_=(0,an.pow2)(v,i,ak)*l%ak,w=(0,an.pow2)(_,aT,ak);if(!aO.eql(aO.sqr(w),t))throw Error("Cannot find square root");return w}const aO=(0,an.Field)(ak,void 0,void 0,{sqrt:aP});oj.secp256k1=(0,o7.createCurve)({a:BigInt(0),b:BigInt(7),Fp:aO,n:aA,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-aM*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),n=BigInt("0x100000000000000000000000000000000"),s=aI(e*t,aA),o=aI(-i*t,aA),a=(0,an.mod)(t-s*e-o*r,aA),l=(0,an.mod)(-s*i-o*e,aA),h=a>n,f=l>n;if(h&&(a=aA-a),f&&(l=aA-l),a>n||l>n)throw Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:a,k2neg:f,k2:l}}}},oF.sha256);const aB=BigInt(0),aC={};function aR(t,...e){let i=aC[t];if(void 0===i){let e=(0,oF.sha256)(Uint8Array.from(t,t=>t.charCodeAt(0)));i=(0,as.concatBytes)(e,e),aC[t]=i}return(0,oF.sha256)((0,as.concatBytes)(i,...e))}const aL=t=>t.toRawBytes(!0).slice(1),aN=t=>(0,as.numberToBytesBE)(t,32),aD=t=>(0,an.mod)(t,ak),aU=t=>(0,an.mod)(t,aA),aH=oj.secp256k1.ProjectivePoint,aj=(t,e,i)=>aH.BASE.multiplyAndAddUnsafe(t,e,i);function aF(t){let e=oj.secp256k1.utils.normPrivateKeyToScalar(t),i=aH.fromPrivateKey(e);return{scalar:i.hasEvenY()?e:aU(-e),bytes:aL(i)}}function aq(t){(0,as.aInRange)("x",t,aM,ak);let e=aD(t*t),i=aP(aD(e*t+BigInt(7)));i%aT!==aB&&(i=aD(-i));let r=new aH(t,i,aM);return r.assertValidity(),r}const a$=as.bytesToNumberBE;function az(...t){return aU(a$(aR("BIP0340/challenge",...t)))}function aV(t,e,i){let r=(0,as.ensureBytes)("signature",t,64),n=(0,as.ensureBytes)("message",e),s=(0,as.ensureBytes)("publicKey",i,32);try{let t=aq(a$(s)),e=a$(r.subarray(0,32));if(!(0,as.inRange)(e,aM,ak))return!1;let i=a$(r.subarray(32,64));if(!(0,as.inRange)(i,aM,aA))return!1;let o=az(aN(e),aL(t),n),a=aj(t,i,aU(-o));if(!a||!a.hasEvenY()||a.toAffine().x!==e)return!1;return!0}catch(t){return!1}}oj.schnorr={getPublicKey:function(t){return aF(t).bytes},sign:function(t,e,i=(0,oW.randomBytes)(32)){let r=(0,as.ensureBytes)("message",t),{bytes:n,scalar:s}=aF(e),o=aN(s^a$(aR("BIP0340/aux",(0,as.ensureBytes)("auxRand",i,32)))),a=aU(a$(aR("BIP0340/nonce",o,n,r)));if(a===aB)throw Error("sign failed: k is zero");let{bytes:l,scalar:h}=aF(a),f=az(l,n,r),u=new Uint8Array(64);if(u.set(l,0),u.set(aN(aU(h+f*s)),32),!aV(u,r,n))throw Error("sign: Invalid signature produced");return u},verify:aV,utils:{randomPrivateKey:oj.secp256k1.utils.randomPrivateKey,lift_x:aq,pointToBytes:aL,numberToBytesBE:as.numberToBytesBE,bytesToNumberBE:as.bytesToNumberBE,taggedHash:aR,mod:an.mod}};const aW=(0,ay.isogenyMap)(aO,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(t=>BigInt(t)))),aK=(0,ai.mapToCurveSimpleSWU)(aO,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:aO.create(BigInt("-11"))}),aQ=(0,ay.createHasher)(oj.secp256k1.ProjectivePoint,t=>{let{x:e,y:i}=aK(aO.create(t[0]));return aW(e,i)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:aO.ORDER,m:1,k:128,expand:"xmd",hash:oF.sha256});oj.hashToCurve=aQ.hashToCurve,oj.encodeToCurve=aQ.encodeToCurve;var as=tE("esaJO"),aG={};Object.defineProperty(aG,"__esModule",{value:!0}),aG.encodeBase64toUint8=aG.hexToNumber=aG.bytesToNumber=void 0;var as=tE("esaJO"),aX=tE("6ZWSX");function aY(t){return BigInt(`0x${t}`)}aG.bytesToNumber=function(t){return aY((0,as.bytesToHex)(t))},aG.hexToNumber=aY,aG.encodeBase64toUint8=function(t){return aX.Buffer.from(t,"base64")};var aX=tE("6ZWSX");const aZ=(0,as.hexToBytes)("536563703235366b315f48617368546f43757276655f43617368755f");function aJ(t){return oj.secp256k1.ProjectivePoint.fromHex(t)}function a0(t){let e={};return Object.keys(t).forEach(i=>{e[i]=(0,as.bytesToHex)(t[i])}),e}oH.hashToCurve=function(t){let e=(0,oF.sha256)(aX.Buffer.concat([aZ,t])),i=new Uint32Array(1);for(let t=0;t<65536;t++){let t=new Uint8Array(i.buffer),r=(0,oF.sha256)(aX.Buffer.concat([e,t]));try{return aJ((0,as.bytesToHex)(aX.Buffer.concat([new Uint8Array([2]),r])))}catch(t){i[0]++}}throw Error("No valid point found")},oH.hash_e=function(t){let e=t.map(t=>t.toHex(!1)).join("");return(0,oF.sha256)(new TextEncoder().encode(e))},oH.pointFromBytes=function(t){return oj.secp256k1.ProjectivePoint.fromHex((0,as.bytesToHex)(t))},oH.pointFromHex=aJ,oH.getKeysetIdInt=t=>{let e;return/^[a-fA-F0-9]+$/.test(t)?(0,aG.hexToNumber)(t)%BigInt(0x80000000-1):(0,aG.bytesToNumber)((0,aG.encodeBase64toUint8)(t))%BigInt(0x80000000-1)},oH.createRandomPrivateKey=function(){return oj.secp256k1.utils.randomPrivateKey()},oH.serializeMintKeys=a0,oH.deserializeMintKeys=function(t){let e={};return Object.keys(t).forEach(i=>{e[i]=(0,as.hexToBytes)(t[i])}),e},oH.deriveKeysetId=function(t){let e=Object.entries(a0(t)).map(t=>[BigInt(t[0]),t[1]]).sort((t,e)=>t[0]<e[0]?-1:+(t[0]>e[0])).map(([,t])=>(0,as.hexToBytes)(t)).reduce((t,e)=>(function(t,e){let i=new Uint8Array(t.length+e.length);return i.set(t),i.set(e,t.length),i})(t,e),new Uint8Array),i=(0,oF.sha256)(e);return"00"+aX.Buffer.from(i).toString("hex").slice(0,14)};var as=tE("esaJO");oU.verifyDLEQProof=(t,e,i,r)=>{let n=oj.secp256k1.ProjectivePoint.fromPrivateKey((0,as.bytesToHex)(t.s)),s=r.multiply((0,aG.bytesToNumber)(t.e)),o=e.multiply((0,aG.bytesToNumber)(t.s)),a=i.multiply((0,aG.bytesToNumber)(t.e)),l=n.subtract(s),h=o.subtract(a);return function(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}((0,oH.hash_e)([l,h,r,i]),t.e)},oU.verifyDLEQProof_reblind=(t,e,i,r)=>{if(void 0===e.r)throw Error("verifyDLEQProof_reblind: Undefined blinding factor");let n=(0,oH.hashToCurve)(t),s=i.add(r.multiply(e.r)),o=oj.secp256k1.ProjectivePoint.fromPrivateKey(e.r),a=n.add(o);return(0,oU.verifyDLEQProof)(e,a,s,r)};var as=tE("esaJO"),aX=tE("6ZWSX"),a1={};Object.defineProperty(a1,"__esModule",{value:!0}),a1.serializeBlindedMessage=a1.deserializeProof=a1.serializeProof=a1.constructProofFromPromise=a1.unblindSignature=a1.blindMessage=a1.createRandomBlindedMessage=void 0;var a2={};Object.defineProperty(a2,"__esModule",{value:!0}),a2.getSignedProof=a2.getSignedOutputs=a2.getSignedOutput=a2.getSignedProofs=a2.signBlindedMessage=a2.signP2PKsecret=a2.createP2PKsecret=void 0;var as=tE("esaJO"),a3={};function a6(t,e,i){let r=(0,oH.hashToCurve)(t);e||(e=(0,aG.bytesToNumber)(oj.secp256k1.utils.randomPrivateKey()));let n=oj.secp256k1.ProjectivePoint.BASE.multiply(e),s=r.add(n);return void 0!==i?(0,a2.getSignedOutput)({B_:s,r:e,secret:t},i):{B_:s,r:e,secret:t}}function a5(t,e,i){return t.subtract(i.multiply(e))}Object.defineProperty(a3,"__esModule",{value:!0}),a3.parseSecret=void 0,a3.parseSecret=t=>{try{return t instanceof Uint8Array&&(t=new TextDecoder().decode(t)),JSON.parse(t)}catch(t){throw Error("can't parse secret")}},a2.createP2PKsecret=t=>{let e=JSON.stringify(["P2PK",{nonce:(0,as.bytesToHex)((0,oW.randomBytes)(32)),data:t}]);return new TextEncoder().encode(e)},a2.signP2PKsecret=(t,e)=>{let i=(0,oF.sha256)(new TextDecoder().decode(t));return oj.schnorr.sign(i,e)},a2.signBlindedMessage=(t,e)=>{let i=(0,oF.sha256)(t);return oj.schnorr.sign(i,e)},a2.getSignedProofs=(t,e)=>t.map(t=>{try{let i=(0,a3.parseSecret)(t.secret);if("P2PK"!==i[0])throw Error("unknown secret type");return(0,a2.getSignedProof)(t,(0,as.hexToBytes)(e))}catch(e){return t}}),a2.getSignedOutput=(t,e)=>{let i=t.B_.toHex(!0),r=(0,a2.signBlindedMessage)(i,e);return t.witness={signatures:[(0,as.bytesToHex)(r)]},t},a2.getSignedOutputs=(t,e)=>t.map(t=>(0,a2.getSignedOutput)(t,e)),a2.getSignedProof=(t,e)=>(t.witness||(t.witness={signatures:[(0,as.bytesToHex)((0,a2.signP2PKsecret)(t.secret,e))]}),t),a1.createRandomBlindedMessage=function(t){return a6((0,oW.randomBytes)(32),(0,aG.bytesToNumber)(oj.secp256k1.utils.randomPrivateKey()),t)},a1.blindMessage=a6,a1.unblindSignature=a5,a1.constructProofFromPromise=function(t,e,i,r){let n=a5(t.C_,e,r);return{id:t.id,amount:t.amount,secret:i,C:n}},a1.serializeProof=t=>({amount:t.amount,C:t.C.toHex(!0),id:t.id,secret:new TextDecoder().decode(t.secret),witness:JSON.stringify(t.witness)}),a1.deserializeProof=t=>({amount:t.amount,C:(0,oH.pointFromHex)(t.C),id:t.id,secret:new TextEncoder().encode(t.secret),witness:t.witness?JSON.parse(t.witness):void 0}),a1.serializeBlindedMessage=(t,e)=>({B_:t.B_.toHex(!0),amount:e});var a8={};Object.defineProperty(a8,"__esModule",{value:!0}),a8.deriveSeedFromMnemonic=a8.generateNewMnemonic=a8.deriveBlindingFactor=a8.deriveSecret=void 0;var a4={};Object.defineProperty(a4,"__esModule",{value:!0}),a4.ripemd160=a4.RIPEMD160=void 0;const a9=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),a7=new Uint8Array(Array(16).fill(0).map((t,e)=>e)),lt=a7.map(t=>(9*t+5)%16);let le=[a7],li=[lt];for(let t=0;t<4;t++)for(let e of[le,li])e.push(e[t].map(t=>a9[t]));const lr=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),ln=le.map((t,e)=>t.map(t=>lr[e][t])),ls=li.map((t,e)=>t.map(t=>lr[e][t])),lo=new Uint32Array([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),la=new Uint32Array([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]);function ll(t,e,i,r){return 0===t?e^i^r:1===t?e&i|~e&r:2===t?(e|~i)^r:3===t?e&r|i&~r:e^(i|~r)}const lh=new Uint32Array(16);class lf extends oq.HashMD{constructor(){super(64,20,8,!0),this.h0=0x67452301,this.h1=-0x10325477,this.h2=-0x67452302,this.h3=0x10325476,this.h4=-0x3c2d1e10}get(){let{h0:t,h1:e,h2:i,h3:r,h4:n}=this;return[t,e,i,r,n]}set(t,e,i,r,n){this.h0=0|t,this.h1=0|e,this.h2=0|i,this.h3=0|r,this.h4=0|n}process(t,e){for(let i=0;i<16;i++,e+=4)lh[i]=t.getUint32(e,!0);let i=0|this.h0,r=i,n=0|this.h1,s=n,o=0|this.h2,a=o,l=0|this.h3,h=l,f=0|this.h4,u=f;for(let t=0;t<5;t++){let e=4-t,c=lo[t],d=la[t],p=le[t],b=li[t],g=ln[t],m=ls[t];for(let e=0;e<16;e++){let r=(0,oW.rotl)(i+ll(t,n,o,l)+lh[p[e]]+c,g[e])+f|0;i=f,f=l,l=0|(0,oW.rotl)(o,10),o=n,n=r}for(let t=0;t<16;t++){let i=(0,oW.rotl)(r+ll(e,s,a,h)+lh[b[t]]+d,m[t])+u|0;r=u,u=h,h=0|(0,oW.rotl)(a,10),a=s,s=i}}this.set(this.h1+o+h|0,this.h2+l+u|0,this.h3+f+r|0,this.h4+i+s|0,this.h0+n+a|0)}roundClean(){lh.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}a4.RIPEMD160=lf,a4.ripemd160=(0,oW.wrapConstructor)(()=>new lf);var lu={};Object.defineProperty(lu,"__esModule",{value:!0}),lu.sha384=lu.sha512_256=lu.sha512_224=lu.sha512=lu.SHA384=lu.SHA512_256=lu.SHA512_224=lu.SHA512=void 0;var lc={};Object.defineProperty(lc,"__esModule",{value:!0}),lc.add5L=lc.add5H=lc.add4H=lc.add4L=lc.add3H=lc.add3L=lc.rotlBL=lc.rotlBH=lc.rotlSL=lc.rotlSH=lc.rotr32L=lc.rotr32H=lc.rotrBL=lc.rotrBH=lc.rotrSL=lc.rotrSH=lc.shrSL=lc.shrSH=lc.toBig=void 0,lc.fromBig=lb,lc.split=lg,lc.add=lP;const ld=BigInt(0x100000000-1),lp=BigInt(32);function lb(t,e=!1){return e?{h:Number(t&ld),l:Number(t>>lp&ld)}:{h:0|Number(t>>lp&ld),l:0|Number(t&ld)}}function lg(t,e=!1){let i=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let n=0;n<t.length;n++){let{h:s,l:o}=lb(t[n],e);[i[n],r[n]]=[s,o]}return[i,r]}const lm=(t,e)=>BigInt(t>>>0)<<lp|BigInt(e>>>0);lc.toBig=lm;const ly=(t,e,i)=>t>>>i;lc.shrSH=ly;const lv=(t,e,i)=>t<<32-i|e>>>i;lc.shrSL=lv;const l_=(t,e,i)=>t>>>i|e<<32-i;lc.rotrSH=l_;const lw=(t,e,i)=>t<<32-i|e>>>i;lc.rotrSL=lw;const lx=(t,e,i)=>t<<64-i|e>>>i-32;lc.rotrBH=lx;const lS=(t,e,i)=>t>>>i-32|e<<64-i;lc.rotrBL=lS;const lE=(t,e)=>e;lc.rotr32H=lE;const lk=(t,e)=>t;lc.rotr32L=lk;const lA=(t,e,i)=>t<<i|e>>>32-i;lc.rotlSH=lA;const lM=(t,e,i)=>e<<i|t>>>32-i;lc.rotlSL=lM;const lT=(t,e,i)=>e<<i-32|t>>>64-i;lc.rotlBH=lT;const lI=(t,e,i)=>t<<i-32|e>>>64-i;function lP(t,e,i,r){let n=(e>>>0)+(r>>>0);return{h:t+i+(n/0x100000000|0)|0,l:0|n}}lc.rotlBL=lI;const lO=(t,e,i)=>(t>>>0)+(e>>>0)+(i>>>0);lc.add3L=lO;const lB=(t,e,i,r)=>e+i+r+(t/0x100000000|0)|0;lc.add3H=lB;const lC=(t,e,i,r)=>(t>>>0)+(e>>>0)+(i>>>0)+(r>>>0);lc.add4L=lC;const lR=(t,e,i,r,n)=>e+i+r+n+(t/0x100000000|0)|0;lc.add4H=lR;const lL=(t,e,i,r,n)=>(t>>>0)+(e>>>0)+(i>>>0)+(r>>>0)+(n>>>0);lc.add5L=lL;const lN=(t,e,i,r,n,s)=>e+i+r+n+s+(t/0x100000000|0)|0;lc.add5H=lN,lc.default={fromBig:lb,split:lg,toBig:lm,shrSH:ly,shrSL:lv,rotrSH:l_,rotrSL:lw,rotrBH:lx,rotrBL:lS,rotr32H:lE,rotr32L:lk,rotlSH:lA,rotlSL:lM,rotlBH:lT,rotlBL:lI,add:lP,add3L:lO,add3H:lB,add4L:lC,add4H:lR,add5H:lN,add5L:lL};const[lD,lU]=lc.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),lH=new Uint32Array(80),lj=new Uint32Array(80);class lF extends oq.HashMD{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:t,Al:e,Bh:i,Bl:r,Ch:n,Cl:s,Dh:o,Dl:a,Eh:l,El:h,Fh:f,Fl:u,Gh:c,Gl:d,Hh:p,Hl:b}=this;return[t,e,i,r,n,s,o,a,l,h,f,u,c,d,p,b]}set(t,e,i,r,n,s,o,a,l,h,f,u,c,d,p,b){this.Ah=0|t,this.Al=0|e,this.Bh=0|i,this.Bl=0|r,this.Ch=0|n,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|h,this.Fh=0|f,this.Fl=0|u,this.Gh=0|c,this.Gl=0|d,this.Hh=0|p,this.Hl=0|b}process(t,e){for(let i=0;i<16;i++,e+=4)lH[i]=t.getUint32(e),lj[i]=t.getUint32(e+=4);for(let t=16;t<80;t++){let e=0|lH[t-15],i=0|lj[t-15],r=lc.default.rotrSH(e,i,1)^lc.default.rotrSH(e,i,8)^lc.default.shrSH(e,i,7),n=lc.default.rotrSL(e,i,1)^lc.default.rotrSL(e,i,8)^lc.default.shrSL(e,i,7),s=0|lH[t-2],o=0|lj[t-2],a=lc.default.rotrSH(s,o,19)^lc.default.rotrBH(s,o,61)^lc.default.shrSH(s,o,6),l=lc.default.rotrSL(s,o,19)^lc.default.rotrBL(s,o,61)^lc.default.shrSL(s,o,6),h=lc.default.add4L(n,l,lj[t-7],lj[t-16]),f=lc.default.add4H(h,r,a,lH[t-7],lH[t-16]);lH[t]=0|f,lj[t]=0|h}let{Ah:i,Al:r,Bh:n,Bl:s,Ch:o,Cl:a,Dh:l,Dl:h,Eh:f,El:u,Fh:c,Fl:d,Gh:p,Gl:b,Hh:g,Hl:m}=this;for(let t=0;t<80;t++){let e=lc.default.rotrSH(f,u,14)^lc.default.rotrSH(f,u,18)^lc.default.rotrBH(f,u,41),y=lc.default.rotrSL(f,u,14)^lc.default.rotrSL(f,u,18)^lc.default.rotrBL(f,u,41),v=f&c^~f&p,_=u&d^~u&b,w=lc.default.add5L(m,y,_,lU[t],lj[t]),x=lc.default.add5H(w,g,e,v,lD[t],lH[t]),S=0|w,E=lc.default.rotrSH(i,r,28)^lc.default.rotrBH(i,r,34)^lc.default.rotrBH(i,r,39),k=lc.default.rotrSL(i,r,28)^lc.default.rotrBL(i,r,34)^lc.default.rotrBL(i,r,39),A=i&n^i&o^n&o,M=r&s^r&a^s&a;g=0|p,m=0|b,p=0|c,b=0|d,c=0|f,d=0|u,({h:f,l:u}=lc.default.add(0|l,0|h,0|x,0|S)),l=0|o,h=0|a,o=0|n,a=0|s,n=0|i,s=0|r;let T=lc.default.add3L(S,k,M);i=lc.default.add3H(T,x,E,A),r=0|T}({h:i,l:r}=lc.default.add(0|this.Ah,0|this.Al,0|i,0|r)),({h:n,l:s}=lc.default.add(0|this.Bh,0|this.Bl,0|n,0|s)),({h:o,l:a}=lc.default.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:l,l:h}=lc.default.add(0|this.Dh,0|this.Dl,0|l,0|h)),({h:f,l:u}=lc.default.add(0|this.Eh,0|this.El,0|f,0|u)),({h:c,l:d}=lc.default.add(0|this.Fh,0|this.Fl,0|c,0|d)),({h:p,l:b}=lc.default.add(0|this.Gh,0|this.Gl,0|p,0|b)),({h:g,l:m}=lc.default.add(0|this.Hh,0|this.Hl,0|g,0|m)),this.set(i,r,n,s,o,a,l,h,f,u,c,d,p,b,g,m)}roundClean(){lH.fill(0),lj.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}lu.SHA512=lF;class lq extends lF{constructor(){super(),this.Ah=-0x73c2c838,this.Al=0x19544da2,this.Bh=0x73e19966,this.Bl=-0x76232b2a,this.Ch=0x1dfab7ae,this.Cl=0x32ff9c82,this.Dh=0x679dd514,this.Dl=0x582f9fcf,this.Eh=0xf6d2b69,this.El=0x7bd44da8,this.Fh=0x77e36f73,this.Fl=0x4c48942,this.Gh=0x3f9d85a8,this.Gl=0x6a1d36c8,this.Hh=0x1112e6ad,this.Hl=-0x6e296d5f,this.outputLen=28}}lu.SHA512_224=lq;class l$ extends lF{constructor(){super(),this.Ah=0x22312194,this.Al=-0x3d408d4,this.Bh=-0x60aaa05d,this.Bl=-0x37b39b3e,this.Ch=0x2393b86b,this.Cl=0x6f53b151,this.Dh=-0x69c788e7,this.Dl=0x5940eabd,this.Eh=-0x69d7c11e,this.El=-0x5771001d,this.Fh=-0x41a1e1db,this.Fl=0x53863992,this.Gh=0x2b0199fc,this.Gl=0x2c85b8aa,this.Hh=0xeb72ddc,this.Hl=-0x7e3ad35e,this.outputLen=32}}lu.SHA512_256=l$;class lz extends lF{constructor(){super(),this.Ah=-0x344462a3,this.Al=-0x3efa6128,this.Bh=0x629a292a,this.Bl=0x367cd507,this.Ch=-0x6ea6fea6,this.Cl=0x3070dd17,this.Dh=0x152fecd8,this.Dl=-0x8f1a6c7,this.Eh=0x67332667,this.El=-4191439,this.Fh=-0x714bb579,this.Fl=0x68581511,this.Gh=-0x24f3d1f3,this.Gl=0x64f98fa7,this.Hh=0x47b5481d,this.Hl=-0x4105b05c,this.outputLen=48}}lu.SHA384=lz,lu.sha512=(0,oW.wrapConstructor)(()=>new lF),lu.sha512_224=(0,oW.wrapConstructor)(()=>new lq),lu.sha512_256=(0,oW.wrapConstructor)(()=>new l$),lu.sha384=(0,oW.wrapConstructor)(()=>new lz);var an=tE("2D9sF");function lV(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function lW(t,e){return!!Array.isArray(e)&&(0===e.length||(t?e.every(t=>"string"==typeof t):e.every(t=>Number.isSafeInteger(t))))}function lK(t){if("function"!=typeof t)throw Error("function expected");return!0}function lQ(t,e){if("string"!=typeof e)throw Error(`${t}: string expected`);return!0}function lG(t){if(!Number.isSafeInteger(t))throw Error(`invalid integer: ${t}`)}function lX(t){if(!Array.isArray(t))throw Error("array expected")}function lY(t,e){if(!lW(!0,e))throw Error(`${t}: array of strings expected`)}function lZ(t,e){if(!lW(!1,e))throw Error(`${t}: array of numbers expected`)}function lJ(...t){let e=t=>t,i=(t,e)=>i=>t(e(i));return{encode:t.map(t=>t.encode).reduceRight(i,e),decode:t.map(t=>t.decode).reduce(i,e)}}function l0(t){let e="string"==typeof t?t.split(""):t,i=e.length;lY("alphabet",e);let r=new Map(e.map((t,e)=>[t,e]));return{encode:r=>(lX(r),r.map(r=>{if(!Number.isSafeInteger(r)||r<0||r>=i)throw Error(`alphabet.encode: digit index outside alphabet "${r}". Allowed: ${t}`);return e[r]})),decode:e=>(lX(e),e.map(e=>{lQ("alphabet.decode",e);let i=r.get(e);if(void 0===i)throw Error(`Unknown letter: "${e}". Allowed: ${t}`);return i}))}}function l1(t=""){return lQ("join",t),{encode:e=>(lY("join.decode",e),e.join(t)),decode:e=>(lQ("join.decode",e),e.split(t))}}function l2(t,e,i){if(e<2)throw Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(i<2)throw Error(`convertRadix: invalid to=${i}, base cannot be less than 2`);if(lX(t),!t.length)return[];let r=0,n=[],s=Array.from(t,t=>{if(lG(t),t<0||t>=e)throw Error(`invalid integer: ${t}`);return t}),o=s.length;for(;;){let t=0,a=!0;for(let n=r;n<o;n++){let o=s[n],l=e*t,h=l+o;if(!Number.isSafeInteger(h)||l/e!==t||h-o!==l)throw Error("convertRadix: carry overflow");let f=h/i;t=h%i;let u=Math.floor(f);if(s[n]=u,!Number.isSafeInteger(u)||u*i+t!==h)throw Error("convertRadix: carry overflow");a&&(u?a=!1:r=n)}if(n.push(t),a)break}for(let e=0;e<t.length-1&&0===t[e];e++)n.push(0);return n.reverse()}const l3=(t,e)=>0===e?t:l3(e,t%e),l6=(t,e)=>t+(e-l3(t,e)),l5=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function l8(t,e,i,r){if(lX(t),e<=0||e>32)throw Error(`convertRadix2: wrong from=${e}`);if(i<=0||i>32)throw Error(`convertRadix2: wrong to=${i}`);if(l6(e,i)>32)throw Error(`convertRadix2: carry overflow from=${e} to=${i} carryBits=${l6(e,i)}`);let n=0,s=0,o=l5[e],a=l5[i]-1,l=[];for(let r of t){if(lG(r),r>=o)throw Error(`convertRadix2: invalid data word=${r} from=${e}`);if(n=n<<e|r,s+e>32)throw Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=i;s-=i)l.push((n>>s-i&a)>>>0);let t=l5[s];if(void 0===t)throw Error("invalid carry");n&=t-1}if(n=n<<i-s&a,!r&&s>=e)throw Error("Excess padding");if(!r&&n>0)throw Error(`Non-zero padding: ${n}`);return r&&s>0&&l.push(n>>>0),l}function l4(t,e){return lG(t),lK(e),{encode(i){if(!lV(i))throw Error("checksum.encode: input should be Uint8Array");let r=e(i).slice(0,t),n=new Uint8Array(i.length+t);return n.set(i),n.set(r,i.length),n},decode(i){if(!lV(i))throw Error("checksum.decode: input should be Uint8Array");let r=i.slice(0,-t),n=i.slice(-t),s=e(r).slice(0,t);for(let e=0;e<t;e++)if(s[e]!==n[e])throw Error("Invalid checksum");return r}}}const l9=function(t,e=!1){if(lG(t),t<=0||t>32)throw Error("radix2: bits should be in (0..32]");if(l6(8,t)>32||l6(t,8)>32)throw Error("radix2: carry overflow");return{encode:i=>{if(!lV(i))throw Error("radix2.encode input should be Uint8Array");return l8(Array.from(i),8,t,!e)},decode:i=>(lZ("radix2.decode",i),Uint8Array.from(l8(i,t,8,e)))}};const l7=lJ((h=58,lG(58),{encode:t=>{if(!lV(t))throw Error("radix.encode input should be Uint8Array");return l2(Array.from(t),256,h)},decode:t=>(lZ("radix.decode",t),Uint8Array.from(l2(t,h,256)))}),l0("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),l1("")),ht=lJ(l0("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),l1("")),he=[0x3b6a57b2,0x26508e6d,0x1ea119fa,0x3d4233dd,0x2a1462b3];function hi(t){let e=t>>25,i=(0x1ffffff&t)<<5;for(let t=0;t<he.length;t++)(e>>t&1)==1&&(i^=he[t]);return i}const hr=oj.secp256k1.ProjectivePoint,hn=(r=oF.sha256,lJ(l4(4,t=>r(r(t))),l7));function hs(t){return(0,o$.abytes)(t),BigInt("0x"+(0===t.length?"0":(0,oW.bytesToHex)(t)))}const ho=(0,oW.utf8ToBytes)("Bitcoin seed"),ha={private:0x488ade4,public:0x488b21e},hl=t=>(0,a4.ripemd160)((0,oF.sha256)(t)),hh=t=>(0,oW.createView)(t).getUint32(0,!1),hf=t=>{if(!Number.isSafeInteger(t)||t<0||t>0x100000000-1)throw Error("invalid number, should be from 0 to 2**32-1, got "+t);let e=new Uint8Array(4);return(0,oW.createView)(e).setUint32(0,t,!1),e};class hu{get fingerprint(){if(!this.pubHash)throw Error("No publicKey set!");return hh(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){let t=this.privateKey;if(!t)throw Error("No private key");return hn.encode(this.serialize(this.versions.private,(0,oW.concatBytes)(new Uint8Array([0]),t)))}get publicExtendedKey(){if(!this.pubKey)throw Error("No public key");return hn.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(t,e=ha){if((0,o$.abytes)(t),8*t.length<128||8*t.length>512)throw Error("HDKey: seed length must be between 128 and 512 bits; 256 bits is advised, got "+t.length);let i=(0,at.hmac)(lu.sha512,ho,t);return new hu({versions:e,chainCode:i.slice(32),privateKey:i.slice(0,32)})}static fromExtendedKey(t,e=ha){let i=hn.decode(t),r=(0,oW.createView)(i),n=r.getUint32(0,!1),s={versions:e,depth:i[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:i.slice(13,45)},o=i.slice(45),a=0===o[0];if(n!==e[a?"private":"public"])throw Error("Version mismatch");return new hu(a?{...s,privateKey:o.slice(1)}:{...s,publicKey:o})}static fromJSON(t){return hu.fromExtendedKey(t.xpriv)}constructor(t){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!t||"object"!=typeof t)throw Error("HDKey.constructor must not be called directly");if(this.versions=t.versions||ha,this.depth=t.depth||0,this.chainCode=t.chainCode||null,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw Error("HDKey: zero depth with non-zero index/parent fingerprint");if(t.publicKey&&t.privateKey)throw Error("HDKey: publicKey and privateKey at same time.");if(t.privateKey){if(!(0,oj.secp256k1).utils.isValidPrivateKey(t.privateKey))throw Error("Invalid private key");this.privKey="bigint"==typeof t.privateKey?t.privateKey:hs(t.privateKey),this.privKeyBytes=function(t){if("bigint"!=typeof t)throw Error("bigint expected");return(0,oW.hexToBytes)(t.toString(16).padStart(64,"0"))}(this.privKey),this.pubKey=(0,oj.secp256k1).getPublicKey(t.privateKey,!0)}else if(t.publicKey)this.pubKey=hr.fromHex(t.publicKey).toRawBytes(!0);else throw Error("HDKey: no public or private key provided");this.pubHash=hl(this.pubKey)}derive(t){if(!/^[mM]'?/.test(t))throw Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;let e=t.replace(/^[mM]'?\//,"").split("/"),i=this;for(let t of e){let e=/^(\d+)('?)$/.exec(t),r=e&&e[1];if(!e||3!==e.length||"string"!=typeof r)throw Error("invalid child index: "+t);let n=+r;if(!Number.isSafeInteger(n)||n>=0x80000000)throw Error("Invalid index");"'"===e[2]&&(n+=0x80000000),i=i.deriveChild(n)}return i}deriveChild(t){if(!this.pubKey||!this.chainCode)throw Error("No publicKey or chainCode set");let e=hf(t);if(t>=0x80000000){let t=this.privateKey;if(!t)throw Error("Could not derive hardened child key");e=(0,oW.concatBytes)(new Uint8Array([0]),t,e)}else e=(0,oW.concatBytes)(this.pubKey,e);let i=(0,at.hmac)(lu.sha512,this.chainCode,e),r=hs(i.slice(0,32)),n=i.slice(32);if(!(0,oj.secp256k1).utils.isValidPrivateKey(r))throw Error("Tweak bigger than curve order");let s={versions:this.versions,chainCode:n,depth:this.depth+1,parentFingerprint:this.fingerprint,index:t};try{if(this.privateKey){let t=(0,an.mod)(this.privKey+r,oj.secp256k1.CURVE.n);if(!(0,oj.secp256k1).utils.isValidPrivateKey(t))throw Error("The tweak was out of range or the resulted private key is invalid");s.privateKey=t}else{let t=hr.fromHex(this.pubKey).add(hr.fromPrivateKey(r));if(t.equals(hr.ZERO))throw Error("The tweak was equal to negative P, which made the result key invalid");s.publicKey=t.toRawBytes(!0)}return new hu(s)}catch(e){return this.deriveChild(t+1)}}sign(t){if(!this.privateKey)throw Error("No privateKey set!");return(0,o$.abytes)(t,32),(0,oj.secp256k1).sign(t,this.privKey).toCompactRawBytes()}verify(t,e){let i;if((0,o$.abytes)(t,32),(0,o$.abytes)(e,64),!this.publicKey)throw Error("No publicKey set!");try{i=(0,oj.secp256k1).Signature.fromCompact(e)}catch(t){return!1}return(0,oj.secp256k1).verify(i,t,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(t,e){if(!this.chainCode)throw Error("No chainCode set");return(0,o$.abytes)(e,33),(0,oW.concatBytes)(hf(t),new Uint8Array([this.depth]),hf(this.parentFingerprint),hf(this.index),this.chainCode,e)}}var hc={};Object.defineProperty(hc,"__esModule",{value:!0}),hc.generateMnemonic=function(t,e=128){if((0,o$.anumber)(e),e%32!=0||e>256)throw TypeError("Invalid entropy");return hE((0,oW.randomBytes)(e/8),t)},hc.mnemonicToEntropy=hS,hc.entropyToMnemonic=hE,hc.validateMnemonic=function(t,e){try{hS(t,e)}catch(t){return!1}return!0},hc.mnemonicToSeed=function(t,e=""){return(0,hd.pbkdf2Async)(lu.sha512,hv(t).nfkd,hk(e),{c:2048,dkLen:64})},hc.mnemonicToSeedSync=function(t,e=""){return(0,hd.pbkdf2)(lu.sha512,hv(t).nfkd,hk(e),{c:2048,dkLen:64})};var hd={};function hp(t,e,i,r){(0,o$.ahash)(t);let{c:n,dkLen:s,asyncTick:o}=(0,oW.checkOpts)({dkLen:32,asyncTick:10},r);if((0,o$.anumber)(n),(0,o$.anumber)(s),(0,o$.anumber)(o),n<1)throw Error("PBKDF2: iterations (c) should be >= 1");let a=(0,oW.toBytes)(e),l=(0,oW.toBytes)(i),h=new Uint8Array(s),f=at.hmac.create(t,a),u=f._cloneInto().update(l);return{c:n,dkLen:s,asyncTick:o,DK:h,PRF:f,PRFSalt:u}}function hb(t,e,i,r,n){return t.destroy(),e.destroy(),r&&r.destroy(),n.fill(0),i}async function hg(t,e,i,r){let n,{c:s,dkLen:o,asyncTick:a,DK:l,PRF:h,PRFSalt:f}=hp(t,e,i,r),u=new Uint8Array(4),c=(0,oW.createView)(u),d=new Uint8Array(h.outputLen);for(let t=1,e=0;e<o;t++,e+=h.outputLen){let i=l.subarray(e,e+h.outputLen);c.setInt32(0,t,!1),(n=f._cloneInto(n)).update(u).digestInto(d),i.set(d.subarray(0,i.length)),await (0,oW.asyncLoop)(s-1,a,()=>{h._cloneInto(n).update(d).digestInto(d);for(let t=0;t<i.length;t++)i[t]^=d[t]})}return hb(h,f,l,n,d)}Object.defineProperty(hd,"__esModule",{value:!0}),hd.pbkdf2=function(t,e,i,r){let n,{c:s,dkLen:o,DK:a,PRF:l,PRFSalt:h}=hp(t,e,i,r),f=new Uint8Array(4),u=(0,oW.createView)(f),c=new Uint8Array(l.outputLen);for(let t=1,e=0;e<o;t++,e+=l.outputLen){let i=a.subarray(e,e+l.outputLen);u.setInt32(0,t,!1),(n=h._cloneInto(n)).update(f).digestInto(c),i.set(c.subarray(0,i.length));for(let t=1;t<s;t++){l._cloneInto(n).update(c).digestInto(c);for(let t=0;t<i.length;t++)i[t]^=c[t]}}return hb(l,h,a,n,c)},hd.pbkdf2Async=hg;const hm=t=>""===t[0];function hy(t){if("string"!=typeof t)throw TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}function hv(t){let e=hy(t),i=e.split(" ");if(![12,15,18,21,24].includes(i.length))throw Error("Invalid mnemonic");return{nfkd:e,words:i}}function h_(t){(0,o$.abytes)(t,16,20,24,28,32)}const hw=t=>{let e=8-t.length/4;return new Uint8Array([(0,oF.sha256)(t)[0]>>e<<e])};function hx(t){if(!Array.isArray(t)||2048!==t.length||"string"!=typeof t[0])throw Error("Wordlist: expected array of 2048 strings");return t.forEach(t=>{if("string"!=typeof t)throw Error("wordlist: non-string element: "+t)}),lJ(l4(1,hw),l9(11,!0),l0(t))}function hS(t,e){let{words:i}=hv(t),r=hx(e).decode(i);return h_(r),r}function hE(t,e){return h_(t),hx(e).encode(t).join(hm(e)?"":" ")}const hk=t=>hy("mnemonic"+t);var hA={};Object.defineProperty(hA,"__esModule",{value:!0}),hA.wordlist=void 0,hA.wordlist=`abandon
ability
able
about
above
absent
absorb
abstract
absurd
abuse
access
accident
account
accuse
achieve
acid
acoustic
acquire
across
act
action
actor
actress
actual
adapt
add
addict
address
adjust
admit
adult
advance
advice
aerobic
affair
afford
afraid
again
age
agent
agree
ahead
aim
air
airport
aisle
alarm
album
alcohol
alert
alien
all
alley
allow
almost
alone
alpha
already
also
alter
always
amateur
amazing
among
amount
amused
analyst
anchor
ancient
anger
angle
angry
animal
ankle
announce
annual
another
answer
antenna
antique
anxiety
any
apart
apology
appear
apple
approve
april
arch
arctic
area
arena
argue
arm
armed
armor
army
around
arrange
arrest
arrive
arrow
art
artefact
artist
artwork
ask
aspect
assault
asset
assist
assume
asthma
athlete
atom
attack
attend
attitude
attract
auction
audit
august
aunt
author
auto
autumn
average
avocado
avoid
awake
aware
away
awesome
awful
awkward
axis
baby
bachelor
bacon
badge
bag
balance
balcony
ball
bamboo
banana
banner
bar
barely
bargain
barrel
base
basic
basket
battle
beach
bean
beauty
because
become
beef
before
begin
behave
behind
believe
below
belt
bench
benefit
best
betray
better
between
beyond
bicycle
bid
bike
bind
biology
bird
birth
bitter
black
blade
blame
blanket
blast
bleak
bless
blind
blood
blossom
blouse
blue
blur
blush
board
boat
body
boil
bomb
bone
bonus
book
boost
border
boring
borrow
boss
bottom
bounce
box
boy
bracket
brain
brand
brass
brave
bread
breeze
brick
bridge
brief
bright
bring
brisk
broccoli
broken
bronze
broom
brother
brown
brush
bubble
buddy
budget
buffalo
build
bulb
bulk
bullet
bundle
bunker
burden
burger
burst
bus
business
busy
butter
buyer
buzz
cabbage
cabin
cable
cactus
cage
cake
call
calm
camera
camp
can
canal
cancel
candy
cannon
canoe
canvas
canyon
capable
capital
captain
car
carbon
card
cargo
carpet
carry
cart
case
cash
casino
castle
casual
cat
catalog
catch
category
cattle
caught
cause
caution
cave
ceiling
celery
cement
census
century
cereal
certain
chair
chalk
champion
change
chaos
chapter
charge
chase
chat
cheap
check
cheese
chef
cherry
chest
chicken
chief
child
chimney
choice
choose
chronic
chuckle
chunk
churn
cigar
cinnamon
circle
citizen
city
civil
claim
clap
clarify
claw
clay
clean
clerk
clever
click
client
cliff
climb
clinic
clip
clock
clog
close
cloth
cloud
clown
club
clump
cluster
clutch
coach
coast
coconut
code
coffee
coil
coin
collect
color
column
combine
come
comfort
comic
common
company
concert
conduct
confirm
congress
connect
consider
control
convince
cook
cool
copper
copy
coral
core
corn
correct
cost
cotton
couch
country
couple
course
cousin
cover
coyote
crack
cradle
craft
cram
crane
crash
crater
crawl
crazy
cream
credit
creek
crew
cricket
crime
crisp
critic
crop
cross
crouch
crowd
crucial
cruel
cruise
crumble
crunch
crush
cry
crystal
cube
culture
cup
cupboard
curious
current
curtain
curve
cushion
custom
cute
cycle
dad
damage
damp
dance
danger
daring
dash
daughter
dawn
day
deal
debate
debris
decade
december
decide
decline
decorate
decrease
deer
defense
define
defy
degree
delay
deliver
demand
demise
denial
dentist
deny
depart
depend
deposit
depth
deputy
derive
describe
desert
design
desk
despair
destroy
detail
detect
develop
device
devote
diagram
dial
diamond
diary
dice
diesel
diet
differ
digital
dignity
dilemma
dinner
dinosaur
direct
dirt
disagree
discover
disease
dish
dismiss
disorder
display
distance
divert
divide
divorce
dizzy
doctor
document
dog
doll
dolphin
domain
donate
donkey
donor
door
dose
double
dove
draft
dragon
drama
drastic
draw
dream
dress
drift
drill
drink
drip
drive
drop
drum
dry
duck
dumb
dune
during
dust
dutch
duty
dwarf
dynamic
eager
eagle
early
earn
earth
easily
east
easy
echo
ecology
economy
edge
edit
educate
effort
egg
eight
either
elbow
elder
electric
elegant
element
elephant
elevator
elite
else
embark
embody
embrace
emerge
emotion
employ
empower
empty
enable
enact
end
endless
endorse
enemy
energy
enforce
engage
engine
enhance
enjoy
enlist
enough
enrich
enroll
ensure
enter
entire
entry
envelope
episode
equal
equip
era
erase
erode
erosion
error
erupt
escape
essay
essence
estate
eternal
ethics
evidence
evil
evoke
evolve
exact
example
excess
exchange
excite
exclude
excuse
execute
exercise
exhaust
exhibit
exile
exist
exit
exotic
expand
expect
expire
explain
expose
express
extend
extra
eye
eyebrow
fabric
face
faculty
fade
faint
faith
fall
false
fame
family
famous
fan
fancy
fantasy
farm
fashion
fat
fatal
father
fatigue
fault
favorite
feature
february
federal
fee
feed
feel
female
fence
festival
fetch
fever
few
fiber
fiction
field
figure
file
film
filter
final
find
fine
finger
finish
fire
firm
first
fiscal
fish
fit
fitness
fix
flag
flame
flash
flat
flavor
flee
flight
flip
float
flock
floor
flower
fluid
flush
fly
foam
focus
fog
foil
fold
follow
food
foot
force
forest
forget
fork
fortune
forum
forward
fossil
foster
found
fox
fragile
frame
frequent
fresh
friend
fringe
frog
front
frost
frown
frozen
fruit
fuel
fun
funny
furnace
fury
future
gadget
gain
galaxy
gallery
game
gap
garage
garbage
garden
garlic
garment
gas
gasp
gate
gather
gauge
gaze
general
genius
genre
gentle
genuine
gesture
ghost
giant
gift
giggle
ginger
giraffe
girl
give
glad
glance
glare
glass
glide
glimpse
globe
gloom
glory
glove
glow
glue
goat
goddess
gold
good
goose
gorilla
gospel
gossip
govern
gown
grab
grace
grain
grant
grape
grass
gravity
great
green
grid
grief
grit
grocery
group
grow
grunt
guard
guess
guide
guilt
guitar
gun
gym
habit
hair
half
hammer
hamster
hand
happy
harbor
hard
harsh
harvest
hat
have
hawk
hazard
head
health
heart
heavy
hedgehog
height
hello
helmet
help
hen
hero
hidden
high
hill
hint
hip
hire
history
hobby
hockey
hold
hole
holiday
hollow
home
honey
hood
hope
horn
horror
horse
hospital
host
hotel
hour
hover
hub
huge
human
humble
humor
hundred
hungry
hunt
hurdle
hurry
hurt
husband
hybrid
ice
icon
idea
identify
idle
ignore
ill
illegal
illness
image
imitate
immense
immune
impact
impose
improve
impulse
inch
include
income
increase
index
indicate
indoor
industry
infant
inflict
inform
inhale
inherit
initial
inject
injury
inmate
inner
innocent
input
inquiry
insane
insect
inside
inspire
install
intact
interest
into
invest
invite
involve
iron
island
isolate
issue
item
ivory
jacket
jaguar
jar
jazz
jealous
jeans
jelly
jewel
job
join
joke
journey
joy
judge
juice
jump
jungle
junior
junk
just
kangaroo
keen
keep
ketchup
key
kick
kid
kidney
kind
kingdom
kiss
kit
kitchen
kite
kitten
kiwi
knee
knife
knock
know
lab
label
labor
ladder
lady
lake
lamp
language
laptop
large
later
latin
laugh
laundry
lava
law
lawn
lawsuit
layer
lazy
leader
leaf
learn
leave
lecture
left
leg
legal
legend
leisure
lemon
lend
length
lens
leopard
lesson
letter
level
liar
liberty
library
license
life
lift
light
like
limb
limit
link
lion
liquid
list
little
live
lizard
load
loan
lobster
local
lock
logic
lonely
long
loop
lottery
loud
lounge
love
loyal
lucky
luggage
lumber
lunar
lunch
luxury
lyrics
machine
mad
magic
magnet
maid
mail
main
major
make
mammal
man
manage
mandate
mango
mansion
manual
maple
marble
march
margin
marine
market
marriage
mask
mass
master
match
material
math
matrix
matter
maximum
maze
meadow
mean
measure
meat
mechanic
medal
media
melody
melt
member
memory
mention
menu
mercy
merge
merit
merry
mesh
message
metal
method
middle
midnight
milk
million
mimic
mind
minimum
minor
minute
miracle
mirror
misery
miss
mistake
mix
mixed
mixture
mobile
model
modify
mom
moment
monitor
monkey
monster
month
moon
moral
more
morning
mosquito
mother
motion
motor
mountain
mouse
move
movie
much
muffin
mule
multiply
muscle
museum
mushroom
music
must
mutual
myself
mystery
myth
naive
name
napkin
narrow
nasty
nation
nature
near
neck
need
negative
neglect
neither
nephew
nerve
nest
net
network
neutral
never
news
next
nice
night
noble
noise
nominee
noodle
normal
north
nose
notable
note
nothing
notice
novel
now
nuclear
number
nurse
nut
oak
obey
object
oblige
obscure
observe
obtain
obvious
occur
ocean
october
odor
off
offer
office
often
oil
okay
old
olive
olympic
omit
once
one
onion
online
only
open
opera
opinion
oppose
option
orange
orbit
orchard
order
ordinary
organ
orient
original
orphan
ostrich
other
outdoor
outer
output
outside
oval
oven
over
own
owner
oxygen
oyster
ozone
pact
paddle
page
pair
palace
palm
panda
panel
panic
panther
paper
parade
parent
park
parrot
party
pass
patch
path
patient
patrol
pattern
pause
pave
payment
peace
peanut
pear
peasant
pelican
pen
penalty
pencil
people
pepper
perfect
permit
person
pet
phone
photo
phrase
physical
piano
picnic
picture
piece
pig
pigeon
pill
pilot
pink
pioneer
pipe
pistol
pitch
pizza
place
planet
plastic
plate
play
please
pledge
pluck
plug
plunge
poem
poet
point
polar
pole
police
pond
pony
pool
popular
portion
position
possible
post
potato
pottery
poverty
powder
power
practice
praise
predict
prefer
prepare
present
pretty
prevent
price
pride
primary
print
priority
prison
private
prize
problem
process
produce
profit
program
project
promote
proof
property
prosper
protect
proud
provide
public
pudding
pull
pulp
pulse
pumpkin
punch
pupil
puppy
purchase
purity
purpose
purse
push
put
puzzle
pyramid
quality
quantum
quarter
question
quick
quit
quiz
quote
rabbit
raccoon
race
rack
radar
radio
rail
rain
raise
rally
ramp
ranch
random
range
rapid
rare
rate
rather
raven
raw
razor
ready
real
reason
rebel
rebuild
recall
receive
recipe
record
recycle
reduce
reflect
reform
refuse
region
regret
regular
reject
relax
release
relief
rely
remain
remember
remind
remove
render
renew
rent
reopen
repair
repeat
replace
report
require
rescue
resemble
resist
resource
response
result
retire
retreat
return
reunion
reveal
review
reward
rhythm
rib
ribbon
rice
rich
ride
ridge
rifle
right
rigid
ring
riot
ripple
risk
ritual
rival
river
road
roast
robot
robust
rocket
romance
roof
rookie
room
rose
rotate
rough
round
route
royal
rubber
rude
rug
rule
run
runway
rural
sad
saddle
sadness
safe
sail
salad
salmon
salon
salt
salute
same
sample
sand
satisfy
satoshi
sauce
sausage
save
say
scale
scan
scare
scatter
scene
scheme
school
science
scissors
scorpion
scout
scrap
screen
script
scrub
sea
search
season
seat
second
secret
section
security
seed
seek
segment
select
sell
seminar
senior
sense
sentence
series
service
session
settle
setup
seven
shadow
shaft
shallow
share
shed
shell
sheriff
shield
shift
shine
ship
shiver
shock
shoe
shoot
shop
short
shoulder
shove
shrimp
shrug
shuffle
shy
sibling
sick
side
siege
sight
sign
silent
silk
silly
silver
similar
simple
since
sing
siren
sister
situate
six
size
skate
sketch
ski
skill
skin
skirt
skull
slab
slam
sleep
slender
slice
slide
slight
slim
slogan
slot
slow
slush
small
smart
smile
smoke
smooth
snack
snake
snap
sniff
snow
soap
soccer
social
sock
soda
soft
solar
soldier
solid
solution
solve
someone
song
soon
sorry
sort
soul
sound
soup
source
south
space
spare
spatial
spawn
speak
special
speed
spell
spend
sphere
spice
spider
spike
spin
spirit
split
spoil
sponsor
spoon
sport
spot
spray
spread
spring
spy
square
squeeze
squirrel
stable
stadium
staff
stage
stairs
stamp
stand
start
state
stay
steak
steel
stem
step
stereo
stick
still
sting
stock
stomach
stone
stool
story
stove
strategy
street
strike
strong
struggle
student
stuff
stumble
style
subject
submit
subway
success
such
sudden
suffer
sugar
suggest
suit
summer
sun
sunny
sunset
super
supply
supreme
sure
surface
surge
surprise
surround
survey
suspect
sustain
swallow
swamp
swap
swarm
swear
sweet
swift
swim
swing
switch
sword
symbol
symptom
syrup
system
table
tackle
tag
tail
talent
talk
tank
tape
target
task
taste
tattoo
taxi
teach
team
tell
ten
tenant
tennis
tent
term
test
text
thank
that
theme
then
theory
there
they
thing
this
thought
three
thrive
throw
thumb
thunder
ticket
tide
tiger
tilt
timber
time
tiny
tip
tired
tissue
title
toast
tobacco
today
toddler
toe
together
toilet
token
tomato
tomorrow
tone
tongue
tonight
tool
tooth
top
topic
topple
torch
tornado
tortoise
toss
total
tourist
toward
tower
town
toy
track
trade
traffic
tragic
train
transfer
trap
trash
travel
tray
treat
tree
trend
trial
tribe
trick
trigger
trim
trip
trophy
trouble
truck
true
truly
trumpet
trust
truth
try
tube
tuition
tumble
tuna
tunnel
turkey
turn
turtle
twelve
twenty
twice
twin
twist
two
type
typical
ugly
umbrella
unable
unaware
uncle
uncover
under
undo
unfair
unfold
unhappy
uniform
unique
unit
universe
unknown
unlock
until
unusual
unveil
update
upgrade
uphold
upon
upper
upset
urban
urge
usage
use
used
useful
useless
usual
utility
vacant
vacuum
vague
valid
valley
valve
van
vanish
vapor
various
vast
vault
vehicle
velvet
vendor
venture
venue
verb
verify
version
very
vessel
veteran
viable
vibrant
vicious
victory
video
view
village
vintage
violin
virtual
virus
visa
visit
visual
vital
vivid
vocal
voice
void
volcano
volume
vote
voyage
wage
wagon
wait
walk
wall
walnut
want
warfare
warm
warrior
wash
wasp
waste
water
wave
way
wealth
weapon
wear
weasel
weather
web
wedding
weekend
weird
welcome
west
wet
whale
what
wheat
wheel
when
where
whip
whisper
wide
width
wife
wild
will
win
window
wine
wing
wink
winner
winter
wire
wisdom
wise
wish
witness
wolf
woman
wonder
wood
wool
word
work
world
worry
worth
wrap
wreck
wrestle
wrist
write
wrong
yard
year
yellow
you
young
youth
zebra
zero
zone
zoo`.split("\n"),(f=c||(c={}))[f.SECRET=0]="SECRET",f[f.BLINDING_FACTOR=1]="BLINDING_FACTOR",a8.deriveSecret=(t,e,i)=>hM(t,e,i,c.SECRET),a8.deriveBlindingFactor=(t,e,i)=>hM(t,e,i,c.BLINDING_FACTOR);const hM=(t,e,i,r)=>{let n=hu.fromMasterSeed(t),s=(0,oH.getKeysetIdInt)(e),o=`m/129372'/0'/${s}'/${i}'/${r}`,a=n.derive(o);if(null===a.privateKey)throw Error("Could not derive private key");return a.privateKey};a8.generateNewMnemonic=()=>(0,hc.generateMnemonic)(hA.wordlist,128),a8.deriveSeedFromMnemonic=t=>(0,hc.mnemonicToSeedSync)(t);var aX=tE("6ZWSX");aX.Buffer;function hT(t,e){if(t<24)e.push(t);else if(t<256)e.push(24,t);else if(t<65536)e.push(25,t>>8,255&t);else if(t<0x100000000)e.push(26,t>>24,t>>16&255,t>>8&255,255&t);else throw Error("Unsupported integer size")}function hI(t,e){let i=new TextEncoder().encode(t),r=i.length;if(r<24)e.push(96+r);else if(r<256)e.push(120,r);else if(r<65536)e.push(121,r>>8&255,255&r);else if(r<0x100000000)e.push(122,r>>24&255,r>>16&255,r>>8&255,255&r);else throw Error("String too long to encode");for(let t=0;t<i.length;t++)e.push(i[t])}function hP(t,e,i){if(i<24)return{value:i,offset:e};if(24===i)return{value:t.getUint8(e++),offset:e};if(25===i)return{value:t.getUint16(e,!1),offset:e+=2};if(26===i)return{value:t.getUint32(e,!1),offset:e+=4};if(27===i)return{value:0x100000000*t.getUint32(e,!1)+t.getUint32(e+4,!1),offset:e+=8};throw Error(`Unsupported length: ${i}`)}function hO(t,e,i,r){if(i){let r=h$(i);if(r>t)throw Error(`Split is greater than total amount: ${r} > ${t}`);if(i.some(t=>!(t in e)))throw Error("Provided amount preferences do not match the amounts of the mint keyset.");t-=h$(i)}else i=[];return hC(e,"desc").forEach(e=>{let r=Math.floor(t/e);for(let t=0;t<r;++t)i?.push(e);t%=e}),i.sort((t,e)=>t-e)}function hB(t,e,i,r){let n=[],s=t.map(t=>t.amount);hC(i,"asc").forEach(t=>{let i=Math.max(r-s.filter(e=>e===t).length,0);for(let r=0;r<i&&!(n.reduce((t,e)=>t+e,0)+t>e);++r)n.push(t)});let o=e-n.reduce((t,e)=>t+e,0);return o&&hO(o,i).forEach(t=>{n.push(t)}),n.sort((t,e)=>t-e)}function hC(t,e="desc"){return"desc"==e?Object.keys(t).map(t=>parseInt(t)).sort((t,e)=>e-t):Object.keys(t).map(t=>parseInt(t)).sort((t,e)=>t-e)}function hR(t){return BigInt(`0x${t}`)}function hL(t){return/^[a-f0-9]*$/i.test(t)}function hN(t){var e,i;if(t.proofs.forEach(t=>{if(t.dleq&&null==t.dleq.r)throw Error("Missing blinding factor in included DLEQ proof")}),Array.isArray(e=t.proofs)?e.some(t=>!hL(t.id)):hL(e.id))throw Error("can not encode to v4 token if proofs contain non-hex keyset id");return"cashuB"+(i=function(t){let e=[];return function t(e,i){if(null===e)i.push(246);else if(void 0===e)i.push(247);else if("boolean"==typeof e)i.push(e?245:244);else if("number"==typeof e)hT(e,i);else if("string"==typeof e)hI(e,i);else if(Array.isArray(e))!function(e,i){let r=e.length;if(r<24)i.push(128|r);else if(r<256)i.push(152,r);else if(r<65536)i.push(153,r>>8,255&r);else throw Error("Unsupported array length");for(let r of e)t(r,i)}(e,i);else if(e instanceof Uint8Array)!function(t,e){let i=t.length;if(i<24)e.push(64+i);else if(i<256)e.push(88,i);else if(i<65536)e.push(89,i>>8&255,255&i);else if(i<0x100000000)e.push(90,i>>24&255,i>>16&255,i>>8&255,255&i);else throw Error("Byte string too long to encode");for(let i=0;i<t.length;i++)e.push(t[i])}(e,i);else if("object"==typeof e)!function(e,i){let r=Object.keys(e);for(let n of(hT(r.length,i),i[i.length-1]|=160,r))hI(n,i),t(e[n],i)}(e,i);else throw Error("Unsupported type")}(t,e),new Uint8Array(e)}(function(t){let e={},i=t.mint;for(let i=0;i<t.proofs.length;i++){let r=t.proofs[i];e[r.id]?e[r.id].push(r):e[r.id]=[r]}let r={m:i,u:t.unit||"sat",t:Object.keys(e).map(t=>({i:(0,as.hexToBytes)(t),p:e[t].map(t=>({a:t.amount,s:t.secret,c:(0,as.hexToBytes)(t.C),...t.dleq&&{d:{e:(0,as.hexToBytes)(t.dleq.e),s:(0,as.hexToBytes)(t.dleq.s),r:(0,as.hexToBytes)(t.dleq.r??"00")}}}))}))};return t.memo&&(r.d=t.memo),r}(t)),(0,aX.Buffer).from(i).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""))}function hD(t){return"object"==typeof t}function hU(...t){return t.map(t=>t.replace(/(^\/+|\/+$)/g,"")).join("/")}function hH(t){return t.reduce((t,e)=>t+e.amount,0)}class hj{get value(){return this._value}set value(t){this._value=t}get next(){return this._next}set next(t){this._next=t}constructor(t){this._value=t,this._next=null}}class hF{get first(){return this._first}set first(t){this._first=t}get last(){return this._last}set last(t){this._last=t}get size(){return this._size}set size(t){this._size=t}constructor(){this._first=null,this._last=null,this._size=0}enqueue(t){let e=new hj(t);return 0!==this._size&&this._last?this._last.next=e:this._first=e,this._last=e,this._size++,!0}dequeue(){if(0===this._size||!this._first)return null;let t=this._first;return this._first=t.next,t.next=null,this._size--,t.value}}function hq(t){return t.map(t=>{let e={...t};return delete e.dleq,e})}function h$(t){return t.reduce((t,e)=>t+e,0)}"u">typeof WebSocket&&(t=WebSocket);class hz{constructor(){this.connectionMap=new Map}static getInstance(){return hz.instace||(hz.instace=new hz),hz.instace}getConnection(t){if(this.connectionMap.has(t))return this.connectionMap.get(t);let e=new hV(t);return this.connectionMap.set(t,e),e}}class hV{constructor(e){this.subListeners={},this.rpcListeners={},this.rpcId=0,this._WS=t,this.url=new URL(e),this.messageQueue=new hF}connect(){return this.connectionPromise||(this.connectionPromise=new Promise((t,e)=>{try{this.ws=new this._WS(this.url)}catch(t){e(t);return}this.ws.onopen=()=>{t()},this.ws.onerror=()=>{e(Error("Failed to open WebSocket"))},this.ws.onmessage=t=>{this.messageQueue.enqueue(t.data),this.handlingInterval||(this.handlingInterval=setInterval(this.handleNextMesage.bind(this),0))},this.ws.onclose=()=>{this.connectionPromise=void 0}})),this.connectionPromise}sendRequest(t,e){if(this.ws?.readyState!==1)throw Error("Socket not open...");let i=this.rpcId;this.rpcId++;let r=JSON.stringify({jsonrpc:"2.0",method:t,params:e,id:i});this.ws?.send(r)}closeSubscription(t){this.ws?.send(JSON.stringify(["CLOSE",t]))}addSubListener(t,e){(this.subListeners[t]=this.subListeners[t]||[]).push(e)}addRpcListener(t,e,i){this.rpcListeners[i]={callback:t,errorCallback:e}}removeRpcListener(t){delete this.rpcListeners[t]}removeListener(t,e){if(1===this.subListeners[t].length){delete this.subListeners[t];return}this.subListeners[t]=this.subListeners[t].filter(t=>t!==e)}async ensureConnection(){this.ws?.readyState!==1&&await this.connect()}handleNextMesage(){let t;if(0===this.messageQueue.size){clearInterval(this.handlingInterval),this.handlingInterval=void 0;return}let e=this.messageQueue.dequeue();try{if(t=JSON.parse(e),"result"in t&&null!=t.id)this.rpcListeners[t.id]&&(this.rpcListeners[t.id].callback(),this.removeRpcListener(t.id));else if("error"in t&&null!=t.id)this.rpcListeners[t.id]&&(this.rpcListeners[t.id].errorCallback(t.error),this.removeRpcListener(t.id));else if("method"in t&&!("id"in t)){let e=t.params.subId;if(!e)return;this.subListeners[e]?.length>0&&this.subListeners[e].forEach(e=>e(t.params.payload))}}catch(t){console.error(t);return}}createSubscription(t,e,i){if(this.ws?.readyState!==1)return i(Error("Socket is not open"));let r=(Math.random()+1).toString(36).substring(7);return this.addRpcListener(()=>{this.addSubListener(r,e)},t=>{i(Error(t.message))},this.rpcId),this.sendRequest("subscribe",{...t,subId:r}),this.rpcId++,r}cancelSubscription(t,e){this.removeListener(t,e),this.rpcId++,this.sendRequest("unsubscribe",{subId:t})}get activeSubscriptions(){return Object.keys(this.subListeners)}close(){this.ws&&this.ws?.close()}}var hW=((n=hW||{}).UNSPENT="UNSPENT",n.PENDING="PENDING",n.SPENT="SPENT",n),hK=((s=hK||{}).UNPAID="UNPAID",s.PENDING="PENDING",s.PAID="PAID",s),hQ=((o=hQ||{}).UNPAID="UNPAID",o.PAID="PAID",o.ISSUED="ISSUED",o),hG=((a=hG||{}).POST="post",a.NOSTR="nostr",a);class hX extends Error{constructor(t,e){super(t),this.status=e,this.name="HttpResponseError",Object.setPrototypeOf(this,hX.prototype)}}class hY extends Error{constructor(t){super(t),this.name="NetworkError",Object.setPrototypeOf(this,hY.prototype)}}class hZ extends hX{constructor(t,e){super(e||"Unknown mint operation error",400),this.code=t,this.name="MintOperationError",Object.setPrototypeOf(this,hZ.prototype)}}let hJ={};async function h0({endpoint:t,requestBody:e,headers:i,...r}){let n,s=e?JSON.stringify(e):void 0,o={Accept:"application/json, text/plain, */*",...s?{"Content-Type":"application/json"}:void 0,...i};try{n=await fetch(t,{body:s,headers:o,...r})}catch(t){throw new hY(t instanceof Error?t.message:"Network request failed")}if(!n.ok){let t=await n.json().catch(()=>({error:"bad response"}));throw 400===n.status&&"code"in t&&"detail"in t?new hZ(t.code,t.detail):new hX("error"in t?t.error:t.detail||"HTTP request failed",n.status)}try{return await n.json()}catch(t){throw console.error("Failed to parse HTTP response",t),new hX("bad response",n.status)}}async function h1(t){return await h0({...t,...hJ})}function h2(t){return t.state||(console.warn("Field 'state' not found in MeltQuoteResponse. Update NUT-05 of mint: https://github.com/cashubtc/nuts/pull/136)"),"boolean"==typeof t.paid&&(t.state=t.paid?hK.PAID:hK.UNPAID)),t}function h3(t){return t.state||(console.warn("Field 'state' not found in MintQuoteResponse. Update NUT-04 of mint: https://github.com/cashubtc/nuts/pull/141)"),"boolean"==typeof t.paid&&(t.state=t.paid?hQ.PAID:hQ.UNPAID)),t}class h6{constructor(t,e){this._mintUrl=t,this._customRequest=e,this._mintUrl=t.replace(/\/$/,""),this._customRequest=e}get mintUrl(){return this._mintUrl}static async getInfo(t,e){var i;return i=await (e||h1)({endpoint:hU(t,"/v1/info")}),Array.isArray(i?.contact)&&i?.contact.length>0&&(i.contact=i.contact.map(t=>Array.isArray(t)&&2===t.length&&"string"==typeof t[0]&&"string"==typeof t[1]?(console.warn("Mint returned deprecated 'contact' field: Update NUT-06: https://github.com/cashubtc/nuts/pull/117"),{method:t[0],info:t[1]}):t)),i}async getInfo(){return h6.getInfo(this._mintUrl,this._customRequest)}static async swap(t,e,i){let r=await (i||h1)({endpoint:hU(t,"/v1/swap"),method:"POST",requestBody:e});if(!hD(r)||!Array.isArray(r?.signatures))throw Error(r.detail??"bad response");return r}async swap(t){return h6.swap(this._mintUrl,t,this._customRequest)}static async createMintQuote(t,e,i){return h3(await (i||h1)({endpoint:hU(t,"/v1/mint/quote/bolt11"),method:"POST",requestBody:e}))}async createMintQuote(t){return h6.createMintQuote(this._mintUrl,t,this._customRequest)}static async checkMintQuote(t,e,i){return h3(await (i||h1)({endpoint:hU(t,"/v1/mint/quote/bolt11",e),method:"GET"}))}async checkMintQuote(t){return h6.checkMintQuote(this._mintUrl,t,this._customRequest)}static async mint(t,e,i){let r=await (i||h1)({endpoint:hU(t,"/v1/mint/bolt11"),method:"POST",requestBody:e});if(!hD(r)||!Array.isArray(r?.signatures))throw Error("bad response");return r}async mint(t){return h6.mint(this._mintUrl,t,this._customRequest)}static async createMeltQuote(t,e,i){let r=h2(await (i||h1)({endpoint:hU(t,"/v1/melt/quote/bolt11"),method:"POST",requestBody:e}));if(!hD(r)||"number"!=typeof r?.amount||"number"!=typeof r?.fee_reserve||"string"!=typeof r?.quote)throw Error("bad response");return r}async createMeltQuote(t){return h6.createMeltQuote(this._mintUrl,t,this._customRequest)}static async checkMeltQuote(t,e,i){let r=h2(await (i||h1)({endpoint:hU(t,"/v1/melt/quote/bolt11",e),method:"GET"}));if(!hD(r)||"number"!=typeof r?.amount||"number"!=typeof r?.fee_reserve||"string"!=typeof r?.quote||"string"!=typeof r?.state||!Object.values(hK).includes(r.state))throw Error("bad response");return r}async checkMeltQuote(t){return h6.checkMeltQuote(this._mintUrl,t,this._customRequest)}static async melt(t,e,i){let r=h2(await (i||h1)({endpoint:hU(t,"/v1/melt/bolt11"),method:"POST",requestBody:e}));if(!hD(r)||"string"!=typeof r?.state||!Object.values(hK).includes(r.state))throw Error("bad response");return r}async melt(t){return h6.melt(this._mintUrl,t,this._customRequest)}static async check(t,e,i){let r=await (i||h1)({endpoint:hU(t,"/v1/checkstate"),method:"POST",requestBody:e});if(!hD(r)||!Array.isArray(r?.states))throw Error("bad response");return r}static async getKeys(t,e,i){e&&(e=e.replace(/\//g,"_").replace(/\+/g,"-"));let r=await (i||h1)({endpoint:e?hU(t,"/v1/keys",e):hU(t,"/v1/keys")});if(!hD(r)||!Array.isArray(r.keysets))throw Error("bad response");return r}async getKeys(t,e){return await h6.getKeys(e||this._mintUrl,t,this._customRequest)}static async getKeySets(t,e){return(e||h1)({endpoint:hU(t,"/v1/keysets")})}async getKeySets(){return h6.getKeySets(this._mintUrl,this._customRequest)}async check(t){return h6.check(this._mintUrl,t,this._customRequest)}static async restore(t,e,i){let r=await (i||h1)({endpoint:hU(t,"/v1/restore"),method:"POST",requestBody:e});if(!hD(r)||!Array.isArray(r?.outputs)||!Array.isArray(r?.signatures))throw Error("bad response");return r}async restore(t){return h6.restore(this._mintUrl,t,this._customRequest)}async connectWebSocket(){if(this.ws)await this.ws.ensureConnection();else{let t=new URL(this._mintUrl),e="v1/ws";t.pathname&&(t.pathname.endsWith("/")?t.pathname+=e:t.pathname+="/"+e),this.ws=hz.getInstance().getConnection(`${"https:"===t.protocol?"wss":"ws"}://${t.host}${t.pathname}`);try{await this.ws.connect()}catch(t){throw console.log(t),Error("Failed to connect to WebSocket...")}}}disconnectWebSocket(){this.ws&&this.ws.close()}get webSocketConnection(){return this.ws}}class h5{constructor(t){this._mintInfo=t}isSupported(t){switch(t){case 4:case 5:return this.checkMintMelt(t);case 7:case 8:case 9:case 10:case 11:case 12:case 14:case 20:return this.checkGenericNut(t);case 17:return this.checkNut17();case 15:return this.checkNut15();default:throw Error("nut is not supported by cashu-ts")}}checkGenericNut(t){return this._mintInfo.nuts[t]?.supported?{supported:!0}:{supported:!1}}checkMintMelt(t){let e=this._mintInfo.nuts[t];return e&&e.methods.length>0&&!e.disabled?{disabled:!1,params:e.methods}:{disabled:!0,params:e.methods}}checkNut17(){return this._mintInfo.nuts[17]&&this._mintInfo.nuts[17].supported.length>0?{supported:!0,params:this._mintInfo.nuts[17].supported}:{supported:!1}}checkNut15(){return this._mintInfo.nuts[15]&&this._mintInfo.nuts[15].methods.length>0?{supported:!0,params:this._mintInfo.nuts[15].methods}:{supported:!1}}get contact(){return this._mintInfo.contact}get description(){return this._mintInfo.description}get description_long(){return this._mintInfo.description_long}get name(){return this._mintInfo.name}get pubkey(){return this._mintInfo.pubkey}get nuts(){return this._mintInfo.nuts}get version(){return this._mintInfo.version}get motd(){return this._mintInfo.motd}}class h8{constructor(t,e,i){this.amount=t,this.B_=e,this.id=i}getSerializedBlindedMessage(){return{amount:this.amount,B_:this.B_.toHex(!0),id:this.id}}}function h4(t){return"function"==typeof t}class h9{constructor(t,e,i){this.secret=i,this.blindingFactor=e,this.blindedMessage=t}toProof(t,e){let i;t.dleq&&(i={s:(0,oW.hexToBytes)(t.dleq.s),e:(0,oW.hexToBytes)(t.dleq.e),r:this.blindingFactor});let r={id:t.id,amount:t.amount,C_:(0,oH.pointFromHex)(t.C_),dleq:i},n=(0,oH.pointFromHex)(e.keys[t.amount]),s=(0,a1.constructProofFromPromise)(r,this.blindingFactor,this.secret,n);return{...(0,a1.serializeProof)(s),...i&&{dleq:{s:(0,oW.bytesToHex)(i.s),e:(0,oW.bytesToHex)(i.e),r:(i.r??BigInt(0)).toString(16).padStart(64,"0")}}}}static createP2PKData(t,e,i,r){return hO(e,i.keys,r).map(e=>this.createSingleP2PKData(t,e,i.id))}static createSingleP2PKData(t,e,i){let r=["P2PK",{nonce:(0,oW.bytesToHex)((0,oW.randomBytes)(32)),data:t.pubkey,tags:[]}];t.locktime&&r[1].tags.push(["locktime",t.locktime]),t.refundKeys&&r[1].tags.push(["refund",t.refundKeys]);let n=JSON.stringify(r),s=new TextEncoder().encode(n),{r:o,B_:a}=(0,a1.blindMessage)(s);return new h9(new h8(e,a,i).getSerializedBlindedMessage(),o,s)}static createRandomData(t,e,i){return hO(t,e.keys,i).map(t=>this.createSingleRandomData(t,e.id))}static createSingleRandomData(t,e){let i=(0,oW.bytesToHex)((0,oW.randomBytes)(32)),r=new TextEncoder().encode(i),{r:n,B_:s}=(0,a1.blindMessage)(r);return new h9(new h8(t,s,e).getSerializedBlindedMessage(),n,r)}static createDeterministicData(t,e,i,r,n){return hO(t,r.keys,n).map((t,n)=>this.createSingleDeterministicData(t,e,i+n,r.id))}static createSingleDeterministicData(t,e,i,r){var n;let s=(0,a8.deriveSecret)(e,r,i),o=(0,oW.bytesToHex)(s),a=new TextEncoder().encode(o),l=(n=(0,a8.deriveBlindingFactor)(e,r,i),hR((0,as.bytesToHex)(n))),{r:h,B_:f}=(0,a1.blindMessage)(a,l);return new h9(new h8(t,f,r).getSerializedBlindedMessage(),h,a)}}class h7{constructor(t,e){this._keys=new Map,this._keysets=[],this._seed=void 0,this._unit="sat",this._mintInfo=void 0,this._denominationTarget=3,this.mint=t;let i=[];if(e?.keys&&!Array.isArray(e.keys)?i=[e.keys]:e?.keys&&Array.isArray(e?.keys)&&(i=e?.keys),i&&i.forEach(t=>this._keys.set(t.id,t)),e?.unit&&(this._unit=e?.unit),e?.keysets&&(this._keysets=e.keysets),e?.mintInfo&&(this._mintInfo=new h5(e.mintInfo)),e?.denominationTarget&&(this._denominationTarget=e.denominationTarget),e?.bip39seed){if(e.bip39seed instanceof Uint8Array){this._seed=e.bip39seed;return}throw Error("bip39seed must be a valid UInt8Array")}e?.keepFactory&&(this._keepFactory=e.keepFactory)}get unit(){return this._unit}get keys(){return this._keys}get keysetId(){if(!this._keysetId)throw Error("No keysetId set");return this._keysetId}set keysetId(t){this._keysetId=t}get keysets(){return this._keysets}get mintInfo(){if(!this._mintInfo)throw Error("Mint info not loaded");return this._mintInfo}async getMintInfo(){let t=await this.mint.getInfo();return this._mintInfo=new h5(t),this._mintInfo}async lazyGetMintInfo(){return this._mintInfo?this._mintInfo:await this.getMintInfo()}async loadMint(){await this.getMintInfo(),await this.getKeySets(),await this.getKeys()}getActiveKeyset(t){let e=t.filter(t=>t.active),i=(e=e.filter(t=>t.id.startsWith("00"))).sort((t,e)=>(t.input_fee_ppk??0)-(e.input_fee_ppk??0))[0];if(!i)throw Error("No active keyset found");return i}async getKeySets(){let t=(await this.mint.getKeySets()).keysets.filter(t=>t.unit===this._unit);return this._keysets=t,this._keysets}async getAllKeys(){let t=await this.mint.getKeys();return this._keys=new Map(t.keysets.map(t=>[t.id,t])),this.keysetId=this.getActiveKeyset(this._keysets).id,t.keysets}async getKeys(t,e){if((!(this._keysets.length>0)||e)&&await this.getKeySets(),t||(t=this.getActiveKeyset(this._keysets).id),!this._keysets.find(e=>e.id===t)&&(await this.getKeySets(),!this._keysets.find(e=>e.id===t)))throw Error(`could not initialize keys. No keyset with id '${t}' found`);if(!this._keys.get(t)){let e=await this.mint.getKeys(t);this._keys.set(t,e.keysets[0])}return this.keysetId=t,this._keys.get(t)}async receive(t,e){var i;let r,{requireDleq:n,keysetId:s,outputAmounts:o,counter:a,pubkey:l,privkey:h,outputData:f,p2pk:u}=e||{};"string"==typeof t&&(i=t,["web+cashu://","cashu://","cashu:","cashu"].forEach(t=>{i.startsWith(t)&&(i=i.slice(t.length))}),t=function(t){var e;let i=t.slice(0,1),r=t.slice(1);if("A"===i){let t=JSON.parse((0,aX.Buffer).from(r.replace(/-/g,"+").replace(/_/g,"/").split("=")[0],"base64").toString());if(t.token.length>1)throw Error("Multi entry token are not supported");let e=t.token[0],i={mint:e.mint,proofs:e.proofs,unit:t.unit||"sat"};return t.memo&&(i.memo=t.memo),i}if("B"===i)return function(t){let e=[];t.t.forEach(t=>t.p.forEach(i=>{e.push({secret:i.s,C:(0,as.bytesToHex)(i.c),amount:i.a,id:(0,as.bytesToHex)(t.i),...i.d&&{dleq:{r:(0,as.bytesToHex)(i.d.r),s:(0,as.bytesToHex)(i.d.s),e:(0,as.bytesToHex)(i.d.e)}}})}));let i={mint:t.m,proofs:e,unit:t.u||"sat"};return t.d&&(i.memo=t.d),i}(function t(e,i){if(i>=e.byteLength)throw Error("Unexpected end of data");let r=e.getUint8(i++),n=r>>5,s=31&r;switch(n){case 0:return function(t,e,i){let{value:r,offset:n}=hP(t,e,i);return{value:r,offset:n}}(e,i,s);case 1:return function(t,e,i){let{value:r,offset:n}=hP(t,e,i);return{value:-1-r,offset:n}}(e,i,s);case 2:return function(t,e,i){let{value:r,offset:n}=hP(t,e,i);if(n+r>t.byteLength)throw Error("Byte string length exceeds data length");return{value:new Uint8Array(t.buffer,t.byteOffset+n,r),offset:n+r}}(e,i,s);case 3:return function(t,e,i){let{value:r,offset:n}=hP(t,e,i);if(n+r>t.byteLength)throw Error("String length exceeds data length");let s=new Uint8Array(t.buffer,t.byteOffset+n,r);return{value:new TextDecoder().decode(s),offset:n+r}}(e,i,s);case 4:return function(e,i,r){let{value:n,offset:s}=hP(e,i,r),o=[],a=s;for(let i=0;i<n;i++){let i=t(e,a);o.push(i.value),a=i.offset}return{value:o,offset:a}}(e,i,s);case 5:return function(e,i,r){let{value:n,offset:s}=hP(e,i,r),o={},a=s;for(let i=0;i<n;i++){var l;let i=t(e,a);if("number"!=typeof(l=i.value)&&"string"!=typeof l)throw Error("Invalid key type");let r=t(e,i.offset);o[i.value]=r.value,a=r.offset}return{value:o,offset:a}}(e,i,s);case 7:return function(t,e,i){if(i<24)switch(i){case 20:return{value:!1,offset:e};case 21:return{value:!0,offset:e};case 22:return{value:null,offset:e};case 23:return{value:void 0,offset:e};default:throw Error(`Unknown simple value: ${i}`)}if(24===i)return{value:t.getUint8(e++),offset:e};if(25===i)return{value:function(t){let e=(31744&t)>>10,i=1023&t,r=32768&t?-1:1;return 0===e?6103515625e-14*r*(i/1024):31===e?i?NaN:1/0*r:r*2**(e-15)*(1+i/1024)}(t.getUint16(e,!1)),offset:e+=2};if(26===i)return{value:t.getFloat32(e,!1),offset:e+=4};if(27===i)return{value:t.getFloat64(e,!1),offset:e+=8};throw Error(`Unknown simple or float value: ${i}`)}(e,i,s);default:throw Error(`Unsupported major type: ${n}`)}}(new DataView((e=(0,aX.Buffer).from(r,"base64")).buffer,e.byteOffset,e.byteLength),0).value);throw Error("Token version is not supported")}(i));let c=await this.getKeys(s);if(n&&t.proofs.some(t=>!function(t,e){if(null==t.dleq)return!1;let i={e:(0,as.hexToBytes)(t.dleq.e),s:(0,as.hexToBytes)(t.dleq.s),r:hR(t.dleq.r??"00")};if(!(t.amount in e.keys))throw Error(`undefined key for amount ${t.amount}`);let r=e.keys[t.amount];return!!(0,oU.verifyDLEQProof_reblind)(new TextEncoder().encode(t.secret),i,(0,oH.pointFromHex)(t.C),(0,oH.pointFromHex)(r))}(t,c)))throw Error("Token contains proofs with invalid DLEQ");let d=hH(t.proofs)-this.getFeesForProofs(t.proofs);f?r={send:f}:this._keepFactory&&(r={send:this._keepFactory});let p=this.createSwapPayload(d,t.proofs,c,o,a,l,h,r,u),{signatures:b}=await this.mint.swap(p.payload),g=p.outputData.map((t,e)=>t.toProof(b[e],c)),m=[];return p.sortedIndices.forEach((t,e)=>{m[t]=g[e]}),m}async send(t,e,i){let{proofsWeHave:r,offline:n,includeFees:s,includeDleq:o,keysetId:a,outputAmounts:l,pubkey:h,privkey:f,outputData:u}=i||{};if(o&&(e=e.filter(t=>null!=t.dleq)),hH(e)<t)throw Error("Not enough funds available to send");let{keep:c,send:d}=this.selectProofsToSend(e,t,i?.includeFees),p=s?this.getFeesForProofs(d):0;if(!n&&(hH(d)!=t+p||l||h||f||a||u)){let{keep:n,send:s}=this.selectProofsToSend(e,t,!0);r?.push(...n);let a=await this.swap(t,s,i),{keep:l,send:h}=a,f=a.serialized;return l=n.concat(l),o||(h=hq(h)),{keep:l,send:h,serialized:f}}if(hH(d)<t+p)throw Error("Not enough funds available to send");return o?{keep:c,send:d}:{keep:c,send:hq(d)}}selectProofsToSend(t,e,i){let r=t.sort((t,e)=>t.amount-e.amount),n=r.filter(t=>t.amount<=e).sort((t,e)=>e.amount-t.amount),s=r.filter(t=>t.amount>e).sort((t,e)=>t.amount-e.amount)[0];if(!n.length&&s)return{keep:t.filter(t=>t.secret!==s.secret),send:[s]};if(!n.length&&!s)return{keep:t,send:[]};let o=e,a=[n[0]],l=i?this.getFeesForProofs(a):0;if((o-=a[0].amount-l/1e3)>0){let{keep:t,send:e}=this.selectProofsToSend(n.slice(1),o,i);a.push(...e),[].push(...t)}let h=i?this.getFeesForProofs(a):0;return hH(a)<e+h&&s&&(a=[s]),{keep:t.filter(t=>!a.includes(t)),send:a}}getFeesForProofs(t){if(!this._keysets.length)throw Error("Could not calculate fees. No keysets found");return new Set(t.map(t=>t.id)).forEach(t=>{if(!this._keysets.find(e=>e.id===t))throw Error(`Could not calculate fees. No keyset found with id: ${t}`)}),Math.floor(Math.max((t.reduce((t,e)=>t+(this._keysets.find(t=>t.id===e.id)?.input_fee_ppk||0),0)+999)/1e3,0))}getFeesForKeyset(t,e){return Math.floor(Math.max((t*(this._keysets.find(t=>t.id===e)?.input_fee_ppk||0)+999)/1e3,0))}async swap(t,e,i){let r,{outputAmounts:n}=i||{},{includeFees:s,keysetId:o,counter:a,pubkey:l,privkey:h,proofsWeHave:f,outputData:u,p2pk:c}=i||{},d=await this.getKeys(o),p=t,b=hH(e),g=b-p-this.getFeesForProofs(e),m=n?.sendAmounts||hO(p,d.keys);if(s){let t=this.getFeesForKeyset(m.length,d.id),e=hO(t,d.keys);for(;this.getFeesForKeyset(m.concat(e).length,d.id)>t;)e=hO(++t,d.keys);m=m.concat(e),p+=t,g-=t}if(!n?.keepAmounts&&f)r=hB(f,g,d.keys,this._denominationTarget);else if(n){if(n.keepAmounts?.reduce((t,e)=>t+e,0)!=g)throw Error("Keep amounts do not match amount to keep");r=n.keepAmounts}if(p+this.getFeesForProofs(e)>b)throw console.error(`Not enough funds available (${b}) for swap amountToSend: ${p} + fee: ${this.getFeesForProofs(e)} | length: ${e.length}`),Error("Not enough funds available for swap");if(p+this.getFeesForProofs(e)+g!=b)throw Error("Amounts do not match for swap");n={keepAmounts:r,sendAmounts:m};let y=u?.keep||this._keepFactory,v=u?.send,_=this.createSwapPayload(p,e,d,n,a,l,h,{keep:y,send:v},c),{signatures:w}=await this.mint.swap(_.payload),x=_.outputData.map((t,e)=>t.toProof(w[e],d)),S=[],E=[],k=Array(_.keepVector.length),A=Array(x.length);return _.sortedIndices.forEach((t,e)=>{k[t]=_.keepVector[e],A[t]=x[e]}),A.forEach((t,e)=>{k[e]?S.push(t):E.push(t)}),{keep:S,send:E}}async batchRestore(t=300,e=100,i=0,r){let n=Math.ceil(t/e),s=[],o,a=0;for(;a<n;){let t=await this.restore(i,e,{keysetId:r});t.proofs.length>0?(a=0,s.push(...t.proofs),o=t.lastCounterWithSignature):a++,i+=e}return{proofs:s,lastCounterWithSignature:o}}async restore(t,e,i){let r,{keysetId:n}=i||{},s=await this.getKeys(n);if(!this._seed)throw Error("CashuWallet must be initialized with a seed to use restore");let o=Array(e).fill(1),a=h9.createDeterministicData(o.length,this._seed,t,s,o),{outputs:l,signatures:h}=await this.mint.restore({outputs:a.map(t=>t.blindedMessage)}),f={};l.forEach((t,e)=>f[t.B_]=h[e]);let u=[];for(let e=0;e<a.length;e++){let i=f[a[e].blindedMessage.B_];i&&(r=t+e,a[e].blindedMessage.amount=i.amount,u.push(a[e].toProof(i,s)))}return{proofs:u,lastCounterWithSignature:r}}async createMintQuote(t,e){let i={unit:this._unit,amount:t,description:e};return await this.mint.createMintQuote(i)}async createLockedMintQuote(t,e,i){let{supported:r}=(await this.getMintInfo()).isSupported(20);if(!r)throw Error("Mint does not support NUT-20");let n={unit:this._unit,amount:t,description:i,pubkey:e},s=await this.mint.createMintQuote(n);if(!s.pubkey)throw Error("Mint returned unlocked mint quote");return s}async checkMintQuote(t){return await this.mint.checkMintQuote(t)}async mintProofs(t,e,i){let r,{outputAmounts:n}=i||{},{counter:s,pubkey:o,p2pk:a,keysetId:l,proofsWeHave:h,outputData:f,privateKey:u}=i||{},c=await this.getKeys(l);!n&&h&&(n={keepAmounts:hB(h,t,c.keys,this._denominationTarget),sendAmounts:[]});let d=[];if(f){if(h4(f)){let e=hO(t,c.keys,n?.keepAmounts);for(let t=0;t<e.length;t++)d.push(f(e[t],c))}else d=f}else if(this._keepFactory){let e=hO(t,c.keys,n?.keepAmounts);for(let t=0;t<e.length;t++)d.push(this._keepFactory(e[t],c))}else d=this.createOutputData(t,c,s,o,n?.keepAmounts,a);if("string"!=typeof e){if(!u)throw Error("Can not sign locked quote without private key");let t=d.map(t=>t.blindedMessage),i=function(t,e,i){let r=function(t,e){let i=t;for(let t of e)i+=t.B_;let r=new TextEncoder().encode(i);return(0,oF.sha256)(r)}(e,i),n=(0,oW.hexToBytes)(t),s=(0,oj.schnorr).sign(r,n);return(0,oW.bytesToHex)(s)}(u,e.quote,t);r={outputs:t,quote:e.quote,signature:i}}else r={outputs:d.map(t=>t.blindedMessage),quote:e};let{signatures:p}=await this.mint.mint(r);return d.map((t,e)=>t.toProof(p[e],c))}async createMeltQuote(t){let e={unit:this._unit,request:t};return await this.mint.createMeltQuote(e)}async createMultiPathMeltQuote(t,e){let{supported:i,params:r}=(await this.lazyGetMintInfo()).isSupported(15);if(!i)throw Error("Mint does not support NUT-15");if(!r?.some(t=>"bolt11"===t.method&&t.unit===this.unit))throw Error(`Mint does not support MPP for bolt11 and ${this.unit}`);let n={unit:this._unit,request:t,options:{mpp:{amount:e}}};return await this.mint.createMeltQuote(n)}async checkMeltQuote(t){return await this.mint.checkMeltQuote(t)}async meltProofs(t,e,i){let{keysetId:r,counter:n,privkey:s}=i||{},o=await this.getKeys(r),a=this.createBlankOutputs(hH(e)-t.amount,o,n,this._keepFactory);null!=s&&(e=(0,a2.getSignedProofs)(e.map(t=>({amount:t.amount,C:(0,oH.pointFromHex)(t.C),id:t.id,secret:new TextEncoder().encode(t.secret)})),s).map(t=>(0,a1.serializeProof)(t))),e=hq(e);let l={quote:t.quote,inputs:e,outputs:a.map(t=>t.blindedMessage)},h=await this.mint.melt(l);return{quote:h,change:h.change?.map((t,e)=>a[e].toProof(t,o))??[]}}createSwapPayload(t,e,i,r,n,s,o,a,l){let h=e.reduce((t,e)=>t+e.amount,0);r&&r.sendAmounts&&!r.keepAmounts&&(r.keepAmounts=hO(h-t-this.getFeesForProofs(e),i.keys));let f=h-t-this.getFeesForProofs(e),u=[],c=[];if(a?.keep){if(h4(a.keep)){let t=a.keep;hO(f,i.keys).forEach(e=>{u.push(t(e,i))})}else u=a.keep}else u=this.createOutputData(f,i,n,void 0,r?.keepAmounts,void 0,this._keepFactory);if(a?.send){if(h4(a.send)){let e=a.send;hO(t,i.keys).forEach(t=>{c.push(e(t,i))})}else c=a.send}else c=this.createOutputData(t,i,n?n+u.length:void 0,s,r?.sendAmounts,l);o&&(e=(0,a2.getSignedProofs)(e.map(t=>({amount:t.amount,C:(0,oH.pointFromHex)(t.C),id:t.id,secret:new TextEncoder().encode(t.secret)})),o).map(t=>(0,a1.serializeProof)(t))),e=hq(e);let d=[...u,...c],p=d.map((t,e)=>e).sort((t,e)=>d[t].blindedMessage.amount-d[e].blindedMessage.amount),b=[...Array(u.length).fill(!0),...Array(c.length).fill(!1)],g=p.map(t=>d[t]),m=p.map(t=>b[t]);return{payload:{inputs:e,outputs:g.map(t=>t.blindedMessage)},outputData:g,keepVector:m,sortedIndices:p}}async checkProofsStates(t){let e=new TextEncoder,i=t.map(t=>(0,oH.hashToCurve)(e.encode(t.secret)).toHex(!0)),r=[];for(let t=0;t<i.length;t+=100){let e=i.slice(t,t+100),{states:n}=await this.mint.check({Ys:e}),s={};n.forEach(t=>{s[t.Y]=t});for(let t=0;t<e.length;t++){let i=s[e[t]];if(!i)throw Error("Could not find state for proof with Y: "+e[t]);r.push(i)}}return r}async onMintQuoteUpdates(t,e,i){if(await this.mint.connectWebSocket(),!this.mint.webSocketConnection)throw Error("failed to establish WebSocket connection.");let r=this.mint.webSocketConnection.createSubscription({kind:"bolt11_mint_quote",filters:t},e,i);return()=>{this.mint.webSocketConnection?.cancelSubscription(r,e)}}async onMeltQuotePaid(t,e,i){return this.onMeltQuoteUpdates([t],t=>{t.state===hK.PAID&&e(t)},i)}async onMintQuotePaid(t,e,i){return this.onMintQuoteUpdates([t],t=>{t.state===hQ.PAID&&e(t)},i)}async onMeltQuoteUpdates(t,e,i){if(await this.mint.connectWebSocket(),!this.mint.webSocketConnection)throw Error("failed to establish WebSocket connection.");let r=this.mint.webSocketConnection.createSubscription({kind:"bolt11_melt_quote",filters:t},e,i);return()=>{this.mint.webSocketConnection?.cancelSubscription(r,e)}}async onProofStateUpdates(t,e,i){if(await this.mint.connectWebSocket(),!this.mint.webSocketConnection)throw Error("failed to establish WebSocket connection.");let r=new TextEncoder,n={};for(let e=0;e<t.length;e++)n[(0,oH.hashToCurve)(r.encode(t[e].secret)).toHex(!0)]=t[e];let s=Object.keys(n),o=this.mint.webSocketConnection.createSubscription({kind:"proof_state",filters:s},t=>{e({...t,proof:n[t.Y]})},i);return()=>{this.mint.webSocketConnection?.cancelSubscription(o,e)}}createOutputData(t,e,i,r,n,s,o){let a;if(r)a=h9.createP2PKData({pubkey:r},t,e,n);else if(i||0===i){if(!this._seed)throw Error("cannot create deterministic messages without seed");a=h9.createDeterministicData(t,this._seed,i,e,n)}else a=s?h9.createP2PKData(s,t,e,n):o?hO(t,e.keys).map(t=>o(t,e)):h9.createRandomData(t,e,n);return a}createBlankOutputs(t,e,i,r){let n=Math.ceil(Math.log2(t))||1;n<0&&(n=0);let s=n?Array(n).fill(1):[];return this.createOutputData(t,e,i,void 0,s,void 0,r)}}var ft={},fe={},fi=tE("dlqwk"),fr={},fi=tE("dlqwk"),fn={},fs=tE("1U9GM"),fo=fs.Buffer,fa=tE("b6RFW").Transform,fi=tE("dlqwk");function fl(t){fa.call(this),this._block=fo.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}fi(fl,fa),fl.prototype._transform=function(t,e,i){var r=null;try{this.update(t,e)}catch(t){r=t}i(r)},fl.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},fl.prototype.update=function(t,e){if(function(t,e){if(!fo.isBuffer(t)&&"string"!=typeof t)throw TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw Error("Digest already called");fo.isBuffer(t)||(t=fo.from(t,e));for(var i=this._block,r=0;this._blockOffset+t.length-r>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)i[n++]=t[r++];this._update(),this._blockOffset=0}for(;r<t.length;)i[this._blockOffset++]=t[r++];for(var s=0,o=8*t.length;o>0;++s)this._length[s]+=o,(o=this._length[s]/0x100000000|0)>0&&(this._length[s]-=0x100000000*o);return this},fl.prototype._update=function(){throw Error("_update is not implemented")},fl.prototype.digest=function(t){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return e},fl.prototype._digest=function(){throw Error("_digest is not implemented")},fn=fl;var fs=tE("1U9GM"),fh=fs.Buffer,ff=Array(16);function fu(){fn.call(this,64),this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476}function fc(t,e){return t<<e|t>>>32-e}function fd(t,e,i,r,n,s,o){return fc(t+(e&i|~e&r)+n+s|0,o)+e|0}function fp(t,e,i,r,n,s,o){return fc(t+(e&r|i&~r)+n+s|0,o)+e|0}function fb(t,e,i,r,n,s,o){return fc(t+(e^i^r)+n+s|0,o)+e|0}function fg(t,e,i,r,n,s,o){return fc(t+(i^(e|~r))+n+s|0,o)+e|0}fi(fu,fn),fu.prototype._update=function(){for(var t=0;t<16;++t)ff[t]=this._block.readInt32LE(4*t);var e=this._a,i=this._b,r=this._c,n=this._d;e=fd(e,i,r,n,ff[0],0xd76aa478,7),n=fd(n,e,i,r,ff[1],0xe8c7b756,12),r=fd(r,n,e,i,ff[2],0x242070db,17),i=fd(i,r,n,e,ff[3],0xc1bdceee,22),e=fd(e,i,r,n,ff[4],0xf57c0faf,7),n=fd(n,e,i,r,ff[5],0x4787c62a,12),r=fd(r,n,e,i,ff[6],0xa8304613,17),i=fd(i,r,n,e,ff[7],0xfd469501,22),e=fd(e,i,r,n,ff[8],0x698098d8,7),n=fd(n,e,i,r,ff[9],0x8b44f7af,12),r=fd(r,n,e,i,ff[10],0xffff5bb1,17),i=fd(i,r,n,e,ff[11],0x895cd7be,22),e=fd(e,i,r,n,ff[12],0x6b901122,7),n=fd(n,e,i,r,ff[13],0xfd987193,12),r=fd(r,n,e,i,ff[14],0xa679438e,17),i=fd(i,r,n,e,ff[15],0x49b40821,22),e=fp(e,i,r,n,ff[1],0xf61e2562,5),n=fp(n,e,i,r,ff[6],0xc040b340,9),r=fp(r,n,e,i,ff[11],0x265e5a51,14),i=fp(i,r,n,e,ff[0],0xe9b6c7aa,20),e=fp(e,i,r,n,ff[5],0xd62f105d,5),n=fp(n,e,i,r,ff[10],0x2441453,9),r=fp(r,n,e,i,ff[15],0xd8a1e681,14),i=fp(i,r,n,e,ff[4],0xe7d3fbc8,20),e=fp(e,i,r,n,ff[9],0x21e1cde6,5),n=fp(n,e,i,r,ff[14],0xc33707d6,9),r=fp(r,n,e,i,ff[3],0xf4d50d87,14),i=fp(i,r,n,e,ff[8],0x455a14ed,20),e=fp(e,i,r,n,ff[13],0xa9e3e905,5),n=fp(n,e,i,r,ff[2],0xfcefa3f8,9),r=fp(r,n,e,i,ff[7],0x676f02d9,14),i=fp(i,r,n,e,ff[12],0x8d2a4c8a,20),e=fb(e,i,r,n,ff[5],0xfffa3942,4),n=fb(n,e,i,r,ff[8],0x8771f681,11),r=fb(r,n,e,i,ff[11],0x6d9d6122,16),i=fb(i,r,n,e,ff[14],0xfde5380c,23),e=fb(e,i,r,n,ff[1],0xa4beea44,4),n=fb(n,e,i,r,ff[4],0x4bdecfa9,11),r=fb(r,n,e,i,ff[7],0xf6bb4b60,16),i=fb(i,r,n,e,ff[10],0xbebfbc70,23),e=fb(e,i,r,n,ff[13],0x289b7ec6,4),n=fb(n,e,i,r,ff[0],0xeaa127fa,11),r=fb(r,n,e,i,ff[3],0xd4ef3085,16),i=fb(i,r,n,e,ff[6],0x4881d05,23),e=fb(e,i,r,n,ff[9],0xd9d4d039,4),n=fb(n,e,i,r,ff[12],0xe6db99e5,11),r=fb(r,n,e,i,ff[15],0x1fa27cf8,16),i=fb(i,r,n,e,ff[2],0xc4ac5665,23),e=fg(e,i,r,n,ff[0],0xf4292244,6),n=fg(n,e,i,r,ff[7],0x432aff97,10),r=fg(r,n,e,i,ff[14],0xab9423a7,15),i=fg(i,r,n,e,ff[5],0xfc93a039,21),e=fg(e,i,r,n,ff[12],0x655b59c3,6),n=fg(n,e,i,r,ff[3],0x8f0ccc92,10),r=fg(r,n,e,i,ff[10],0xffeff47d,15),i=fg(i,r,n,e,ff[1],0x85845dd1,21),e=fg(e,i,r,n,ff[8],0x6fa87e4f,6),n=fg(n,e,i,r,ff[15],0xfe2ce6e0,10),r=fg(r,n,e,i,ff[6],0xa3014314,15),i=fg(i,r,n,e,ff[13],0x4e0811a1,21),e=fg(e,i,r,n,ff[4],0xf7537e82,6),n=fg(n,e,i,r,ff[11],0xbd3af235,10),r=fg(r,n,e,i,ff[2],0x2ad7d2bb,15),i=fg(i,r,n,e,ff[9],0xeb86d391,21),this._a=this._a+e|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+n|0},fu.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=fh.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},fr=fu;var fm={},aX=tE("6ZWSX"),fy=aX.Buffer,fi=tE("dlqwk"),fv=Array(16),f_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],fw=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],fx=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],fS=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function fE(){fn.call(this,64),this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476,this._e=0xc3d2e1f0}function fk(t,e){return t<<e|t>>>32-e}fi(fE,fn),fE.prototype._update=function(){for(var t,e,i,r,n,s,o,a,l,h,f,u,c,d,p,b,g,m,y,v,_,w,x,S,E,k,A,M,T,I,P,O,B,C,R,L,N,D,U,H,j,F,q,$,z,V,W,K,Q,G,X,Y,Z=0;Z<16;++Z)fv[Z]=this._block.readInt32LE(4*Z);for(var J=0|this._a,tt=0|this._b,te=0|this._c,ti=0|this._d,tr=0|this._e,tn=0|this._a,ts=0|this._b,to=0|this._c,ta=0|this._d,tl=0|this._e,th=0;th<80;th+=1){th<16?(t=J,e=tt,i=te,r=ti,n=tr,X=fk(t+(e^i^r)+fv[f_[th]]+0|0,fx[th])+n|0,s=tn,o=ts,a=to,l=ta,h=tl,Y=fk(s+(o^(a|~l))+fv[fw[th]]+0x50a28be6|0,fS[th])+h|0):th<32?(f=J,u=tt,c=te,d=ti,p=tr,X=fk(f+(u&c|~u&d)+fv[f_[th]]+0x5a827999|0,fx[th])+p|0,b=tn,g=ts,m=to,y=ta,v=tl,Y=fk(b+(g&y|m&~y)+fv[fw[th]]+0x5c4dd124|0,fS[th])+v|0):th<48?(_=J,w=tt,x=te,S=ti,E=tr,X=fk(_+((w|~x)^S)+fv[f_[th]]+0x6ed9eba1|0,fx[th])+E|0,k=tn,A=ts,M=to,T=ta,I=tl,Y=fk(k+((A|~M)^T)+fv[fw[th]]+0x6d703ef3|0,fS[th])+I|0):th<64?(P=J,O=tt,B=te,C=ti,R=tr,X=fk(P+(O&C|B&~C)+fv[f_[th]]+0x8f1bbcdc|0,fx[th])+R|0,L=tn,N=ts,D=to,U=ta,H=tl,Y=fk(L+(N&D|~N&U)+fv[fw[th]]+0x7a6d76e9|0,fS[th])+H|0):(j=J,F=tt,q=te,$=ti,z=tr,X=fk(j+(F^(q|~$))+fv[f_[th]]+0xa953fd4e|0,fx[th])+z|0,V=tn,W=ts,K=to,Q=ta,G=tl,Y=fk(V+(W^K^Q)+fv[fw[th]]+0|0,fS[th])+G|0),J=tr,tr=ti,ti=fk(te,10),te=tt,tt=X,tn=tl,tl=ta,ta=fk(to,10),to=ts,ts=Y}var tf=this._b+te+ta|0;this._b=this._c+ti+tl|0,this._c=this._d+tr+tn|0,this._d=this._e+J+ts|0,this._e=this._a+tt+to|0,this._a=tf},fE.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=fy.alloc?fy.alloc(20):new fy(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},fm=fE;var fA={},fM=fA=function(t){var e=fM[t=t.toLowerCase()];if(!e)throw Error(t+" is not supported (we accept pull requests)");return new e};fM.sha=tE("dECyV"),fM.sha1=tE("dVcFO"),fM.sha224=tE("3wNjm"),fM.sha256=tE("3BFQx"),fM.sha384=tE("5qHaZ"),fM.sha512=tE("bZI17");var fT={},fs=tE("1U9GM"),fI=fs.Buffer,fP={};fP=fB;var fO=tE("7etJZ").EventEmitter,fi=tE("dlqwk");function fB(){fO.call(this)}fi(fB,fO),fB.Readable=tE("d4xg3"),fB.Writable=tE("3LwY7"),fB.Duplex=tE("DwJuQ"),fB.Transform=tE("b7kl8"),fB.PassThrough=tE("4wWcs"),fB.finished=tE("fiCvv"),fB.pipeline=tE("aGSwO"),fB.Stream=fB,fB.prototype.pipe=function(t,e){var i=this;function r(e){t.writable&&!1===t.write(e)&&i.pause&&i.pause()}function n(){i.readable&&i.resume&&i.resume()}i.on("data",r),t.on("drain",n),t._isStdio||e&&!1===e.end||(i.on("end",o),i.on("close",a));var s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function l(t){if(h(),0===fO.listenerCount(this,"error"))throw t}function h(){i.removeListener("data",r),t.removeListener("drain",n),i.removeListener("end",o),i.removeListener("close",a),i.removeListener("error",l),t.removeListener("error",l),i.removeListener("end",h),i.removeListener("close",h),t.removeListener("close",h)}return i.on("error",l),t.on("error",l),i.on("end",h),i.on("close",h),t.on("close",h),t.emit("pipe",i),t};var fC=fP.Transform,fR=tE("eNRCS").StringDecoder,fi=tE("dlqwk");function fL(t){fC.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}fi(fL,fC);var fN="undefined"!=typeof Uint8Array,fD="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&ArrayBuffer.isView&&(fI.prototype instanceof Uint8Array||fI.TYPED_ARRAY_SUPPORT);function fU(t){fT.call(this,"digest"),this._hash=t}fL.prototype.update=function(t,e,i){var r=function(t,e){if(t instanceof fI)return t;if("string"==typeof t)return fI.from(t,e);if(fD&&ArrayBuffer.isView(t)){if(0===t.byteLength)return fI.alloc(0);var i=fI.from(t.buffer,t.byteOffset,t.byteLength);if(i.byteLength===t.byteLength)return i}if(fN&&t instanceof Uint8Array||fI.isBuffer(t)&&t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))return fI.from(t);throw TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}(t,e),n=this._update(r);return this.hashMode?this:(i&&(n=this._toString(n,i)),n)},fL.prototype.setAutoPadding=function(){},fL.prototype.getAuthTag=function(){throw Error("trying to get auth tag in unsupported state")},fL.prototype.setAuthTag=function(){throw Error("trying to set auth tag in unsupported state")},fL.prototype.setAAD=function(){throw Error("trying to set aad in unsupported state")},fL.prototype._transform=function(t,e,i){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{i(r)}},fL.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},fL.prototype._finalOrDigest=function(t){var e=this.__final()||fI.alloc(0);return t&&(e=this._toString(e,t,!0)),e},fL.prototype._toString=function(t,e,i){if(this._decoder||(this._decoder=new fR(e),this._encoding=e),this._encoding!==e)throw Error("cant switch encodings");var r=this._decoder.write(t);return i&&(r+=this._decoder.end()),r},fi(fU,fT=fL),fU.prototype._update=function(t){this._hash.update(t)},fU.prototype._final=function(){return this._hash.digest()},fe=function(t){return"md5"===(t=t.toLowerCase())?new fr:"rmd160"===t||"ripemd160"===t?new fm:new fU(fA(t))};for(var fH={},fj="qpzry9x8gf2tvdw0s3jn54khce6mua7l",fF={},fq=0;fq<fj.length;fq++){var f$=fj.charAt(fq);if(void 0!==fF[f$])throw TypeError(f$+" is ambiguous");fF[f$]=fq}function fz(t){var e=t>>25;return(0x1ffffff&t)<<5^0x3b6a57b2&-(e>>0&1)^0x26508e6d&-(e>>1&1)^0x1ea119fa&-(e>>2&1)^0x3d4233dd&-(e>>3&1)^0x2a1462b3&-(e>>4&1)}function fV(t){for(var e=1,i=0;i<t.length;++i){var r=t.charCodeAt(i);if(r<33||r>126)return"Invalid prefix ("+t+")";e=fz(e)^r>>5}for(i=0,e=fz(e);i<t.length;++i){var n=t.charCodeAt(i);e=fz(e)^31&n}return e}function fW(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var i=t.toLowerCase(),r=t.toUpperCase();if(t!==i&&t!==r)return"Mixed-case string "+t;var n=(t=i).lastIndexOf("1");if(-1===n)return"No separator character for "+t;if(0===n)return"Missing prefix for "+t;var s=t.slice(0,n),o=t.slice(n+1);if(o.length<6)return"Data too short";var a=fV(s);if("string"==typeof a)return a;for(var l=[],h=0;h<o.length;++h){var f=o.charAt(h),u=fF[f];if(void 0===u)return"Unknown character "+f;a=fz(a)^u,h+6>=o.length||l.push(u)}return 1!==a?"Invalid checksum for "+t:{prefix:s,words:l}}function fK(t,e,i,r){for(var n=0,s=0,o=(1<<i)-1,a=[],l=0;l<t.length;++l)for(n=n<<e|t[l],s+=e;s>=i;)a.push(n>>(s-=i)&o);if(r)s>0&&a.push(n<<i-s&o);else{if(s>=e)return"Excess padding";if(n<<i-s&o)return"Non-zero padding"}return a}fH={decodeUnsafe:function(){var t=fW.apply(null,arguments);if("object"==typeof t)return t},decode:function(t){var e=fW.apply(null,arguments);if("object"==typeof e)return e;throw Error(e)},encode:function(t,e,i){if(i=i||90,t.length+7+e.length>i)throw TypeError("Exceeds length limit");var r=fV(t=t.toLowerCase());if("string"==typeof r)throw Error(r);for(var n=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5!=0)throw Error("Non 5-bit word");r=fz(r)^o,n+=fj.charAt(o)}for(s=0;s<6;++s)r=fz(r);for(r^=1,s=0;s<6;++s){var a=r>>(5-s)*5&31;n+=fj.charAt(a)}return n},toWordsUnsafe:function(t){var e=fK(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=fK(t,8,5,!0);if(Array.isArray(e))return e;throw Error(e)},fromWordsUnsafe:function(t){var e=fK(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=fK(t,5,8,!1);if(Array.isArray(e))return e;throw Error(e)}};var fQ={};fQ=tE("fr4Yq")(tE("ejO33"));var fs=tE("1U9GM"),fG=fs.Buffer,fX=tE("dEXSZ"),fY={};Object.defineProperty(fY,"__esModule",{value:!0}),fY.initEccLib=fY.Transaction=fY.opcodes=fY.Psbt=fY.Block=fY.script=fY.payments=fY.networks=fY.crypto=fY.address=void 0;var fZ={},aX=tE("6ZWSX"),fJ=aX.Buffer;Object.defineProperty(fZ,"__esModule",{value:!0}),fZ.toOutputScript=fZ.fromOutputScript=fZ.toBech32=fZ.toBase58Check=fZ.fromBech32=fZ.fromBase58Check=void 0;var f0={};Object.defineProperty(f0,"__esModule",{value:!0}),f0.testnet=f0.regtest=f0.bitcoin=void 0,f0.bitcoin={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:0x488b21e,private:0x488ade4},pubKeyHash:0,scriptHash:5,wif:128},f0.regtest={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:0x43587cf,private:0x4358394},pubKeyHash:111,scriptHash:196,wif:239},f0.testnet={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:0x43587cf,private:0x4358394},pubKeyHash:111,scriptHash:196,wif:239};var f1={};Object.defineProperty(f1,"__esModule",{value:!0}),f1.p2tr=f1.p2wsh=f1.p2wpkh=f1.p2sh=f1.p2pkh=f1.p2pk=f1.p2ms=f1.embed=void 0;var f2={};Object.defineProperty(f2,"__esModule",{value:!0}),f2.p2data=void 0;var f3={},aX=tE("6ZWSX"),f6=aX.Buffer;Object.defineProperty(f3,"__esModule",{value:!0}),f3.signature=f3.number=f3.isCanonicalScriptSignature=f3.isDefinedHashType=f3.isCanonicalPubKey=f3.toStack=f3.fromASM=f3.toASM=f3.decompile=f3.compile=f3.countNonPushOnlyOPs=f3.isPushOnly=f3.OPS=void 0;var f5={},aX=tE("6ZWSX"),f8=aX.Buffer;Object.defineProperty(f5,"__esModule",{value:!0}),f5.encode=f5.decode=f5.check=void 0,f5.check=function(t){if(t.length<8||t.length>72||48!==t[0]||t[1]!==t.length-2||2!==t[2])return!1;let e=t[3];if(0===e||5+e>=t.length||2!==t[4+e])return!1;let i=t[5+e];return 0!==i&&6+e+i===t.length&&!(128&t[4])&&(!(e>1)||0!==t[4]||!!(128&t[5]))&&!(128&t[e+6])&&(!(i>1)||0!==t[e+6]||!!(128&t[e+7]))},f5.decode=function(t){if(t.length<8)throw Error("DER sequence length is too short");if(t.length>72)throw Error("DER sequence length is too long");if(48!==t[0])throw Error("Expected DER sequence");if(t[1]!==t.length-2)throw Error("DER sequence length is invalid");if(2!==t[2])throw Error("Expected DER integer");let e=t[3];if(0===e)throw Error("R length is zero");if(5+e>=t.length)throw Error("R length is too long");if(2!==t[4+e])throw Error("Expected DER integer (2)");let i=t[5+e];if(0===i)throw Error("S length is zero");if(6+e+i!==t.length)throw Error("S length is invalid");if(128&t[4])throw Error("R value is negative");if(e>1&&0===t[4]&&!(128&t[5]))throw Error("R value excessively padded");if(128&t[e+6])throw Error("S value is negative");if(i>1&&0===t[e+6]&&!(128&t[e+7]))throw Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}},f5.encode=function(t,e){let i=t.length,r=e.length;if(0===i)throw Error("R length is zero");if(0===r)throw Error("S length is zero");if(i>33)throw Error("R length is too long");if(r>33)throw Error("S length is too long");if(128&t[0])throw Error("R value is negative");if(128&e[0])throw Error("S value is negative");if(i>1&&0===t[0]&&!(128&t[1]))throw Error("R value excessively padded");if(r>1&&0===e[0]&&!(128&e[1]))throw Error("S value excessively padded");let n=f8.allocUnsafe(6+i+r);return n[0]=48,n[1]=n.length-2,n[2]=2,n[3]=t.length,t.copy(n,4),n[4+i]=2,n[5+i]=e.length,e.copy(n,6+i),n};var f4={};Object.defineProperty(f4,"__esModule",{value:!0}),f4.REVERSE_OPS=f4.OPS=void 0;const f9={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};f4.OPS=f9;const f7={};for(const t of(f4.REVERSE_OPS=f7,Object.keys(f9)))f7[f9[t]]=t;Object.defineProperty(f3,"OPS",{enumerable:!0,get:function(){return f4.OPS}});var ut={};function ue(t){return t<f4.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}Object.defineProperty(ut,"__esModule",{value:!0}),ut.decode=ut.encode=ut.encodingLength=void 0,ut.encodingLength=ue,ut.encode=function(t,e,i){let r=ue(e);return 1===r?t.writeUInt8(e,i):2===r?(t.writeUInt8(f4.OPS.OP_PUSHDATA1,i),t.writeUInt8(e,i+1)):3===r?(t.writeUInt8(f4.OPS.OP_PUSHDATA2,i),t.writeUInt16LE(e,i+1)):(t.writeUInt8(f4.OPS.OP_PUSHDATA4,i),t.writeUInt32LE(e,i+1)),r},ut.decode=function(t,e){let i,r,n=t.readUInt8(e);if(n<f4.OPS.OP_PUSHDATA1)i=n,r=1;else if(n===f4.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;i=t.readUInt8(e+1),r=2}else if(n===f4.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;i=t.readUInt16LE(e+1),r=3}else{if(e+5>t.length)return null;if(n!==f4.OPS.OP_PUSHDATA4)throw Error("Unexpected opcode");i=t.readUInt32LE(e+1),r=5}return{opcode:n,number:i,size:r}};var ui={},aX=tE("6ZWSX"),ur=aX.Buffer;Object.defineProperty(ui,"__esModule",{value:!0}),ui.encode=ui.decode=void 0,ui.decode=function(t,e,i){e=e||4,i=void 0===i||i;let r=t.length;if(0===r)return 0;if(r>e)throw TypeError("Script number overflow");if(i&&(127&t[r-1])==0&&(r<=1||(128&t[r-2])==0))throw Error("Non-minimally encoded script number");if(5===r){let e=t.readUInt32LE(0),i=t.readUInt8(4);return 128&i?-((-129&i)*0x100000000+e):0x100000000*i+e}let n=0;for(let e=0;e<r;++e)n|=t[e]<<8*e;return 128&t[r-1]?-(n&~(128<<8*(r-1))):n},ui.encode=function(t){var e;let i=Math.abs(t),r=(e=i)>0x7fffffff?5:e>8388607?4:e>32767?3:e>127?2:+(e>0),n=ur.allocUnsafe(r),s=t<0;for(let t=0;t<r;++t)n.writeUInt8(255&i,t),i>>=8;return 128&n[r-1]?n.writeUInt8(128*!!s,r-1):s&&(n[r-1]|=128),n};var un={},aX=tE("6ZWSX"),us=aX.Buffer;Object.defineProperty(un,"__esModule",{value:!0}),un.encode=un.decode=void 0;var uo={};Object.defineProperty(uo,"__esModule",{value:!0}),uo.oneOf=uo.Null=uo.BufferN=uo.Function=uo.UInt32=uo.UInt8=uo.tuple=uo.maybe=uo.Hex=uo.Buffer=uo.String=uo.Boolean=uo.Array=uo.Number=uo.Hash256bit=uo.Hash160bit=uo.Buffer256bit=uo.isTaptree=uo.isTapleaf=uo.TAPLEAF_VERSION_MASK=uo.Satoshi=uo.isPoint=uo.stacksEqual=uo.typeforce=void 0;var aX=tE("6ZWSX");uo.typeforce=tE("lYlyf");const ua=aX.Buffer.alloc(32,0),ul=aX.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");uo.stacksEqual=function(t,e){return t.length===e.length&&t.every((t,i)=>t.equals(e[i]))},uo.isPoint=function(t){if(!aX.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],i=t.slice(1,33);if(0===i.compare(ua)||i.compare(ul)>=0)return!1;if((2===e||3===e)&&33===t.length)return!0;let r=t.slice(33);return!(0===r.compare(ua)||r.compare(ul)>=0)&&4===e&&65===t.length};const uh=21*1e14;function uf(t){return!!(t&&"output"in t&&aX.Buffer.isBuffer(t.output))&&(void 0===t.version||(t.version&uo.TAPLEAF_VERSION_MASK)===t.version)}uo.Satoshi=function(t){return uo.typeforce.UInt53(t)&&t<=uh},uo.TAPLEAF_VERSION_MASK=254,uo.isTapleaf=uf,uo.isTaptree=function t(e){return(0,uo.Array)(e)?2===e.length&&e.every(e=>t(e)):uf(e)},uo.Buffer256bit=uo.typeforce.BufferN(32),uo.Hash160bit=uo.typeforce.BufferN(20),uo.Hash256bit=uo.typeforce.BufferN(32),uo.Number=uo.typeforce.Number,uo.Array=uo.typeforce.Array,uo.Boolean=uo.typeforce.Boolean,uo.String=uo.typeforce.String,uo.Buffer=uo.typeforce.Buffer,uo.Hex=uo.typeforce.Hex,uo.maybe=uo.typeforce.maybe,uo.tuple=uo.typeforce.tuple,uo.UInt8=uo.typeforce.UInt8,uo.UInt32=uo.typeforce.UInt32,uo.Function=uo.typeforce.Function,uo.BufferN=uo.typeforce.BufferN,uo.Null=uo.typeforce.Null,uo.oneOf=uo.typeforce.oneOf;const{typeforce:uu}=uo,uc=us.alloc(1,0);function ud(t){let e=0;for(;0===t[e];)++e;return e===t.length?uc:128&(t=t.slice(e))[0]?us.concat([uc,t],1+t.length):t}function up(t){0===t[0]&&(t=t.slice(1));let e=us.alloc(32,0),i=Math.max(0,32-t.length);return t.copy(e,i),e}un.decode=function(t){let e=t.readUInt8(t.length-1);if(!(0,f3.isDefinedHashType)(e))throw Error("Invalid hashType "+e);let i=f5.decode(t.slice(0,-1)),r=up(i.r),n=up(i.s);return{signature:us.concat([r,n],64),hashType:e}},un.encode=function(t,e){if(uu({signature:uo.BufferN(64),hashType:uo.UInt8},{signature:t,hashType:e}),!(0,f3.isDefinedHashType)(e))throw Error("Invalid hashType "+e);let i=us.allocUnsafe(1);i.writeUInt8(e,0);let r=ud(t.slice(0,32)),n=ud(t.slice(32,64));return us.concat([f5.encode(r,n),i])};const{typeforce:ub}=uo,ug=f4.OPS.OP_RESERVED;function um(t){return uo.Buffer(t)||uo.Number(t)&&(t===f4.OPS.OP_0||t>=f4.OPS.OP_1&&t<=f4.OPS.OP_16||t===f4.OPS.OP_1NEGATE)}function uy(t){return uo.Array(t)&&t.every(um)}function uv(t){if(0===t.length)return f4.OPS.OP_0;if(1===t.length){if(t[0]>=1&&t[0]<=16)return ug+t[0];if(129===t[0])return f4.OPS.OP_1NEGATE}}function u_(t){return f6.isBuffer(t)}function uw(t){return f6.isBuffer(t)}function ux(t){if(u_(t))return t;ub(uo.Array,t);let e=t.reduce((t,e)=>uw(e)?1===e.length&&void 0!==uv(e)?t+1:t+ut.encodingLength(e.length)+e.length:t+1,0),i=f6.allocUnsafe(e),r=0;if(t.forEach(t=>{if(uw(t)){let e=uv(t);if(void 0!==e){i.writeUInt8(e,r),r+=1;return}r+=ut.encode(i,t.length,r),t.copy(i,r),r+=t.length}else i.writeUInt8(t,r),r+=1}),r!==i.length)throw Error("Could not decode chunks");return i}function uS(t){if(uo.Array(t))return t;ub(uo.Buffer,t);let e=[],i=0;for(;i<t.length;){let r=t[i];if(r>f4.OPS.OP_0&&r<=f4.OPS.OP_PUSHDATA4){let r=ut.decode(t,i);if(null===r||(i+=r.size)+r.number>t.length)return null;let n=t.slice(i,i+r.number);i+=r.number;let s=uv(n);void 0!==s?e.push(s):e.push(n)}else e.push(r),i+=1}return e}function uE(t){let e=-129&t;return e>0&&e<4}f3.isPushOnly=uy,f3.countNonPushOnlyOPs=function(t){return t.length-t.filter(um).length},f3.compile=ux,f3.decompile=uS,f3.toASM=function(t){if(u_(t)&&(t=uS(t)),!t)throw Error("Could not convert invalid chunks to ASM");return t.map(t=>{if(uw(t)){let e=uv(t);if(void 0===e)return t.toString("hex");t=e}return f4.REVERSE_OPS[t]}).join(" ")},f3.fromASM=function(t){return ub(uo.String,t),ux(t.split(" ").map(t=>void 0!==f4.OPS[t]?f4.OPS[t]:(ub(uo.Hex,t),f6.from(t,"hex"))))},f3.toStack=function(t){return ub(uy,t=uS(t)),t.map(t=>uw(t)?t:t===f4.OPS.OP_0?f6.allocUnsafe(0):ui.encode(t-ug))},f3.isCanonicalPubKey=function(t){return uo.isPoint(t)},f3.isDefinedHashType=uE,f3.isCanonicalScriptSignature=function(t){return!!(f6.isBuffer(t)&&uE(t[t.length-1]))&&f5.check(t.slice(0,-1))},f3.number=ui,f3.signature=un;var uk={};Object.defineProperty(uk,"__esModule",{value:!0}),uk.value=uk.prop=void 0,uk.prop=function(t,e,i){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let t=i.call(this);return this[e]=t,t},set(t){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:t,writable:!0})}})},uk.value=function(t){let e;return()=>void 0!==e?e:e=t()};const uA=f3.OPS;f2.p2data=function(t,e){if(!t.data&&!t.output)throw TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,uo.typeforce)({network:uo.typeforce.maybe(uo.typeforce.Object),output:uo.typeforce.maybe(uo.typeforce.Buffer),data:uo.typeforce.maybe(uo.typeforce.arrayOf(uo.typeforce.Buffer))},t);let i={name:"embed",network:t.network||f0.bitcoin};if(uk.prop(i,"output",()=>{if(t.data)return f3.compile([uA.OP_RETURN].concat(t.data))}),uk.prop(i,"data",()=>{if(t.output)return f3.decompile(t.output).slice(1)}),e.validate&&t.output){let e=f3.decompile(t.output);if(e[0]!==uA.OP_RETURN||!e.slice(1).every(uo.typeforce.Buffer))throw TypeError("Output is invalid");if(t.data&&!(0,uo.stacksEqual)(t.data,i.data))throw TypeError("Data mismatch")}return Object.assign(i,t)},Object.defineProperty(f1,"embed",{enumerable:!0,get:function(){return f2.p2data}});var uM={};Object.defineProperty(uM,"__esModule",{value:!0}),uM.p2ms=void 0;const uT=f3.OPS,uI=uT.OP_RESERVED;uM.p2ms=function(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&void 0!==t.m)&&!t.signatures)throw TypeError("Not enough data");function i(t){return f3.isCanonicalScriptSignature(t)||(e.allowIncomplete&&t===uT.OP_0)!==void 0}e=Object.assign({validate:!0},e||{}),(0,uo.typeforce)({network:uo.typeforce.maybe(uo.typeforce.Object),m:uo.typeforce.maybe(uo.typeforce.Number),n:uo.typeforce.maybe(uo.typeforce.Number),output:uo.typeforce.maybe(uo.typeforce.Buffer),pubkeys:uo.typeforce.maybe(uo.typeforce.arrayOf(uo.isPoint)),signatures:uo.typeforce.maybe(uo.typeforce.arrayOf(i)),input:uo.typeforce.maybe(uo.typeforce.Buffer)},t);let r={network:t.network||f0.bitcoin},n=[],s=!1;function o(t){s||(s=!0,r.m=(n=f3.decompile(t))[0]-uI,r.n=n[n.length-2]-uI,r.pubkeys=n.slice(1,-2))}if(uk.prop(r,"output",()=>{if(t.m&&r.n&&t.pubkeys)return f3.compile([].concat(uI+t.m,t.pubkeys,uI+r.n,uT.OP_CHECKMULTISIG))}),uk.prop(r,"m",()=>{if(r.output)return o(r.output),r.m}),uk.prop(r,"n",()=>{if(r.pubkeys)return r.pubkeys.length}),uk.prop(r,"pubkeys",()=>{if(t.output)return o(t.output),r.pubkeys}),uk.prop(r,"signatures",()=>{if(t.input)return f3.decompile(t.input).slice(1)}),uk.prop(r,"input",()=>{if(t.signatures)return f3.compile([uT.OP_0].concat(t.signatures))}),uk.prop(r,"witness",()=>{if(r.input)return[]}),uk.prop(r,"name",()=>{if(r.m&&r.n)return`p2ms(${r.m} of ${r.n})`}),e.validate){if(t.output){if(o(t.output),!uo.typeforce.Number(n[0])||!uo.typeforce.Number(n[n.length-2])||n[n.length-1]!==uT.OP_CHECKMULTISIG||r.m<=0||r.n>16||r.m>r.n||r.n!==n.length-3||!r.pubkeys.every(t=>(0,uo.isPoint)(t)))throw TypeError("Output is invalid");if(void 0!==t.m&&t.m!==r.m)throw TypeError("m mismatch");if(void 0!==t.n&&t.n!==r.n)throw TypeError("n mismatch");if(t.pubkeys&&!(0,uo.stacksEqual)(t.pubkeys,r.pubkeys))throw TypeError("Pubkeys mismatch")}if(t.pubkeys){if(void 0!==t.n&&t.n!==t.pubkeys.length)throw TypeError("Pubkey count mismatch");if(r.n=t.pubkeys.length,r.n<r.m)throw TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<r.m)throw TypeError("Not enough signatures provided");if(t.signatures.length>r.m)throw TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==uT.OP_0)throw TypeError("Input is invalid");if(0===r.signatures.length||!r.signatures.every(i))throw TypeError("Input has invalid signature(s)");if(t.signatures&&!(0,uo.stacksEqual)(t.signatures,r.signatures))throw TypeError("Signature mismatch");if(void 0!==t.m&&t.m!==t.signatures.length)throw TypeError("Signature count mismatch")}}return Object.assign(r,t)},Object.defineProperty(f1,"p2ms",{enumerable:!0,get:function(){return uM.p2ms}});var uP={};Object.defineProperty(uP,"__esModule",{value:!0}),uP.p2pk=void 0;const uO=f3.OPS;uP.p2pk=function(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,uo.typeforce)({network:uo.typeforce.maybe(uo.typeforce.Object),output:uo.typeforce.maybe(uo.typeforce.Buffer),pubkey:uo.typeforce.maybe(uo.isPoint),signature:uo.typeforce.maybe(f3.isCanonicalScriptSignature),input:uo.typeforce.maybe(uo.typeforce.Buffer)},t);let i=uk.value(()=>f3.decompile(t.input)),r={name:"p2pk",network:t.network||f0.bitcoin};if(uk.prop(r,"output",()=>{if(t.pubkey)return f3.compile([t.pubkey,uO.OP_CHECKSIG])}),uk.prop(r,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),uk.prop(r,"signature",()=>{if(t.input)return i()[0]}),uk.prop(r,"input",()=>{if(t.signature)return f3.compile([t.signature])}),uk.prop(r,"witness",()=>{if(r.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==uO.OP_CHECKSIG)throw TypeError("Output is invalid");if(!(0,uo.isPoint)(r.pubkey))throw TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(r.pubkey))throw TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(r.input))throw TypeError("Signature mismatch");if(t.input){if(1!==i().length)throw TypeError("Input is invalid");if(!f3.isCanonicalScriptSignature(r.signature))throw TypeError("Input has invalid signature")}}return Object.assign(r,t)},Object.defineProperty(f1,"p2pk",{enumerable:!0,get:function(){return uP.p2pk}});var uB={},aX=tE("6ZWSX"),uC=aX.Buffer;Object.defineProperty(uB,"__esModule",{value:!0}),uB.p2pkh=void 0;var uR={},aX=tE("6ZWSX"),uL=aX.Buffer;Object.defineProperty(uR,"__esModule",{value:!0}),uR.taggedHash=uR.TAGGED_HASH_PREFIXES=uR.TAGS=uR.hash256=uR.hash160=uR.sha256=uR.sha1=uR.ripemd160=void 0;var uN={};Object.defineProperty(uN,"__esModule",{value:!0}),uN.sha1=uN.SHA1=void 0;const uD=new Uint32Array([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0]),uU=new Uint32Array(80);class uH extends oq.HashMD{constructor(){super(64,20,8,!1),this.A=0|uD[0],this.B=0|uD[1],this.C=0|uD[2],this.D=0|uD[3],this.E=0|uD[4]}get(){let{A:t,B:e,C:i,D:r,E:n}=this;return[t,e,i,r,n]}set(t,e,i,r,n){this.A=0|t,this.B=0|e,this.C=0|i,this.D=0|r,this.E=0|n}process(t,e){for(let i=0;i<16;i++,e+=4)uU[i]=t.getUint32(e,!1);for(let t=16;t<80;t++)uU[t]=(0,oW.rotl)(uU[t-3]^uU[t-8]^uU[t-14]^uU[t-16],1);let{A:i,B:r,C:n,D:s,E:o}=this;for(let t=0;t<80;t++){let e,a;t<20?(e=(0,oq.Chi)(r,n,s),a=0x5a827999):t<40?(e=r^n^s,a=0x6ed9eba1):t<60?(e=(0,oq.Maj)(r,n,s),a=0x8f1bbcdc):(e=r^n^s,a=0xca62c1d6);let l=(0,oW.rotl)(i,5)+e+o+a+uU[t]|0;o=s,s=n,n=(0,oW.rotl)(r,30),r=i,i=l}i=i+this.A|0,r=r+this.B|0,n=n+this.C|0,s=s+this.D|0,o=o+this.E|0,this.set(i,r,n,s,o)}roundClean(){uU.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}function uj(t){return uL.from((0,oF.sha256)(Uint8Array.from(t)))}uN.SHA1=uH,uN.sha1=(0,oW.wrapConstructor)(()=>new uH),uR.ripemd160=function(t){return uL.from((0,a4.ripemd160)(Uint8Array.from(t)))},uR.sha1=function(t){return uL.from((0,uN.sha1)(Uint8Array.from(t)))},uR.sha256=uj,uR.hash160=function(t){return uL.from((0,a4.ripemd160)((0,oF.sha256)(Uint8Array.from(t))))},uR.hash256=function(t){return uL.from((0,oF.sha256)((0,oF.sha256)(Uint8Array.from(t))))},uR.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],uR.TAGGED_HASH_PREFIXES={"BIP0340/challenge":uL.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":uL.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":uL.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:uL.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:uL.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:uL.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:uL.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":uL.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":uL.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])},uR.taggedHash=function(t,e){return uj(uL.concat([uR.TAGGED_HASH_PREFIXES[t],e]))};var uF={},uq=oF.sha256,u$={},uz={},uV={};uz=(uV=function(t){if(t.length>=255)throw TypeError("Alphabet too long");for(var e=new Uint8Array(256),i=0;i<e.length;i++)e[i]=255;for(var r=0;r<t.length;r++){var n=t.charAt(r),s=n.charCodeAt(0);if(255!==e[s])throw TypeError(n+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function f(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var i=0,r=0,n=0;t[i]===a;)r++,i++;for(var s=(t.length-i)*l+1>>>0,h=new Uint8Array(s);t[i];){var f=t.charCodeAt(i);if(f>255)return;var u=e[f];if(255===u)return;for(var c=0,d=s-1;(0!==u||c<n)&&-1!==d;d--,c++)u+=o*h[d]>>>0,h[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");n=c,i++}for(var p=s-n;p!==s&&0===h[p];)p++;for(var b=new Uint8Array(r+(s-p)),g=r;p!==s;)b[g++]=h[p++];return b}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===e.length)return"";for(var i=0,r=0,n=0,s=e.length;n!==s&&0===e[n];)n++,i++;for(var l=(s-n)*h+1>>>0,f=new Uint8Array(l);n!==s;){for(var u=e[n],c=0,d=l-1;(0!==u||c<r)&&-1!==d;d--,c++)u+=256*f[d]>>>0,f[d]=u%o>>>0,u=u/o>>>0;if(0!==u)throw Error("Non-zero carry");r=c,n++}for(var p=l-r;p!==l&&0===f[p];)p++;for(var b=a.repeat(i);p<l;++p)b+=t.charAt(f[p]);return b},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw Error("Non-base"+o+" character")}}})("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),uF=(u$=function(t){function e(e){var i=e.slice(0,-4),r=e.slice(-4),n=t(i);if(!(r[0]^n[0]|r[1]^n[1]|r[2]^n[2]|r[3]^n[3]))return i}return{encode:function(e){var i=Uint8Array.from(e),r=t(i),n=i.length+4,s=new Uint8Array(n);return s.set(i,0),s.set(r.subarray(0,4),i.length),uz.encode(s,n)},decode:function(i){var r=e(uz.decode(i),t);if(!r)throw Error("Invalid checksum");return r},decodeUnsafe:function(t){var i=uz.decodeUnsafe(t);if(i)return e(i)}}})(function(t){return uq(uq(t))});const uW=f3.OPS;uB.p2pkh=function(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,uo.typeforce)({network:uo.typeforce.maybe(uo.typeforce.Object),address:uo.typeforce.maybe(uo.typeforce.String),hash:uo.typeforce.maybe(uo.typeforce.BufferN(20)),output:uo.typeforce.maybe(uo.typeforce.BufferN(25)),pubkey:uo.typeforce.maybe(uo.isPoint),signature:uo.typeforce.maybe(f3.isCanonicalScriptSignature),input:uo.typeforce.maybe(uo.typeforce.Buffer)},t);let i=uk.value(()=>{let e=uC.from(uF.decode(t.address));return{version:e.readUInt8(0),hash:e.slice(1)}}),r=uk.value(()=>f3.decompile(t.input)),n=t.network||f0.bitcoin,s={name:"p2pkh",network:n};if(uk.prop(s,"address",()=>{if(!s.hash)return;let t=uC.allocUnsafe(21);return t.writeUInt8(n.pubKeyHash,0),s.hash.copy(t,1),uF.encode(t)}),uk.prop(s,"hash",()=>t.output?t.output.slice(3,23):t.address?i().hash:t.pubkey||s.pubkey?uR.hash160(t.pubkey||s.pubkey):void 0),uk.prop(s,"output",()=>{if(s.hash)return f3.compile([uW.OP_DUP,uW.OP_HASH160,s.hash,uW.OP_EQUALVERIFY,uW.OP_CHECKSIG])}),uk.prop(s,"pubkey",()=>{if(t.input)return r()[1]}),uk.prop(s,"signature",()=>{if(t.input)return r()[0]}),uk.prop(s,"input",()=>{if(t.pubkey&&t.signature)return f3.compile([t.signature,t.pubkey])}),uk.prop(s,"witness",()=>{if(s.input)return[]}),e.validate){let e=uC.from([]);if(t.address){if(i().version!==n.pubKeyHash)throw TypeError("Invalid version or Network mismatch");if(20!==i().hash.length)throw TypeError("Invalid address");e=i().hash}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw TypeError("Hash mismatch");e=t.hash}if(t.output){if(25!==t.output.length||t.output[0]!==uW.OP_DUP||t.output[1]!==uW.OP_HASH160||20!==t.output[2]||t.output[23]!==uW.OP_EQUALVERIFY||t.output[24]!==uW.OP_CHECKSIG)throw TypeError("Output is invalid");let i=t.output.slice(3,23);if(e.length>0&&!e.equals(i))throw TypeError("Hash mismatch");e=i}if(t.pubkey){let i=uR.hash160(t.pubkey);if(e.length>0&&!e.equals(i))throw TypeError("Hash mismatch");e=i}if(t.input){let i=r();if(2!==i.length)throw TypeError("Input is invalid");if(!f3.isCanonicalScriptSignature(i[0]))throw TypeError("Input has invalid signature");if(!(0,uo.isPoint)(i[1]))throw TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(i[0]))throw TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(i[1]))throw TypeError("Pubkey mismatch");let n=uR.hash160(i[1]);if(e.length>0&&!e.equals(n))throw TypeError("Hash mismatch")}}return Object.assign(s,t)},Object.defineProperty(f1,"p2pkh",{enumerable:!0,get:function(){return uB.p2pkh}});var uK={},aX=tE("6ZWSX"),uQ=aX.Buffer;Object.defineProperty(uK,"__esModule",{value:!0}),uK.p2sh=void 0;const uG=f3.OPS;uK.p2sh=function(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,uo.typeforce)({network:uo.typeforce.maybe(uo.typeforce.Object),address:uo.typeforce.maybe(uo.typeforce.String),hash:uo.typeforce.maybe(uo.typeforce.BufferN(20)),output:uo.typeforce.maybe(uo.typeforce.BufferN(23)),redeem:uo.typeforce.maybe({network:uo.typeforce.maybe(uo.typeforce.Object),output:uo.typeforce.maybe(uo.typeforce.Buffer),input:uo.typeforce.maybe(uo.typeforce.Buffer),witness:uo.typeforce.maybe(uo.typeforce.arrayOf(uo.typeforce.Buffer))}),input:uo.typeforce.maybe(uo.typeforce.Buffer),witness:uo.typeforce.maybe(uo.typeforce.arrayOf(uo.typeforce.Buffer))},t);let i=t.network;i||(i=t.redeem&&t.redeem.network||f0.bitcoin);let r={network:i},n=uk.value(()=>{let e=uQ.from(uF.decode(t.address));return{version:e.readUInt8(0),hash:e.slice(1)}}),s=uk.value(()=>f3.decompile(t.input)),o=uk.value(()=>{let e=s(),r=e[e.length-1];return{network:i,output:r===uG.OP_FALSE?uQ.from([]):r,input:f3.compile(e.slice(0,-1)),witness:t.witness||[]}});if(uk.prop(r,"address",()=>{if(!r.hash)return;let t=uQ.allocUnsafe(21);return t.writeUInt8(r.network.scriptHash,0),r.hash.copy(t,1),uF.encode(t)}),uk.prop(r,"hash",()=>t.output?t.output.slice(2,22):t.address?n().hash:r.redeem&&r.redeem.output?uR.hash160(r.redeem.output):void 0),uk.prop(r,"output",()=>{if(r.hash)return f3.compile([uG.OP_HASH160,r.hash,uG.OP_EQUAL])}),uk.prop(r,"redeem",()=>{if(t.input)return o()}),uk.prop(r,"input",()=>{if(t.redeem&&t.redeem.input&&t.redeem.output)return f3.compile([].concat(f3.decompile(t.redeem.input),t.redeem.output))}),uk.prop(r,"witness",()=>r.redeem&&r.redeem.witness?r.redeem.witness:r.input?[]:void 0),uk.prop(r,"name",()=>{let t=["p2sh"];return void 0!==r.redeem&&void 0!==r.redeem.name&&t.push(r.redeem.name),t.join("-")}),e.validate){let e=uQ.from([]);if(t.address){if(n().version!==i.scriptHash)throw TypeError("Invalid version or Network mismatch");if(20!==n().hash.length)throw TypeError("Invalid address");e=n().hash}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw TypeError("Hash mismatch");e=t.hash}if(t.output){if(23!==t.output.length||t.output[0]!==uG.OP_HASH160||20!==t.output[1]||t.output[22]!==uG.OP_EQUAL)throw TypeError("Output is invalid");let i=t.output.slice(2,22);if(e.length>0&&!e.equals(i))throw TypeError("Hash mismatch");e=i}let r=t=>{if(t.output){let i=f3.decompile(t.output);if(!i||i.length<1)throw TypeError("Redeem.output too short");if(t.output.byteLength>520)throw TypeError("Redeem.output unspendable if larger than 520 bytes");if(f3.countNonPushOnlyOPs(i)>201)throw TypeError("Redeem.output unspendable with more than 201 non-push ops");let r=uR.hash160(t.output);if(e.length>0&&!e.equals(r))throw TypeError("Hash mismatch");e=r}if(t.input){let e=t.input.length>0,i=t.witness&&t.witness.length>0;if(!e&&!i)throw TypeError("Empty input");if(e&&i)throw TypeError("Input and witness provided");if(e){let e=f3.decompile(t.input);if(!f3.isPushOnly(e))throw TypeError("Non push-only scriptSig")}}};if(t.input){let t=s();if(!t||t.length<1)throw TypeError("Input too short");if(!uQ.isBuffer(o().output))throw TypeError("Input is invalid");r(o())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw TypeError("Network mismatch");if(t.input){let e=o();if(t.redeem.output&&!t.redeem.output.equals(e.output))throw TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(e.input))throw TypeError("Redeem.input mismatch")}r(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!(0,uo.stacksEqual)(t.redeem.witness,t.witness))throw TypeError("Witness and redeem.witness mismatch")}return Object.assign(r,t)},Object.defineProperty(f1,"p2sh",{enumerable:!0,get:function(){return uK.p2sh}});var uX={},aX=tE("6ZWSX"),uY=aX.Buffer;Object.defineProperty(uX,"__esModule",{value:!0}),uX.p2wpkh=void 0;var uZ={};Object.defineProperty(uZ,"__esModule",{value:!0}),uZ.bech32m=uZ.bech32=void 0;const uJ="qpzry9x8gf2tvdw0s3jn54khce6mua7l",u0={};for(let t=0;t<uJ.length;t++)u0[uJ.charAt(t)]=t;function u1(t){let e=t>>25;return(0x1ffffff&t)<<5^0x3b6a57b2&-(e>>0&1)^0x26508e6d&-(e>>1&1)^0x1ea119fa&-(e>>2&1)^0x3d4233dd&-(e>>3&1)^0x2a1462b3&-(e>>4&1)}function u2(t){let e=1;for(let i=0;i<t.length;++i){let r=t.charCodeAt(i);if(r<33||r>126)return"Invalid prefix ("+t+")";e=u1(e)^r>>5}e=u1(e);for(let i=0;i<t.length;++i){let r=t.charCodeAt(i);e=u1(e)^31&r}return e}function u3(t,e,i,r){let n=0,s=0,o=(1<<i)-1,a=[];for(let r=0;r<t.length;++r)for(n=n<<e|t[r],s+=e;s>=i;)a.push(n>>(s-=i)&o);if(r)s>0&&a.push(n<<i-s&o);else{if(s>=e)return"Excess padding";if(n<<i-s&o)return"Non-zero padding"}return a}function u6(t){return u3(t,8,5,!0)}function u5(t){let e=u3(t,5,8,!1);if(Array.isArray(e))return e}function u8(t){let e=u3(t,5,8,!1);if(Array.isArray(e))return e;throw Error(e)}function u4(t){let e;function i(t,i){if(i=i||90,t.length<8)return t+" too short";if(t.length>i)return"Exceeds length limit";let r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;let s=(t=r).lastIndexOf("1");if(-1===s)return"No separator character for "+t;if(0===s)return"Missing prefix for "+t;let o=t.slice(0,s),a=t.slice(s+1);if(a.length<6)return"Data too short";let l=u2(o);if("string"==typeof l)return l;let h=[];for(let t=0;t<a.length;++t){let e=a.charAt(t),i=u0[e];if(void 0===i)return"Unknown character "+e;l=u1(l)^i,t+6>=a.length||h.push(i)}return l!==e?"Invalid checksum for "+t:{prefix:o,words:h}}return e="bech32"===t?1:0x2bc830a3,{decodeUnsafe:function(t,e){let r=i(t,e);if("object"==typeof r)return r},decode:function(t,e){let r=i(t,e);if("object"==typeof r)return r;throw Error(r)},encode:function(t,i,r){if(r=r||90,t.length+7+i.length>r)throw TypeError("Exceeds length limit");let n=u2(t=t.toLowerCase());if("string"==typeof n)throw Error(n);let s=t+"1";for(let t=0;t<i.length;++t){let e=i[t];if(e>>5!=0)throw Error("Non 5-bit word");n=u1(n)^e,s+=uJ.charAt(e)}for(let t=0;t<6;++t)n=u1(n);n^=e;for(let t=0;t<6;++t){let e=n>>(5-t)*5&31;s+=uJ.charAt(e)}return s},toWords:u6,fromWordsUnsafe:u5,fromWords:u8}}uZ.bech32=u4("bech32"),uZ.bech32m=u4("bech32m");const u9=f3.OPS,u7=uY.alloc(0);uX.p2wpkh=function(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,uo.typeforce)({address:uo.typeforce.maybe(uo.typeforce.String),hash:uo.typeforce.maybe(uo.typeforce.BufferN(20)),input:uo.typeforce.maybe(uo.typeforce.BufferN(0)),network:uo.typeforce.maybe(uo.typeforce.Object),output:uo.typeforce.maybe(uo.typeforce.BufferN(22)),pubkey:uo.typeforce.maybe(uo.isPoint),signature:uo.typeforce.maybe(f3.isCanonicalScriptSignature),witness:uo.typeforce.maybe(uo.typeforce.arrayOf(uo.typeforce.Buffer))},t);let i=uk.value(()=>{let e=uZ.bech32.decode(t.address),i=e.words.shift(),r=uZ.bech32.fromWords(e.words);return{version:i,prefix:e.prefix,data:uY.from(r)}}),r=t.network||f0.bitcoin,n={name:"p2wpkh",network:r};if(uk.prop(n,"address",()=>{if(!n.hash)return;let t=uZ.bech32.toWords(n.hash);return t.unshift(0),uZ.bech32.encode(r.bech32,t)}),uk.prop(n,"hash",()=>t.output?t.output.slice(2,22):t.address?i().data:t.pubkey||n.pubkey?uR.hash160(t.pubkey||n.pubkey):void 0),uk.prop(n,"output",()=>{if(n.hash)return f3.compile([u9.OP_0,n.hash])}),uk.prop(n,"pubkey",()=>t.pubkey?t.pubkey:t.witness?t.witness[1]:void 0),uk.prop(n,"signature",()=>{if(t.witness)return t.witness[0]}),uk.prop(n,"input",()=>{if(n.witness)return u7}),uk.prop(n,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let e=uY.from([]);if(t.address){if(r&&r.bech32!==i().prefix)throw TypeError("Invalid prefix or Network mismatch");if(0!==i().version)throw TypeError("Invalid address version");if(20!==i().data.length)throw TypeError("Invalid address data");e=i().data}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw TypeError("Hash mismatch");e=t.hash}if(t.output){if(22!==t.output.length||t.output[0]!==u9.OP_0||20!==t.output[1])throw TypeError("Output is invalid");if(e.length>0&&!e.equals(t.output.slice(2)))throw TypeError("Hash mismatch");e=t.output.slice(2)}if(t.pubkey){let i=uR.hash160(t.pubkey);if(e.length>0&&!e.equals(i))throw TypeError("Hash mismatch");if(e=i,!(0,uo.isPoint)(t.pubkey)||33!==t.pubkey.length)throw TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(2!==t.witness.length)throw TypeError("Witness is invalid");if(!f3.isCanonicalScriptSignature(t.witness[0]))throw TypeError("Witness has invalid signature");if(!(0,uo.isPoint)(t.witness[1])||33!==t.witness[1].length)throw TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw TypeError("Pubkey mismatch");let i=uR.hash160(t.witness[1]);if(e.length>0&&!e.equals(i))throw TypeError("Hash mismatch")}}return Object.assign(n,t)},Object.defineProperty(f1,"p2wpkh",{enumerable:!0,get:function(){return uX.p2wpkh}});var ct={},aX=tE("6ZWSX"),ce=aX.Buffer;Object.defineProperty(ct,"__esModule",{value:!0}),ct.p2wsh=void 0;const ci=f3.OPS,cr=ce.alloc(0);function cn(t){return!!(ce.isBuffer(t)&&65===t.length&&4===t[0]&&(0,uo.isPoint)(t))}ct.p2wsh=function(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,uo.typeforce)({network:uo.typeforce.maybe(uo.typeforce.Object),address:uo.typeforce.maybe(uo.typeforce.String),hash:uo.typeforce.maybe(uo.typeforce.BufferN(32)),output:uo.typeforce.maybe(uo.typeforce.BufferN(34)),redeem:uo.typeforce.maybe({input:uo.typeforce.maybe(uo.typeforce.Buffer),network:uo.typeforce.maybe(uo.typeforce.Object),output:uo.typeforce.maybe(uo.typeforce.Buffer),witness:uo.typeforce.maybe(uo.typeforce.arrayOf(uo.typeforce.Buffer))}),input:uo.typeforce.maybe(uo.typeforce.BufferN(0)),witness:uo.typeforce.maybe(uo.typeforce.arrayOf(uo.typeforce.Buffer))},t);let i=uk.value(()=>{let e=uZ.bech32.decode(t.address),i=e.words.shift(),r=uZ.bech32.fromWords(e.words);return{version:i,prefix:e.prefix,data:ce.from(r)}}),r=uk.value(()=>f3.decompile(t.redeem.input)),n=t.network;n||(n=t.redeem&&t.redeem.network||f0.bitcoin);let s={network:n};if(uk.prop(s,"address",()=>{if(!s.hash)return;let t=uZ.bech32.toWords(s.hash);return t.unshift(0),uZ.bech32.encode(n.bech32,t)}),uk.prop(s,"hash",()=>t.output?t.output.slice(2):t.address?i().data:s.redeem&&s.redeem.output?uR.sha256(s.redeem.output):void 0),uk.prop(s,"output",()=>{if(s.hash)return f3.compile([ci.OP_0,s.hash])}),uk.prop(s,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:cr,witness:t.witness.slice(0,-1)}}),uk.prop(s,"input",()=>{if(s.witness)return cr}),uk.prop(s,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let e=f3.toStack(r());return s.redeem=Object.assign({witness:e},t.redeem),s.redeem.input=cr,[].concat(e,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),uk.prop(s,"name",()=>{let t=["p2wsh"];return void 0!==s.redeem&&void 0!==s.redeem.name&&t.push(s.redeem.name),t.join("-")}),e.validate){let e=ce.from([]);if(t.address){if(i().prefix!==n.bech32)throw TypeError("Invalid prefix or Network mismatch");if(0!==i().version)throw TypeError("Invalid address version");if(32!==i().data.length)throw TypeError("Invalid address data");e=i().data}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw TypeError("Hash mismatch");e=t.hash}if(t.output){if(34!==t.output.length||t.output[0]!==ci.OP_0||32!==t.output[1])throw TypeError("Output is invalid");let i=t.output.slice(2);if(e.length>0&&!e.equals(i))throw TypeError("Hash mismatch");e=i}if(t.redeem){if(t.redeem.network&&t.redeem.network!==n)throw TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw TypeError("Ambiguous witness source");if(t.redeem.output){let i=f3.decompile(t.redeem.output);if(!i||i.length<1)throw TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw TypeError("Redeem.output unspendable if larger than 3600 bytes");if(f3.countNonPushOnlyOPs(i)>201)throw TypeError("Redeem.output unspendable with more than 201 non-push ops");let r=uR.sha256(t.redeem.output);if(e.length>0&&!e.equals(r))throw TypeError("Hash mismatch");e=r}if(t.redeem.input&&!f3.isPushOnly(r()))throw TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!(0,uo.stacksEqual)(t.witness,t.redeem.witness))throw TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&r().some(cn)||t.redeem.output&&(f3.decompile(t.redeem.output)||[]).some(cn))throw TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let e=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(e))throw TypeError("Witness and redeem.output mismatch");if(t.witness.some(cn)||(f3.decompile(e)||[]).some(cn))throw TypeError("Witness contains uncompressed pubkey")}}return Object.assign(s,t)},Object.defineProperty(f1,"p2wsh",{enumerable:!0,get:function(){return ct.p2wsh}});var cs={};Object.defineProperty(cs,"__esModule",{value:!0}),cs.p2tr=void 0;var aX=tE("6ZWSX"),co={},aX=tE("6ZWSX"),ca=aX.Buffer;Object.defineProperty(co,"__esModule",{value:!0}),co.getEccLib=co.initEccLib=void 0;const cl={};co.initEccLib=function(t,e){var i;t?t!==cl.eccLib&&(e?.DANGER_DO_NOT_VERIFY_ECCLIB||(cf("function"==typeof(i=t).isXOnlyPoint),cf(i.isXOnlyPoint(ch("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),cf(i.isXOnlyPoint(ch("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),cf(i.isXOnlyPoint(ch("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),cf(i.isXOnlyPoint(ch("0000000000000000000000000000000000000000000000000000000000000001"))),cf(!i.isXOnlyPoint(ch("0000000000000000000000000000000000000000000000000000000000000000"))),cf(!i.isXOnlyPoint(ch("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),cf("function"==typeof i.xOnlyPointAddTweak),cu.forEach(t=>{let e=i.xOnlyPointAddTweak(ch(t.pubkey),ch(t.tweak));null===t.result?cf(null===e):(cf(null!==e),cf(e.parity===t.parity),cf(ca.from(e.xOnlyPubkey).equals(ch(t.result))))})),cl.eccLib=t):cl.eccLib=t},co.getEccLib=function(){if(!cl.eccLib)throw Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return cl.eccLib};const ch=t=>ca.from(t,"hex");function cf(t){if(!t)throw Error("ecc library invalid")}const cu=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}];var cc={};Object.defineProperty(cc,"__esModule",{value:!0}),cc.tweakKey=cc.tapTweakHash=cc.tapleafHash=cc.findScriptPath=cc.toHashTree=cc.rootHashFromPath=cc.MAX_TAPTREE_DEPTH=cc.LEAF_VERSION_TAPSCRIPT=void 0;var aX=tE("6ZWSX"),cd={},aX=tE("6ZWSX"),cp=aX.Buffer;Object.defineProperty(cd,"__esModule",{value:!0}),cd.BufferReader=cd.BufferWriter=cd.cloneBuffer=cd.reverseBuffer=cd.writeUInt64LE=cd.readUInt64LE=cd.varuint=void 0;const{typeforce:cb}=uo;var cg={},fs=tE("1U9GM"),cm=fs.Buffer;function cy(t){if(t<0||t>0x1fffffffffffff||t%1!=0)throw RangeError("value out of range")}function cv(t,e,i){if(cy(t),e||(e=cm.allocUnsafe(cw(t))),!cm.isBuffer(e))throw TypeError("buffer must be a Buffer instance");return i||(i=0),t<253?(e.writeUInt8(t,i),cv.bytes=1):t<=65535?(e.writeUInt8(253,i),e.writeUInt16LE(t,i+1),cv.bytes=3):t<=0xffffffff?(e.writeUInt8(254,i),e.writeUInt32LE(t,i+1),cv.bytes=5):(e.writeUInt8(255,i),e.writeUInt32LE(t>>>0,i+1),e.writeUInt32LE(t/0x100000000|0,i+5),cv.bytes=9),e}function c_(t,e){if(!cm.isBuffer(t))throw TypeError("buffer must be a Buffer instance");e||(e=0);var i=t.readUInt8(e);if(i<253)return c_.bytes=1,i;if(253===i)return c_.bytes=3,t.readUInt16LE(e+1);if(254===i)return c_.bytes=5,t.readUInt32LE(e+1);c_.bytes=9;var r=t.readUInt32LE(e+1),n=0x100000000*t.readUInt32LE(e+5)+r;return cy(n),n}function cw(t){return cy(t),t<253?1:t<=65535?3:t<=0xffffffff?5:9}function cx(t,e){if("number"!=typeof t)throw Error("cannot write a non-number as a number");if(t<0)throw Error("specified a negative value for writing an unsigned value");if(t>e)throw Error("RangeError: value out of range");if(Math.floor(t)!==t)throw Error("value has a fractional component")}function cS(t,e){let i=t.readUInt32LE(e),r=t.readUInt32LE(e+4);return cx((r*=0x100000000)+i,0x1fffffffffffff),r+i}function cE(t,e,i){return cx(e,0x1fffffffffffff),t.writeInt32LE(-1&e,i),t.writeUInt32LE(Math.floor(e/0x100000000),i+4),i+8}cd.varuint=cg={encode:cv,decode:c_,encodingLength:cw},cd.readUInt64LE=cS,cd.writeUInt64LE=cE,cd.reverseBuffer=function(t){if(t.length<1)return t;let e=t.length-1,i=0;for(let r=0;r<t.length/2;r++)i=t[r],t[r]=t[e],t[e]=i,e--;return t},cd.cloneBuffer=function(t){let e=cp.allocUnsafe(t.length);return t.copy(e),e};class ck{static withCapacity(t){return new ck(cp.alloc(t))}constructor(t,e=0){this.buffer=t,this.offset=e,cb(uo.tuple(uo.Buffer,uo.UInt32),[t,e])}writeUInt8(t){this.offset=this.buffer.writeUInt8(t,this.offset)}writeInt32(t){this.offset=this.buffer.writeInt32LE(t,this.offset)}writeUInt32(t){this.offset=this.buffer.writeUInt32LE(t,this.offset)}writeUInt64(t){this.offset=cE(this.buffer,t,this.offset)}writeVarInt(t){cg.encode(t,this.buffer,this.offset),this.offset+=cg.encode.bytes}writeSlice(t){if(this.buffer.length<this.offset+t.length)throw Error("Cannot write slice out of bounds");this.offset+=t.copy(this.buffer,this.offset)}writeVarSlice(t){this.writeVarInt(t.length),this.writeSlice(t)}writeVector(t){this.writeVarInt(t.length),t.forEach(t=>this.writeVarSlice(t))}end(){if(this.buffer.length===this.offset)return this.buffer;throw Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}cd.BufferWriter=ck,cd.BufferReader=class{constructor(t,e=0){this.buffer=t,this.offset=e,cb(uo.tuple(uo.Buffer,uo.UInt32),[t,e])}readUInt8(){let t=this.buffer.readUInt8(this.offset);return this.offset++,t}readInt32(){let t=this.buffer.readInt32LE(this.offset);return this.offset+=4,t}readUInt32(){let t=this.buffer.readUInt32LE(this.offset);return this.offset+=4,t}readUInt64(){let t=cS(this.buffer,this.offset);return this.offset+=8,t}readVarInt(){let t=cg.decode(this.buffer,this.offset);return this.offset+=cg.decode.bytes,t}readSlice(t){if(this.buffer.length<this.offset+t)throw Error("Cannot read slice out of bounds");let e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let t=this.readVarInt(),e=[];for(let i=0;i<t;i++)e.push(this.readVarSlice());return e}},cc.LEAF_VERSION_TAPSCRIPT=192,cc.MAX_TAPTREE_DEPTH=128;const cA=t=>"left"in t&&"right"in t;function cM(t){let e=t.version||cc.LEAF_VERSION_TAPSCRIPT;return uR.taggedHash("TapLeaf",aX.Buffer.concat([aX.Buffer.from([e]),function(t){let e=cd.varuint.encodingLength(t.length),i=aX.Buffer.allocUnsafe(e);return cd.varuint.encode(t.length,i),aX.Buffer.concat([i,t])}(t.output)]))}function cT(t,e){return uR.taggedHash("TapTweak",aX.Buffer.concat(e?[t,e]:[t]))}function cI(t,e){return uR.taggedHash("TapBranch",aX.Buffer.concat([t,e]))}cc.rootHashFromPath=function(t,e){if(t.length<33)throw TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let i=(t.length-33)/32,r=e;for(let e=0;e<i;e++){let i=t.slice(33+32*e,65+32*e);r=0>r.compare(i)?cI(r,i):cI(i,r)}return r},cc.toHashTree=function t(e){if((0,uo.isTapleaf)(e))return{hash:cM(e)};let i=[t(e[0]),t(e[1])];i.sort((t,e)=>t.hash.compare(e.hash));let[r,n]=i;return{hash:cI(r.hash,n.hash),left:r,right:n}},cc.findScriptPath=function t(e,i){if(cA(e)){let r=t(e.left,i);if(void 0!==r)return[...r,e.right.hash];let n=t(e.right,i);if(void 0!==n)return[...n,e.left.hash]}else if(e.hash.equals(i))return[]},cc.tapleafHash=cM,cc.tapTweakHash=cT,cc.tweakKey=function(t,e){if(!aX.Buffer.isBuffer(t)||32!==t.length||e&&32!==e.length)return null;let i=cT(t,e),r=(0,co.getEccLib)().xOnlyPointAddTweak(t,i);return r&&null!==r.xOnlyPubkey?{parity:r.parity,x:aX.Buffer.from(r.xOnlyPubkey)}:null};const cP=f3.OPS;cs.p2tr=function(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,uo.typeforce)({address:uo.typeforce.maybe(uo.typeforce.String),input:uo.typeforce.maybe(uo.typeforce.BufferN(0)),network:uo.typeforce.maybe(uo.typeforce.Object),output:uo.typeforce.maybe(uo.typeforce.BufferN(34)),internalPubkey:uo.typeforce.maybe(uo.typeforce.BufferN(32)),hash:uo.typeforce.maybe(uo.typeforce.BufferN(32)),pubkey:uo.typeforce.maybe(uo.typeforce.BufferN(32)),signature:uo.typeforce.maybe(uo.typeforce.anyOf(uo.typeforce.BufferN(64),uo.typeforce.BufferN(65))),witness:uo.typeforce.maybe(uo.typeforce.arrayOf(uo.typeforce.Buffer)),scriptTree:uo.typeforce.maybe(uo.isTaptree),redeem:uo.typeforce.maybe({output:uo.typeforce.maybe(uo.typeforce.Buffer),redeemVersion:uo.typeforce.maybe(uo.typeforce.Number),witness:uo.typeforce.maybe(uo.typeforce.arrayOf(uo.typeforce.Buffer))}),redeemVersion:uo.typeforce.maybe(uo.typeforce.Number)},t);let i=uk.value(()=>(0,fZ.fromBech32)(t.address)),r=uk.value(()=>{if(t.witness&&t.witness.length)return t.witness.length>=2&&80===t.witness[t.witness.length-1][0]?t.witness.slice(0,-1):t.witness.slice()}),n=uk.value(()=>t.scriptTree?(0,cc.toHashTree)(t.scriptTree):t.hash?{hash:t.hash}:void 0),s=t.network||f0.bitcoin,o={name:"p2tr",network:s};if(uk.prop(o,"address",()=>{if(!o.pubkey)return;let t=uZ.bech32m.toWords(o.pubkey);return t.unshift(1),uZ.bech32m.encode(s.bech32,t)}),uk.prop(o,"hash",()=>{let t=n();if(t)return t.hash;let e=r();if(e&&e.length>1){let t=e[e.length-1],i=t[0]&uo.TAPLEAF_VERSION_MASK,r=e[e.length-2],n=(0,cc.tapleafHash)({output:r,version:i});return(0,cc.rootHashFromPath)(t,n)}return null}),uk.prop(o,"output",()=>{if(o.pubkey)return f3.compile([cP.OP_1,o.pubkey])}),uk.prop(o,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&void 0!==t.redeem.redeemVersion&&null!==t.redeem.redeemVersion?t.redeem.redeemVersion:cc.LEAF_VERSION_TAPSCRIPT),uk.prop(o,"redeem",()=>{let t=r();if(t&&!(t.length<2))return{output:t[t.length-2],witness:t.slice(0,-2),redeemVersion:t[t.length-1][0]&uo.TAPLEAF_VERSION_MASK}}),uk.prop(o,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return i().data;if(o.internalPubkey){let t=(0,cc.tweakKey)(o.internalPubkey,o.hash);if(t)return t.x}}),uk.prop(o,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let e=r();if(e&&e.length>1)return e[e.length-1].slice(1,33)}),uk.prop(o,"signature",()=>{if(t.signature)return t.signature;let e=r();if(e&&1===e.length)return e[0]}),uk.prop(o,"witness",()=>{if(t.witness)return t.witness;let e=n();if(e&&t.redeem&&t.redeem.output&&t.internalPubkey){let i=(0,cc.tapleafHash)({output:t.redeem.output,version:o.redeemVersion}),r=(0,cc.findScriptPath)(e,i);if(!r)return;let n=(0,cc.tweakKey)(t.internalPubkey,e.hash);if(!n)return;let s=aX.Buffer.concat([aX.Buffer.from([o.redeemVersion|n.parity]),t.internalPubkey].concat(r));return[t.redeem.output,s]}if(t.signature)return[t.signature]}),e.validate){let e=aX.Buffer.from([]);if(t.address){if(s&&s.bech32!==i().prefix)throw TypeError("Invalid prefix or Network mismatch");if(1!==i().version)throw TypeError("Invalid address version");if(32!==i().data.length)throw TypeError("Invalid address data");e=i().data}if(t.pubkey){if(e.length>0&&!e.equals(t.pubkey))throw TypeError("Pubkey mismatch");e=t.pubkey}if(t.output){if(34!==t.output.length||t.output[0]!==cP.OP_1||32!==t.output[1])throw TypeError("Output is invalid");if(e.length>0&&!e.equals(t.output.slice(2)))throw TypeError("Pubkey mismatch");e=t.output.slice(2)}if(t.internalPubkey){let i=(0,cc.tweakKey)(t.internalPubkey,o.hash);if(e.length>0&&!e.equals(i.x))throw TypeError("Pubkey mismatch");e=i.x}if(e&&e.length&&!(0,co.getEccLib)().isXOnlyPoint(e))throw TypeError("Invalid pubkey for p2tr");let a=n();if(t.hash&&a&&!t.hash.equals(a.hash))throw TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&a){let e=(0,cc.tapleafHash)({output:t.redeem.output,version:o.redeemVersion});if(!(0,cc.findScriptPath)(a,e))throw TypeError("Redeem script not in tree")}let l=r();if(t.redeem&&o.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==o.redeem.redeemVersion)throw TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(0===f3.decompile(t.redeem.output).length)throw TypeError("Redeem.output is invalid");if(o.redeem.output&&!t.redeem.output.equals(o.redeem.output))throw TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&o.redeem.witness&&!(0,uo.stacksEqual)(t.redeem.witness,o.redeem.witness))throw TypeError("Redeem.witness and witness mismatch")}if(l&&l.length){if(1===l.length){if(t.signature&&!t.signature.equals(l[0]))throw TypeError("Signature mismatch")}else{let i=l[l.length-1];if(i.length<33)throw TypeError(`The control-block length is too small. Got ${i.length}, expected min 33.`);if((i.length-33)%32!=0)throw TypeError(`The control-block length of ${i.length} is incorrect!`);let r=(i.length-33)/32;if(r>128)throw TypeError(`The script path is too long. Got ${r}, expected max 128.`);let n=i.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(n))throw TypeError("Internal pubkey mismatch");if(!(0,co.getEccLib)().isXOnlyPoint(n))throw TypeError("Invalid internalPubkey for p2tr witness");let s=i[0]&uo.TAPLEAF_VERSION_MASK,o=l[l.length-2],a=(0,cc.tapleafHash)({output:o,version:s}),h=(0,cc.rootHashFromPath)(i,a),f=(0,cc.tweakKey)(n,h);if(!f)throw TypeError("Invalid outputKey for p2tr witness");if(e.length&&!e.equals(f.x))throw TypeError("Pubkey mismatch for p2tr witness");if(f.parity!==(1&i[0]))throw Error("Incorrect parity")}}}return Object.assign(o,t)},Object.defineProperty(f1,"p2tr",{enumerable:!0,get:function(){return cs.p2tr}});const cO="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function cB(t){let e=fJ.from(uF.decode(t));if(e.length<21)throw TypeError(t+" is too short");if(e.length>21)throw TypeError(t+" is too long");return{version:e.readUInt8(0),hash:e.slice(1)}}function cC(t){let e,i;try{e=uZ.bech32.decode(t)}catch(t){}if(e){if(0!==(i=e.words[0]))throw TypeError(t+" uses wrong encoding")}else if(0===(i=(e=uZ.bech32m.decode(t)).words[0]))throw TypeError(t+" uses wrong encoding");let r=uZ.bech32.fromWords(e.words.slice(1));return{version:i,prefix:e.prefix,data:fJ.from(r)}}function cR(t,e,i){let r=uZ.bech32.toWords(t);return r.unshift(e),0===e?uZ.bech32.encode(i,r):uZ.bech32m.encode(i,r)}fZ.fromBase58Check=cB,fZ.fromBech32=cC,fZ.toBase58Check=function(t,e){(0,uo.typeforce)((0,uo.tuple)(uo.Hash160bit,uo.UInt8),arguments);let i=fJ.allocUnsafe(21);return i.writeUInt8(e,0),t.copy(i,1),uF.encode(i)},fZ.toBech32=cR,fZ.fromOutputScript=function(t,e){e=e||f0.bitcoin;try{return f1.p2pkh({output:t,network:e}).address}catch(t){}try{return f1.p2sh({output:t,network:e}).address}catch(t){}try{return f1.p2wpkh({output:t,network:e}).address}catch(t){}try{return f1.p2wsh({output:t,network:e}).address}catch(t){}try{return f1.p2tr({output:t,network:e}).address}catch(t){}try{return function(t,e){let i=t.slice(2);if(i.length<2||i.length>40)throw TypeError("Invalid program length for segwit address");let r=t[0]-80;if(r<2||r>16)throw TypeError("Invalid version for segwit address");if(t[1]!==i.length)throw TypeError("Invalid script for segwit address");return console.warn(cO),cR(i,r,e.bech32)}(t,e)}catch(t){}throw Error(f3.toASM(t)+" has no matching Address")},fZ.toOutputScript=function(t,e){let i,r;e=e||f0.bitcoin;try{i=cB(t)}catch(t){}if(i){if(i.version===e.pubKeyHash)return f1.p2pkh({hash:i.hash}).output;if(i.version===e.scriptHash)return f1.p2sh({hash:i.hash}).output}else{try{r=cC(t)}catch(t){}if(r){if(r.prefix!==e.bech32)throw Error(t+" has an invalid prefix");if(0===r.version){if(20===r.data.length)return f1.p2wpkh({hash:r.data}).output;if(32===r.data.length)return f1.p2wsh({hash:r.data}).output}else if(1===r.version){if(32===r.data.length)return f1.p2tr({pubkey:r.data}).output}else if(r.version>=2&&r.version<=16&&r.data.length>=2&&r.data.length<=40)return console.warn(cO),f3.compile([r.version+80,r.data])}}throw Error(t+" has no matching Script")},fY.address=fZ,fY.crypto=uR,fY.networks=f0,fY.payments=f1,fY.script=f3;var cL={},aX=tE("6ZWSX"),cN=aX.Buffer;Object.defineProperty(cL,"__esModule",{value:!0}),cL.Block=void 0;var cD={},aX=tE("6ZWSX"),cU=aX.Buffer;Object.defineProperty(cD,"__esModule",{value:!0}),cD.fastMerkleRoot=void 0,cD.fastMerkleRoot=function(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if("function"!=typeof e)throw TypeError("Expected digest Function");let i=t.length,r=t.concat();for(;i>1;){let t=0;for(let n=0;n<i;n+=2,++t){let s=r[n],o=n+1===i?s:r[n+1],a=cU.concat([s,o]);r[t]=e(a)}i=t}return r[0]};var cH={},aX=tE("6ZWSX"),cj=aX.Buffer;Object.defineProperty(cH,"__esModule",{value:!0}),cH.Transaction=void 0;const{typeforce:cF}=uo;function cq(t){let e=t.length;return cd.varuint.encodingLength(e)+e}const c$=cj.allocUnsafe(0),cz=[],cV=cj.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),cW=cj.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),cK={script:c$,valueBuffer:cj.from("ffffffffffffffff","hex")};class cQ{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(t,e){let i=new cd.BufferReader(t),r=new cQ;r.version=i.readInt32();let n=i.readUInt8(),s=i.readUInt8(),o=!1;n===cQ.ADVANCED_TRANSACTION_MARKER&&s===cQ.ADVANCED_TRANSACTION_FLAG?o=!0:i.offset-=2;let a=i.readVarInt();for(let t=0;t<a;++t)r.ins.push({hash:i.readSlice(32),index:i.readUInt32(),script:i.readVarSlice(),sequence:i.readUInt32(),witness:cz});let l=i.readVarInt();for(let t=0;t<l;++t)r.outs.push({value:i.readUInt64(),script:i.readVarSlice()});if(o){for(let t=0;t<a;++t)r.ins[t].witness=i.readVector();if(!r.hasWitnesses())throw Error("Transaction has superfluous witness data")}if(r.locktime=i.readUInt32(),e)return r;if(i.offset!==t.length)throw Error("Transaction has unexpected data");return r}static fromHex(t){return cQ.fromBuffer(cj.from(t,"hex"),!1)}static isCoinbaseHash(t){cF(uo.Hash256bit,t);for(let e=0;e<32;++e)if(0!==t[e])return!1;return!0}isCoinbase(){return 1===this.ins.length&&cQ.isCoinbaseHash(this.ins[0].hash)}addInput(t,e,i,r){return cF(uo.tuple(uo.Hash256bit,uo.UInt32,uo.maybe(uo.UInt32),uo.maybe(uo.Buffer)),arguments),uo.Null(i)&&(i=cQ.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:e,script:r||c$,sequence:i,witness:cz})-1}addOutput(t,e){return cF(uo.tuple(uo.Buffer,uo.Satoshi),arguments),this.outs.push({script:t,value:e})-1}hasWitnesses(){return this.ins.some(t=>0!==t.witness.length)}stripWitnesses(){this.ins.forEach(t=>{t.witness=cz})}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(t=!0){let e=t&&this.hasWitnesses();return(e?10:8)+cd.varuint.encodingLength(this.ins.length)+cd.varuint.encodingLength(this.outs.length)+this.ins.reduce((t,e)=>t+40+cq(e.script),0)+this.outs.reduce((t,e)=>t+8+cq(e.script),0)+(e?this.ins.reduce((t,e)=>t+function(t){let e=t.length;return cd.varuint.encodingLength(e)+t.reduce((t,e)=>t+cq(e),0)}(e.witness),0):0)}clone(){let t=new cQ;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map(t=>({hash:t.hash,index:t.index,script:t.script,sequence:t.sequence,witness:t.witness})),t.outs=this.outs.map(t=>({script:t.script,value:t.value})),t}hashForSignature(t,e,i){if(cF(uo.tuple(uo.UInt32,uo.Buffer,uo.Number),arguments),t>=this.ins.length)return cW;let r=f3.compile(f3.decompile(e).filter(t=>t!==f3.OPS.OP_CODESEPARATOR)),n=this.clone();if((31&i)===cQ.SIGHASH_NONE)n.outs=[],n.ins.forEach((e,i)=>{i!==t&&(e.sequence=0)});else if((31&i)===cQ.SIGHASH_SINGLE){if(t>=this.outs.length)return cW;n.outs.length=t+1;for(let e=0;e<t;e++)n.outs[e]=cK;n.ins.forEach((e,i)=>{i!==t&&(e.sequence=0)})}i&cQ.SIGHASH_ANYONECANPAY?(n.ins=[n.ins[t]],n.ins[0].script=r):(n.ins.forEach(t=>{t.script=c$}),n.ins[t].script=r);let s=cj.allocUnsafe(n.byteLength(!1)+4);return s.writeInt32LE(i,s.length-4),n.__toBuffer(s,0,!1),uR.hash256(s)}hashForWitnessV1(t,e,i,r,n,s){if(cF(uo.tuple(uo.UInt32,cF.arrayOf(uo.Buffer),cF.arrayOf(uo.Satoshi),uo.UInt32),arguments),i.length!==this.ins.length||e.length!==this.ins.length)throw Error("Must supply prevout script and value for all inputs");let o=r===cQ.SIGHASH_DEFAULT?cQ.SIGHASH_ALL:r&cQ.SIGHASH_OUTPUT_MASK,a=(r&cQ.SIGHASH_INPUT_MASK)===cQ.SIGHASH_ANYONECANPAY,l=o===cQ.SIGHASH_NONE,h=o===cQ.SIGHASH_SINGLE,f=c$,u=c$,c=c$,d=c$,p=c$;if(!a){let t=cd.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(e=>{t.writeSlice(e.hash),t.writeUInt32(e.index)}),f=uR.sha256(t.end()),t=cd.BufferWriter.withCapacity(8*this.ins.length),i.forEach(e=>t.writeUInt64(e)),u=uR.sha256(t.end()),t=cd.BufferWriter.withCapacity(e.map(cq).reduce((t,e)=>t+e)),e.forEach(e=>t.writeVarSlice(e)),c=uR.sha256(t.end()),t=cd.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(e=>t.writeUInt32(e.sequence)),d=uR.sha256(t.end())}if(l||h){if(h&&t<this.outs.length){let e=this.outs[t],i=cd.BufferWriter.withCapacity(8+cq(e.script));i.writeUInt64(e.value),i.writeVarSlice(e.script),p=uR.sha256(i.end())}}else{let t=this.outs.map(t=>8+cq(t.script)).reduce((t,e)=>t+e),e=cd.BufferWriter.withCapacity(t);this.outs.forEach(t=>{e.writeUInt64(t.value),e.writeVarSlice(t.script)}),p=uR.sha256(e.end())}let b=2*!!n+ +!!s,g=174-49*!!a-32*!!l+32*!!s+37*!!n,m=cd.BufferWriter.withCapacity(g);if(m.writeUInt8(r),m.writeInt32(this.version),m.writeUInt32(this.locktime),m.writeSlice(f),m.writeSlice(u),m.writeSlice(c),m.writeSlice(d),l||h||m.writeSlice(p),m.writeUInt8(b),a){let r=this.ins[t];m.writeSlice(r.hash),m.writeUInt32(r.index),m.writeUInt64(i[t]),m.writeVarSlice(e[t]),m.writeUInt32(r.sequence)}else m.writeUInt32(t);if(s){let t=cd.BufferWriter.withCapacity(cq(s));t.writeVarSlice(s),m.writeSlice(uR.sha256(t.end()))}return h&&m.writeSlice(p),n&&(m.writeSlice(n),m.writeUInt8(0),m.writeUInt32(0xffffffff)),uR.taggedHash("TapSighash",cj.concat([cj.from([0]),m.end()]))}hashForWitnessV0(t,e,i,r){let n;cF(uo.tuple(uo.UInt32,uo.Buffer,uo.Satoshi,uo.UInt32),arguments);let s=cj.from([]),o=cV,a=cV,l=cV;if(r&cQ.SIGHASH_ANYONECANPAY||(s=cj.allocUnsafe(36*this.ins.length),n=new cd.BufferWriter(s,0),this.ins.forEach(t=>{n.writeSlice(t.hash),n.writeUInt32(t.index)}),a=uR.hash256(s)),r&cQ.SIGHASH_ANYONECANPAY||(31&r)===cQ.SIGHASH_SINGLE||(31&r)===cQ.SIGHASH_NONE||(s=cj.allocUnsafe(4*this.ins.length),n=new cd.BufferWriter(s,0),this.ins.forEach(t=>{n.writeUInt32(t.sequence)}),l=uR.hash256(s)),(31&r)!==cQ.SIGHASH_SINGLE&&(31&r)!==cQ.SIGHASH_NONE){let t=this.outs.reduce((t,e)=>t+8+cq(e.script),0);s=cj.allocUnsafe(t),n=new cd.BufferWriter(s,0),this.outs.forEach(t=>{n.writeUInt64(t.value),n.writeVarSlice(t.script)}),o=uR.hash256(s)}else if((31&r)===cQ.SIGHASH_SINGLE&&t<this.outs.length){let e=this.outs[t];s=cj.allocUnsafe(8+cq(e.script)),(n=new cd.BufferWriter(s,0)).writeUInt64(e.value),n.writeVarSlice(e.script),o=uR.hash256(s)}s=cj.allocUnsafe(156+cq(e)),n=new cd.BufferWriter(s,0);let h=this.ins[t];return n.writeInt32(this.version),n.writeSlice(a),n.writeSlice(l),n.writeSlice(h.hash),n.writeUInt32(h.index),n.writeVarSlice(e),n.writeUInt64(i),n.writeUInt32(h.sequence),n.writeSlice(o),n.writeUInt32(this.locktime),n.writeUInt32(r),uR.hash256(s)}getHash(t){return t&&this.isCoinbase()?cj.alloc(32,0):uR.hash256(this.__toBuffer(void 0,void 0,t))}getId(){return(0,cd.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(t,e){return this.__toBuffer(t,e,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(t,e){cF(uo.tuple(uo.Number,uo.Buffer),arguments),this.ins[t].script=e}setWitness(t,e){cF(uo.tuple(uo.Number,[uo.Buffer]),arguments),this.ins[t].witness=e}__toBuffer(t,e,i=!1){t||(t=cj.allocUnsafe(this.byteLength(i)));let r=new cd.BufferWriter(t,e||0);r.writeInt32(this.version);let n=i&&this.hasWitnesses();return(n&&(r.writeUInt8(cQ.ADVANCED_TRANSACTION_MARKER),r.writeUInt8(cQ.ADVANCED_TRANSACTION_FLAG)),r.writeVarInt(this.ins.length),this.ins.forEach(t=>{r.writeSlice(t.hash),r.writeUInt32(t.index),r.writeVarSlice(t.script),r.writeUInt32(t.sequence)}),r.writeVarInt(this.outs.length),this.outs.forEach(t=>{void 0!==t.value?r.writeUInt64(t.value):r.writeSlice(t.valueBuffer),r.writeVarSlice(t.script)}),n&&this.ins.forEach(t=>{r.writeVector(t.witness)}),r.writeUInt32(this.locktime),void 0!==e)?t.slice(e,r.offset):t}}cH.Transaction=cQ,cQ.DEFAULT_SEQUENCE=0xffffffff,cQ.SIGHASH_DEFAULT=0,cQ.SIGHASH_ALL=1,cQ.SIGHASH_NONE=2,cQ.SIGHASH_SINGLE=3,cQ.SIGHASH_ANYONECANPAY=128,cQ.SIGHASH_OUTPUT_MASK=3,cQ.SIGHASH_INPUT_MASK=128,cQ.ADVANCED_TRANSACTION_MARKER=0,cQ.ADVANCED_TRANSACTION_FLAG=1;const{typeforce:cG}=uo,cX=TypeError("Cannot compute merkle root for zero transactions"),cY=TypeError("Cannot compute witness commit for non-segwit block");class cZ{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(t){if(t.length<80)throw Error("Buffer too small (< 80 bytes)");let e=new cd.BufferReader(t),i=new cZ;if(i.version=e.readInt32(),i.prevHash=e.readSlice(32),i.merkleRoot=e.readSlice(32),i.timestamp=e.readUInt32(),i.bits=e.readUInt32(),i.nonce=e.readUInt32(),80===t.length)return i;let r=()=>{let t=cH.Transaction.fromBuffer(e.buffer.slice(e.offset),!0);return e.offset+=t.byteLength(),t},n=e.readVarInt();i.transactions=[];for(let t=0;t<n;++t){let t=r();i.transactions.push(t)}let s=i.getWitnessCommit();return s&&(i.witnessCommit=s),i}static fromHex(t){return cZ.fromBuffer(cN.from(t,"hex"))}static calculateTarget(t){let e=cN.alloc(32,0);return e.writeUIntBE(8388607&t,29-(((0xff000000&t)>>24)-3),3),e}static calculateMerkleRoot(t,e){if(cG([{getHash:uo.Function}],t),0===t.length)throw cX;if(e&&!cJ(t))throw cY;let i=t.map(t=>t.getHash(e)),r=(0,cD.fastMerkleRoot)(i,uR.hash256);return e?uR.hash256(cN.concat([r,t[0].ins[0].witness[0]])):r}getWitnessCommit(){if(!cJ(this.transactions))return null;let t=this.transactions[0].outs.filter(t=>t.script.slice(0,6).equals(cN.from("6a24aa21a9ed","hex"))).map(t=>t.script.slice(6,38));if(0===t.length)return null;let e=t[t.length-1];return e instanceof cN&&32===e.length?e:null}hasWitnessCommit(){return this.witnessCommit instanceof cN&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){var t;return(t=this.transactions)instanceof Array&&t.some(t=>"object"==typeof t&&t.ins instanceof Array&&t.ins.some(t=>"object"==typeof t&&t.witness instanceof Array&&t.witness.length>0))}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(t,e=!0){return t||!this.transactions?80:80+cd.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((t,i)=>t+i.byteLength(e),0)}getHash(){return uR.hash256(this.toBuffer(!0))}getId(){return(0,cd.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let t=new Date(0);return t.setUTCSeconds(this.timestamp),t}toBuffer(t){let e=cN.allocUnsafe(this.byteLength(t)),i=new cd.BufferWriter(e);return i.writeInt32(this.version),i.writeSlice(this.prevHash),i.writeSlice(this.merkleRoot),i.writeUInt32(this.timestamp),i.writeUInt32(this.bits),i.writeUInt32(this.nonce),t||!this.transactions||(cd.varuint.encode(this.transactions.length,e,i.offset),i.offset+=cd.varuint.encode.bytes,this.transactions.forEach(t=>{let r=t.byteLength();t.toBuffer(e,i.offset),i.offset+=r})),e}toHex(t){return this.toBuffer(t).toString("hex")}checkTxRoots(){let t=this.hasWitnessCommit();return!(!t&&this.hasWitness())&&this.__checkMerkleRoot()&&(!t||this.__checkWitnessCommit())}checkProofOfWork(){let t=(0,cd.reverseBuffer)(this.getHash()),e=cZ.calculateTarget(this.bits);return 0>=t.compare(e)}__checkMerkleRoot(){if(!this.transactions)throw cX;let t=cZ.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(t)}__checkWitnessCommit(){if(!this.transactions)throw cX;if(!this.hasWitnessCommit())throw cY;let t=cZ.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(t)}}function cJ(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}cL.Block=cZ,Object.defineProperty(fY,"Block",{enumerable:!0,get:function(){return cL.Block}});var c0={},aX=tE("6ZWSX"),c1=aX.Buffer;Object.defineProperty(c0,"__esModule",{value:!0}),c0.Psbt=void 0;var c2={},aX=tE("6ZWSX"),c3=aX.Buffer;Object.defineProperty(c2,"__esModule",{value:!0});var c6={};Object.defineProperty(c6,"__esModule",{value:!0});var c5={};function c8(t){for(var e in t)c5.hasOwnProperty(e)||(c5[e]=t[e])}function c4(t,e,i){return r=>{if(t.has(r))return;let n=i.filter(t=>t.key.toString("hex")===r)[0];e.push(n),t.add(r)}}function c9(t){return t.globalMap.unsignedTx}function c7(t){let e=new Set;return t.forEach(t=>{let i=t.key.toString("hex");if(e.has(i))throw Error("Combine: KeyValue Map keys should be unique");e.add(i)}),e}Object.defineProperty(c5,"__esModule",{value:!0}),c8(tE("8zyJG")),c8(tE("iWOny")),c6.combine=function(t){let e=t[0],i=c5.psbtToKeyVals(e),r=t.slice(1);if(0===r.length)throw Error("Combine: Nothing to combine");let n=c9(e);if(void 0===n)throw Error("Combine: Self missing transaction");let s=c7(i.globalKeyVals),o=i.inputKeyVals.map(c7),a=i.outputKeyVals.map(c7);for(let t of r){let e=c9(t);if(void 0===e||!e.toBuffer().equals(n.toBuffer()))throw Error("Combine: One of the Psbts does not have the same transaction.");let r=c5.psbtToKeyVals(t);c7(r.globalKeyVals).forEach(c4(s,i.globalKeyVals,r.globalKeyVals)),r.inputKeyVals.map(c7).forEach((t,e)=>t.forEach(c4(o[e],i.inputKeyVals[e],r.inputKeyVals[e]))),r.outputKeyVals.map(c7).forEach((t,e)=>t.forEach(c4(a[e],i.outputKeyVals[e],r.outputKeyVals[e])))}return c5.psbtFromKeyVals(n,{globalMapKeyVals:i.globalKeyVals,inputKeyVals:i.inputKeyVals,outputKeyVals:i.outputKeyVals})};var dt=tE("qpq9i"),de={},aX=tE("6ZWSX"),di=aX.Buffer;Object.defineProperty(de,"__esModule",{value:!0});var dr=tE("7H7c4");function dn(t,e){let i=t[e];if(void 0===i)throw Error(`No input #${e}`);return i}function ds(t,e){let i=t[e];if(void 0===i)throw Error(`No output #${e}`);return i}function da(t,e,i,r){throw Error(`Data for ${t} key ${e} is incorrect: Expected ${i} and got ${JSON.stringify(r)}`)}function dl(t){return(e,i)=>{for(let r of Object.keys(e)){let n=e[r],{canAdd:s,canAddToArray:o,check:a,expected:l}=dr[t+"s"][r]||{},h=!!o;if(a){if(h){if(!Array.isArray(n)||i[r]&&!Array.isArray(i[r]))throw Error(`Key type ${r} must be an array`);n.every(a)||da(t,r,l,n);let e=i[r]||[],s=new Set;if(!n.every(t=>o(e,t,s)))throw Error("Can not add duplicate data to array");i[r]=e.concat(n)}else{if(a(n)||da(t,r,l,n),!s(i,n))throw Error(`Can not add duplicate data to ${t}`);i[r]=n}}}}}de.checkForInput=dn,de.checkForOutput=ds,de.checkHasKey=function(t,e,i){if(t.key[0]<i)throw Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&0!==e.filter(e=>e.key.equals(t.key)).length)throw Error(`Duplicate Key: ${t.key.toString("hex")}`)},de.getEnumLength=function(t){let e=0;return Object.keys(t).forEach(t=>{Number(isNaN(Number(t)))&&e++}),e},de.inputCheckUncleanFinalized=function(t,e){let i=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let t=!!e.redeemScript,r=!!e.witnessScript,n=!t||!!e.finalScriptSig,s=!r||!!e.finalScriptWitness,o=!!e.finalScriptSig||!!e.finalScriptWitness;i=n&&s&&o}if(!1===i)throw Error(`Input #${t} has too much or too little data to clean`)},de.updateGlobal=dl("global"),de.updateInput=dl("input"),de.updateOutput=dl("output"),de.addInputAttributes=function(t,e){let i=t.length-1,r=dn(t,i);de.updateInput(e,r)},de.addOutputAttributes=function(t,e){let i=t.length-1,r=ds(t,i);de.updateOutput(e,r)},de.defaultVersionSetter=function(t,e){if(!di.isBuffer(e)||e.length<4)throw Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e},de.defaultLocktimeSetter=function(t,e){if(!di.isBuffer(e)||e.length<4)throw Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e},c2.Psbt=class{constructor(t){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:t}}static fromBase64(t,e){let i=c3.from(t,"base64");return this.fromBuffer(i,e)}static fromHex(t,e){let i=c3.from(t,"hex");return this.fromBuffer(i,e)}static fromBuffer(t,e){let i=c5.psbtFromBuffer(t,e),r=new this(i.globalMap.unsignedTx);return Object.assign(r,i),r}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return c5.psbtToBuffer(this)}updateGlobal(t){return de.updateGlobal(t,this.globalMap),this}updateInput(t,e){let i=de.checkForInput(this.inputs,t);return de.updateInput(e,i),this}updateOutput(t,e){let i=de.checkForOutput(this.outputs,t);return de.updateOutput(e,i),this}addUnknownKeyValToGlobal(t){return de.checkHasKey(t,this.globalMap.unknownKeyVals,de.getEnumLength(dt.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(t),this}addUnknownKeyValToInput(t,e){let i=de.checkForInput(this.inputs,t);return de.checkHasKey(e,i.unknownKeyVals,de.getEnumLength(dt.InputTypes)),i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(e),this}addUnknownKeyValToOutput(t,e){let i=de.checkForOutput(this.outputs,t);return de.checkHasKey(e,i.unknownKeyVals,de.getEnumLength(dt.OutputTypes)),i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(e),this}addInput(t){this.globalMap.unsignedTx.addInput(t),this.inputs.push({unknownKeyVals:[]});let e=t.unknownKeyVals||[],i=this.inputs.length-1;if(!Array.isArray(e))throw Error("unknownKeyVals must be an Array");return e.forEach(t=>this.addUnknownKeyValToInput(i,t)),de.addInputAttributes(this.inputs,t),this}addOutput(t){this.globalMap.unsignedTx.addOutput(t),this.outputs.push({unknownKeyVals:[]});let e=t.unknownKeyVals||[],i=this.outputs.length-1;if(!Array.isArray(e))throw Error("unknownKeyVals must be an Array");return e.forEach(t=>this.addUnknownKeyValToOutput(i,t)),de.addOutputAttributes(this.outputs,t),this}clearFinalizedInput(t){let e=de.checkForInput(this.inputs,t);for(let i of(de.inputCheckUncleanFinalized(t,e),Object.keys(e)))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(i)||delete e[i];return this}combine(...t){return Object.assign(this,c6.combine([this].concat(t))),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};var dh=tE("gjBY1"),df={},aX=tE("6ZWSX"),du=aX.Buffer;Object.defineProperty(df,"__esModule",{value:!0}),df.checkTaprootInputForSigs=df.tapTreeFromList=df.tapTreeToList=df.tweakInternalPubKey=df.checkTaprootOutputFields=df.checkTaprootInputFields=df.isTaprootOutput=df.isTaprootInput=df.serializeTaprootSignature=df.tapScriptFinalizer=df.toXOnly=void 0;var dc={},aX=tE("6ZWSX"),dd=aX.Buffer;Object.defineProperty(dc,"__esModule",{value:!0}),dc.signatureBlocksAction=dc.checkInputForSig=dc.pubkeyInScript=dc.pubkeyPositionInScript=dc.witnessStackToScriptWitness=dc.isP2TR=dc.isP2SHScript=dc.isP2WSHScript=dc.isP2WPKH=dc.isP2PKH=dc.isP2PK=dc.isP2MS=void 0;var dh=tE("gjBY1");function dp(t){return e=>{try{return t({output:e}),!0}catch(t){return!1}}}function db(t,e){let i=(0,uR.hash160)(t),r=t.slice(1,33),n=f3.decompile(e);if(null===n)throw Error("Unknown script error");return n.findIndex(e=>"number"!=typeof e&&(e.equals(t)||e.equals(i)||e.equals(r)))}function dg(t,e,i){let{hashType:r}=e(t),n=[];switch(r&cH.Transaction.SIGHASH_ANYONECANPAY&&n.push("addInput"),31&r){case cH.Transaction.SIGHASH_ALL:break;case cH.Transaction.SIGHASH_SINGLE:case cH.Transaction.SIGHASH_NONE:n.push("addOutput"),n.push("setInputSequence")}return -1===n.indexOf(i)}function dm(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,dc.isP2TR)(t.witnessUtxo.script))}function dy(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,dc.isP2TR)(e))}function dv(t=[]){return 1===t.length&&0===t[0].depth?{output:t[0].script,version:t[0].leafVersion}:function(t){let e;for(let i of t)if(!(e=function t(e,i,r=0){if(r>cc.MAX_TAPTREE_DEPTH)throw Error("Max taptree depth exceeded.");if(e.depth===r)return i?void 0:{output:e.script,version:e.leafVersion};if((0,uo.isTapleaf)(i))return;let n=t(e,i&&i[0],r+1);if(n)return[n,i&&i[1]];let s=t(e,i&&i[1],r+1);if(s)return[i&&i[0],s]}(i,e)))throw Error("No room left to insert tapleaf in tree");return e}(t)}function d_(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||cH.Transaction.SIGHASH_DEFAULT}}function dw(t,e){if(!e)return!0;let i=(0,cc.tapleafHash)({output:t.script,version:t.leafVersion});return(0,cc.rootHashFromPath)(t.controlBlock,i).equals(e)}function dx(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}dc.isP2MS=dp(f1.p2ms),dc.isP2PK=dp(f1.p2pk),dc.isP2PKH=dp(f1.p2pkh),dc.isP2WPKH=dp(f1.p2wpkh),dc.isP2WSHScript=dp(f1.p2wsh),dc.isP2SHScript=dp(f1.p2sh),dc.isP2TR=dp(f1.p2tr),dc.witnessStackToScriptWitness=function(t){let e=dd.allocUnsafe(0);function i(t){let i=e.length,r=dh.encodingLength(t);e=dd.concat([e,dd.allocUnsafe(r)]),dh.encode(t,e,i)}return i(t.length),t.forEach(function(t){i(t.length),e=dd.concat([e,dd.from(t)])}),e},dc.pubkeyPositionInScript=db,dc.pubkeyInScript=function(t,e){return -1!==db(t,e)},dc.checkInputForSig=function(t,e){return(function(t){let e=[];if(0===(t.partialSig||[]).length){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=function(t){let e=t.finalScriptSig&&f3.decompile(t.finalScriptSig)||[],i=t.finalScriptWitness&&f3.decompile(t.finalScriptWitness)||[];return e.concat(i).filter(t=>dd.isBuffer(t)&&f3.isCanonicalScriptSignature(t)).map(t=>({signature:t}))}(t)}else e=t.partialSig;return e.map(t=>t.signature)})(t).some(t=>dg(t,f3.signature.decode,e))},dc.signatureBlocksAction=dg,df.toXOnly=t=>32===t.length?t:t.slice(1,33),df.tapScriptFinalizer=function(t,e,i){let r=function(t,e,i){if(!t.tapScriptSig||!t.tapScriptSig.length)throw Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let r=(t.tapLeafScript||[]).sort((t,e)=>t.controlBlock.length-e.controlBlock.length).find(e=>(function(t,e,i){let r=(0,cc.tapleafHash)({output:t.script,version:t.leafVersion});return(!i||i.equals(r))&&void 0!==e.find(t=>t.leafHash.equals(r))})(e,t.tapScriptSig,i));if(!r)throw Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return r}(e,t,i);try{let t=(function(t,e){let i=(0,cc.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(t=>t.leafHash.equals(i)).map(t=>{var i,r;return i=e.script,r=t,Object.assign({positionInScript:(0,dc.pubkeyPositionInScript)(r.pubkey,i)},r)}).sort((t,e)=>e.positionInScript-t.positionInScript).map(t=>t.signature)})(e,r).concat(r.script).concat(r.controlBlock);return{finalScriptWitness:(0,dc.witnessStackToScriptWitness)(t)}}catch(e){throw Error(`Can not finalize taproot input #${t}: ${e}`)}},df.serializeTaprootSignature=function(t,e){let i=e?du.from([e]):du.from([]);return du.concat([t,i])},df.isTaprootInput=dm,df.isTaprootOutput=dy,df.checkTaprootInputFields=function(t,e,i){(function(t,e,i){let r=dm(t)&&dx(e),n=dx(t)&&dm(e),s=t===e&&dm(e)&&dx(e);if(r||n||s)throw Error(`Invalid arguments for Psbt.${i}. Cannot use both taproot and non-taproot fields.`)})(t,e,i),function(t,e,i){if(e.tapMerkleRoot){let r=(e.tapLeafScript||[]).every(t=>dw(t,e.tapMerkleRoot)),n=(t.tapLeafScript||[]).every(t=>dw(t,e.tapMerkleRoot));if(!r||!n)throw Error(`Invalid arguments for Psbt.${i}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(e=>dw(e,t.tapMerkleRoot)))throw Error(`Invalid arguments for Psbt.${i}. Tapleaf not part of taptree.`)}(t,e,i)},df.checkTaprootOutputFields=function(t,e,i){(function(t,e,i){let r=dy(t)&&dx(e),n=dx(t)&&dy(e),s=t===e&&dy(e)&&dx(e);if(r||n||s)throw Error(`Invalid arguments for Psbt.${i}. Cannot use both taproot and non-taproot fields.`)})(t,e,i),function(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let i=e.tapInternalKey||t.tapInternalKey,r=e.tapTree||t.tapTree;if(i){let{script:e}=t,n=function(t,e){let i=e&&dv(e.leaves),{output:r}=(0,f1.p2tr)({internalPubkey:t,scriptTree:i});return r}(i,r);if(e&&!e.equals(n))throw Error("Error adding output. Script or address missmatch.")}}(t,e)},df.tweakInternalPubKey=function(t,e){let i=e.tapInternalKey,r=i&&(0,cc.tweakKey)(i,e.tapMerkleRoot);if(!r)throw Error(`Cannot tweak tap internal key for input #${t}. Public key: ${i&&i.toString("hex")}`);return r.x},df.tapTreeToList=function(t){if(!(0,uo.isTaptree)(t))throw Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return function t(e,i=[],r=0){if(r>cc.MAX_TAPTREE_DEPTH)throw Error("Max taptree depth exceeded.");return e?((0,uo.isTapleaf)(e)?i.push({depth:r,leafVersion:e.version||cc.LEAF_VERSION_TAPSCRIPT,script:e.output}):(e[0]&&t(e[0],i,r+1),e[1]&&t(e[1],i,r+1)),i):[]}(t)},df.tapTreeFromList=dv,df.checkTaprootInputForSigs=function(t,e){return(function(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(t=>t.signature)),!e.length){let i=function(t){if(!t)return;let e=t.slice(2);if(64===e.length||65===e.length)return e}(t.finalScriptWitness);i&&e.push(i)}return e})(t).some(t=>(0,dc.signatureBlocksAction)(t,d_,e))};const dS={network:f0.bitcoin,maximumFeeRate:5e3};class dE{static fromBase64(t,e={}){let i=c1.from(t,"base64");return this.fromBuffer(i,e)}static fromHex(t,e={}){let i=c1.from(t,"hex");return this.fromBuffer(i,e)}static fromBuffer(t,e={}){let i=new dE(e,c2.Psbt.fromBuffer(t,dk));return function(t,e){t.ins.forEach(t=>{dR(e,t)})}(i.__CACHE.__TX,i.__CACHE),i}constructor(t={},e=new c2.Psbt(new dA)){this.data=e,this.opts=Object.assign({},dS,t),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);let i=(t,e,i,r)=>Object.defineProperty(t,e,{enumerable:i,writable:r});i(this,"__CACHE",!1,!0),i(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(t){this.setVersion(t)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(t){this.setLocktime(t)}get txInputs(){return this.__CACHE.__TX.ins.map(t=>({hash:(0,cd.cloneBuffer)(t.hash),index:t.index,sequence:t.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(t=>{let e;try{e=(0,fZ.fromOutputScript)(t.script,this.opts.network)}catch(t){}return{script:(0,cd.cloneBuffer)(t.script),value:t.value,address:e}})}combine(...t){return this.data.combine(...t.map(t=>t.data)),this}clone(){let t=dE.fromBuffer(this.data.toBuffer());return t.opts=JSON.parse(JSON.stringify(this.opts)),t}setMaximumFeeRate(t){dO(t),this.opts.maximumFeeRate=t}setVersion(t){dO(t),dB(this.data.inputs,"setVersion");let e=this.__CACHE;return e.__TX.version=t,e.__EXTRACTED_TX=void 0,this}setLocktime(t){dO(t),dB(this.data.inputs,"setLocktime");let e=this.__CACHE;return e.__TX.locktime=t,e.__EXTRACTED_TX=void 0,this}setInputSequence(t,e){dO(e),dB(this.data.inputs,"setInputSequence");let i=this.__CACHE;if(i.__TX.ins.length<=t)throw Error("Input index too high");return i.__TX.ins[t].sequence=e,i.__EXTRACTED_TX=void 0,this}addInputs(t){return t.forEach(t=>this.addInput(t)),this}addInput(t){if(arguments.length>1||!t||void 0===t.hash||void 0===t.index)throw Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,df.checkTaprootInputFields)(t,t,"addInput"),dB(this.data.inputs,"addInput"),t.witnessScript&&d1(t.witnessScript);let e=this.__CACHE;this.data.addInput(t);let i=e.__TX.ins[e.__TX.ins.length-1];dR(e,i);let r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&dQ(this.__CACHE,n,r),e.__FEE=void 0,e.__FEE_RATE=void 0,e.__EXTRACTED_TX=void 0,this}addOutputs(t){return t.forEach(t=>this.addOutput(t)),this}addOutput(t){if(arguments.length>1||!t||void 0===t.value||void 0===t.address&&void 0===t.script)throw Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");dB(this.data.inputs,"addOutput");let{address:e}=t;if("string"==typeof e){let{network:i}=this.opts,r=(0,fZ.toOutputScript)(e,i);t=Object.assign({},t,{script:r})}(0,df.checkTaprootOutputFields)(t,t,"addOutput");let i=this.__CACHE;return this.data.addOutput(t),i.__FEE=void 0,i.__FEE_RATE=void 0,i.__EXTRACTED_TX=void 0,this}extractTransaction(t){if(!this.data.inputs.every(dI))throw Error("Not finalized");let e=this.__CACHE;if(t||function(t,e,i){let r=e.__FEE_RATE||t.getFeeRate(),n=e.__EXTRACTED_TX.virtualSize();if(r>=i.maximumFeeRate)throw Error(`Warning: You are paying around ${(r*n/1e8).toFixed(8)} in fees, which is ${r} satoshi per byte for a transaction with a VSize of ${n} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,e,this.opts),e.__EXTRACTED_TX)return e.__EXTRACTED_TX;let i=e.__TX.clone();return dG(this.data.inputs,i,e,!0),i}getFeeRate(){return dU("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return dU("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,de.checkForInput)(this.data.inputs,0),d3(this.data.inputs.length).forEach(t=>this.finalizeInput(t)),this}finalizeInput(t,e){let i=(0,de.checkForInput)(this.data.inputs,t);return(0,df.isTaprootInput)(i)?this._finalizeTaprootInput(t,i,void 0,e):this._finalizeInput(t,i,e)}finalizeTaprootInput(t,e,i=df.tapScriptFinalizer){let r=(0,de.checkForInput)(this.data.inputs,t);if((0,df.isTaprootInput)(r))return this._finalizeTaprootInput(t,r,e,i);throw Error(`Cannot finalize input #${t}. Not Taproot.`)}_finalizeInput(t,e,i=dH){let{script:r,isP2SH:n,isP2WSH:s,isSegwit:o}=function(t,e,i){let r=i.__TX,n={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(n.isP2SH=!!e.redeemScript,n.isP2WSH=!!e.witnessScript,e.witnessScript)n.script=e.witnessScript;else if(e.redeemScript)n.script=e.redeemScript;else if(e.nonWitnessUtxo){let s=dX(i,e,t),o=r.ins[t].index;n.script=s.outs[o].script}else e.witnessUtxo&&(n.script=e.witnessUtxo.script);return(e.witnessScript||(0,dc.isP2WPKH)(n.script))&&(n.isSegwit=!0),n}(t,e,this.__CACHE);if(!r)throw Error(`No script found for input #${t}`);!function(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:i}=t;e.forEach(t=>{let{hashType:e}=f3.signature.decode(t.signature);if(i!==e)throw Error("Signature sighash does not match input sighash type")})}(e);let{finalScriptSig:a,finalScriptWitness:l}=i(t,e,r,o,n,s);if(a&&this.data.updateInput(t,{finalScriptSig:a}),l&&this.data.updateInput(t,{finalScriptWitness:l}),!a&&!l)throw Error(`Unknown error finalizing input #${t}`);return this.data.clearFinalizedInput(t),this}_finalizeTaprootInput(t,e,i,r=df.tapScriptFinalizer){if(!e.witnessUtxo)throw Error(`Cannot finalize input #${t}. Missing withness utxo.`);if(e.tapKeySig){let i=f1.p2tr({output:e.witnessUtxo.script,signature:e.tapKeySig}),r=(0,dc.witnessStackToScriptWitness)(i.witness);this.data.updateInput(t,{finalScriptWitness:r})}else{let{finalScriptWitness:n}=r(t,e,i);this.data.updateInput(t,{finalScriptWitness:n})}return this.data.clearFinalizedInput(t),this}getInputType(t){let e=(0,de.checkForInput)(this.data.inputs,t),i=d0(dY(t,e,this.__CACHE),t,"input",e.redeemScript||function(t){var e;if(!t)return;let i=f3.decompile(t);if(!i)return;let r=i[i.length-1];if(!(!c1.isBuffer(r)||dJ(r)||(e=r,f3.isCanonicalScriptSignature(e)))&&f3.decompile(r))return r}(e.finalScriptSig),e.witnessScript||function(t){if(!t)return;let e=dK(t),i=e[e.length-1];if(!dJ(i)&&f3.decompile(i))return i}(e.finalScriptWitness));return("raw"===i.type?"":i.type+"-")+d2(i.meaningfulScript)}inputHasPubkey(t,e){return function(t,e,i,r){let{meaningfulScript:n}=d0(dY(i,e,r),i,"input",e.redeemScript,e.witnessScript);return(0,dc.pubkeyInScript)(t,n)}(e,(0,de.checkForInput)(this.data.inputs,t),t,this.__CACHE)}inputHasHDKey(t,e){let i=(0,de.checkForInput)(this.data.inputs,t),r=dP(e);return!!i.bip32Derivation&&i.bip32Derivation.some(r)}outputHasPubkey(t,e){return function(t,e,i,r){let{meaningfulScript:n}=d0(r.__TX.outs[i].script,i,"output",e.redeemScript,e.witnessScript);return(0,dc.pubkeyInScript)(t,n)}(e,(0,de.checkForOutput)(this.data.outputs,t),t,this.__CACHE)}outputHasHDKey(t,e){let i=(0,de.checkForOutput)(this.data.outputs,t),r=dP(e);return!!i.bip32Derivation&&i.bip32Derivation.some(r)}validateSignaturesOfAllInputs(t){return(0,de.checkForInput)(this.data.inputs,0),d3(this.data.inputs.length).map(e=>this.validateSignaturesOfInput(e,t)).reduce((t,e)=>!0===e&&t,!0)}validateSignaturesOfInput(t,e,i){let r=this.data.inputs[t];return(0,df.isTaprootInput)(r)?this.validateSignaturesOfTaprootInput(t,e,i):this._validateSignaturesOfInput(t,e,i)}_validateSignaturesOfInput(t,e,i){let r,n,s,o=this.data.inputs[t],a=(o||{}).partialSig;if(!o||!a||a.length<1)throw Error("No signatures to validate");if("function"!=typeof e)throw Error("Need validator function to validate signatures");let l=i?a.filter(t=>t.pubkey.equals(i)):a;if(l.length<1)throw Error("No signatures for this pubkey");let h=[];for(let i of l){let a=f3.signature.decode(i.signature),{hash:l,script:f}=s!==a.hashType?dF(t,Object.assign({},o,{sighashType:a.hashType}),this.__CACHE,!0):{hash:r,script:n};s=a.hashType,r=l,n=f,dC(i.pubkey,f,"verify"),h.push(e(i.pubkey,l,a.signature))}return h.every(t=>!0===t)}validateSignaturesOfTaprootInput(t,e,i){let r=this.data.inputs[t],n=(r||{}).tapKeySig,s=(r||{}).tapScriptSig;if(!r&&!n&&!(s&&!s.length))throw Error("No signatures to validate");if("function"!=typeof e)throw Error("Need validator function to validate signatures");let o=(i=i&&(0,df.toXOnly)(i))?dz(t,r,this.data.inputs,i,this.__CACHE):function(t,e,i,r){let n=[];if(e.tapInternalKey){let i=dq(t,e,r);i&&n.push(i)}if(e.tapScriptSig){let t=e.tapScriptSig.map(t=>t.pubkey);n.push(...t)}return n.map(n=>dz(t,e,i,n,r)).flat()}(t,r,this.data.inputs,this.__CACHE);if(!o.length)throw Error("No signatures for this pubkey");let a=o.find(t=>!t.leafHash),l=0;if(n&&a){if(!e(a.pubkey,a.hash,d$(n)))return!1;l++}if(s)for(let t of s){let i=o.find(e=>t.pubkey.equals(e.pubkey));if(i){if(!e(t.pubkey,i.hash,d$(t.signature)))return!1;l++}}return l>0}signAllInputsHD(t,e=[cH.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw Error("Need HDSigner to sign input");let i=[];for(let r of d3(this.data.inputs.length))try{this.signInputHD(r,t,e),i.push(!0)}catch(t){i.push(!1)}if(i.every(t=>!1===t))throw Error("No inputs were signed");return this}signAllInputsHDAsync(t,e=[cH.Transaction.SIGHASH_ALL]){return new Promise((i,r)=>{if(!t||!t.publicKey||!t.fingerprint)return r(Error("Need HDSigner to sign input"));let n=[],s=[];for(let i of d3(this.data.inputs.length))s.push(this.signInputHDAsync(i,t,e).then(()=>{n.push(!0)},()=>{n.push(!1)}));return Promise.all(s).then(()=>{if(n.every(t=>!1===t))return r(Error("No inputs were signed"));i()})})}signInputHD(t,e,i=[cH.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw Error("Need HDSigner to sign input");return dW(t,this.data.inputs,e).forEach(e=>this.signInput(t,e,i)),this}signInputHDAsync(t,e,i=[cH.Transaction.SIGHASH_ALL]){return new Promise((r,n)=>e&&e.publicKey&&e.fingerprint?Promise.all(dW(t,this.data.inputs,e).map(e=>this.signInputAsync(t,e,i))).then(()=>{r()}).catch(n):n(Error("Need HDSigner to sign input")))}signAllInputs(t,e){if(!t||!t.publicKey)throw Error("Need Signer to sign input");let i=[];for(let r of d3(this.data.inputs.length))try{this.signInput(r,t,e),i.push(!0)}catch(t){i.push(!1)}if(i.every(t=>!1===t))throw Error("No inputs were signed");return this}signAllInputsAsync(t,e){return new Promise((i,r)=>{if(!t||!t.publicKey)return r(Error("Need Signer to sign input"));let n=[],s=[];for(let[i]of this.data.inputs.entries())s.push(this.signInputAsync(i,t,e).then(()=>{n.push(!0)},()=>{n.push(!1)}));return Promise.all(s).then(()=>{if(n.every(t=>!1===t))return r(Error("No inputs were signed"));i()})})}signInput(t,e,i){if(!e||!e.publicKey)throw Error("Need Signer to sign input");let r=(0,de.checkForInput)(this.data.inputs,t);return(0,df.isTaprootInput)(r)?this._signTaprootInput(t,r,e,void 0,i):this._signInput(t,e,i)}signTaprootInput(t,e,i,r){if(!e||!e.publicKey)throw Error("Need Signer to sign input");let n=(0,de.checkForInput)(this.data.inputs,t);if((0,df.isTaprootInput)(n))return this._signTaprootInput(t,n,e,i,r);throw Error(`Input #${t} is not of type Taproot.`)}_signInput(t,e,i=[cH.Transaction.SIGHASH_ALL]){let{hash:r,sighashType:n}=dj(this.data.inputs,t,e.publicKey,this.__CACHE,i),s=[{pubkey:e.publicKey,signature:f3.signature.encode(e.sign(r),n)}];return this.data.updateInput(t,{partialSig:s}),this}_signTaprootInput(t,e,i,r,n=[cH.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(t,e,i,r,n),o=s.filter(t=>!t.leafHash).map(t=>(0,df.serializeTaprootSignature)(i.signSchnorr(t.hash),e.sighashType))[0],a=s.filter(t=>!!t.leafHash).map(t=>({pubkey:(0,df.toXOnly)(i.publicKey),signature:(0,df.serializeTaprootSignature)(i.signSchnorr(t.hash),e.sighashType),leafHash:t.leafHash}));return o&&this.data.updateInput(t,{tapKeySig:o}),a.length&&this.data.updateInput(t,{tapScriptSig:a}),this}signInputAsync(t,e,i){return Promise.resolve().then(()=>{if(!e||!e.publicKey)throw Error("Need Signer to sign input");let r=(0,de.checkForInput)(this.data.inputs,t);return(0,df.isTaprootInput)(r)?this._signTaprootInputAsync(t,r,e,void 0,i):this._signInputAsync(t,e,i)})}signTaprootInputAsync(t,e,i,r){return Promise.resolve().then(()=>{if(!e||!e.publicKey)throw Error("Need Signer to sign input");let n=(0,de.checkForInput)(this.data.inputs,t);if((0,df.isTaprootInput)(n))return this._signTaprootInputAsync(t,n,e,i,r);throw Error(`Input #${t} is not of type Taproot.`)})}_signInputAsync(t,e,i=[cH.Transaction.SIGHASH_ALL]){let{hash:r,sighashType:n}=dj(this.data.inputs,t,e.publicKey,this.__CACHE,i);return Promise.resolve(e.sign(r)).then(i=>{let r=[{pubkey:e.publicKey,signature:f3.signature.encode(i,n)}];this.data.updateInput(t,{partialSig:r})})}async _signTaprootInputAsync(t,e,i,r,n=[cH.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(t,e,i,r,n),o=[],a=s.filter(t=>!t.leafHash)[0];if(a){let t=Promise.resolve(i.signSchnorr(a.hash)).then(t=>({tapKeySig:(0,df.serializeTaprootSignature)(t,e.sighashType)}));o.push(t)}let l=s.filter(t=>!!t.leafHash);if(l.length){let t=l.map(t=>Promise.resolve(i.signSchnorr(t.hash)).then(r=>({tapScriptSig:[{pubkey:(0,df.toXOnly)(i.publicKey),signature:(0,df.serializeTaprootSignature)(r,e.sighashType),leafHash:t.leafHash}]})));o.push(...t)}return Promise.all(o).then(e=>{e.forEach(e=>this.data.updateInput(t,e))})}checkTaprootHashesForSig(t,e,i,r,n){if("function"!=typeof i.signSchnorr)throw Error(`Need Schnorr Signer to sign taproot input #${t}.`);let s=dz(t,e,this.data.inputs,i.publicKey,this.__CACHE,r,n);if(!s||!s.length)throw Error(`Can not sign for input #${t} with the key ${i.publicKey.toString("hex")}`);return s}toBuffer(){return dM(this.__CACHE),this.data.toBuffer()}toHex(){return dM(this.__CACHE),this.data.toHex()}toBase64(){return dM(this.__CACHE),this.data.toBase64()}updateGlobal(t){return this.data.updateGlobal(t),this}updateInput(t,e){return e.witnessScript&&d1(e.witnessScript),(0,df.checkTaprootInputFields)(this.data.inputs[t],e,"updateInput"),this.data.updateInput(t,e),e.nonWitnessUtxo&&dQ(this.__CACHE,this.data.inputs[t],t),this}updateOutput(t,e){let i=this.data.outputs[t];return(0,df.checkTaprootOutputFields)(i,e,"updateOutput"),this.data.updateOutput(t,e),this}addUnknownKeyValToGlobal(t){return this.data.addUnknownKeyValToGlobal(t),this}addUnknownKeyValToInput(t,e){return this.data.addUnknownKeyValToInput(t,e),this}addUnknownKeyValToOutput(t,e){return this.data.addUnknownKeyValToOutput(t,e),this}clearFinalizedInput(t){return this.data.clearFinalizedInput(t),this}}c0.Psbt=dE;const dk=t=>new dA(t);class dA{constructor(t=c1.from([2,0,0,0,0,0,0,0,0,0])){this.tx=cH.Transaction.fromBuffer(t),function(t){if(!t.ins.every(t=>t.script&&0===t.script.length&&t.witness&&0===t.witness.length))throw Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(t){if(void 0===t.hash||void 0===t.index||!c1.isBuffer(t.hash)&&"string"!=typeof t.hash||"number"!=typeof t.index)throw Error("Error adding input.");let e="string"==typeof t.hash?(0,cd.reverseBuffer)(c1.from(t.hash,"hex")):t.hash;this.tx.addInput(e,t.index,t.sequence)}addOutput(t){if(void 0===t.script||void 0===t.value||!c1.isBuffer(t.script)||"number"!=typeof t.value)throw Error("Error adding output.");this.tx.addOutput(t.script,t.value)}toBuffer(){return this.tx.toBuffer()}}function dM(t){if(!1!==t.__UNSAFE_SIGN_NONSEGWIT)throw Error("Not BIP174 compliant, can not export")}function dT(t,e,i){let r;if(!e)return!1;if((r=i?i.map(t=>{let i=function(t){if(65===t.length){let e=1&t[64],i=t.slice(0,33);return i[0]=2|e,i}return t.slice()}(t);return e.find(t=>t.pubkey.equals(i))}).filter(t=>!!t):e).length>t)throw Error("Too many signatures");return r.length===t}function dI(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function dP(t){return e=>!!(e.masterFingerprint.equals(t.fingerprint)&&t.derivePath(e.path).publicKey.equals(e.pubkey))}function dO(t){if("number"!=typeof t||t!==Math.floor(t)||t>0xffffffff||t<0)throw Error("Invalid 32 bit integer")}function dB(t,e){t.forEach(t=>{if((0,df.isTaprootInput)(t)?(0,df.checkTaprootInputForSigs)(t,e):(0,dc.checkInputForSig)(t,e))throw Error("Can not modify transaction, signatures exist.")})}function dC(t,e,i){if(!(0,dc.pubkeyInScript)(t,e))throw Error(`Can not ${i} for this input with the key ${t.toString("hex")}`)}function dR(t,e){let i=(0,cd.reverseBuffer)(c1.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[i])throw Error("Duplicate input detected.");t.__TX_IN_CACHE[i]=1}function dL(t,e){return(i,r,n,s)=>{let o=t({redeem:{output:n}}).output;if(!r.equals(o))throw Error(`${e} for ${s} #${i} doesn't match the scriptPubKey in the prevout`)}}const dN=dL(f1.p2sh,"Redeem script"),dD=dL(f1.p2wsh,"Witness script");function dU(t,e,i,r){let n;if(!i.every(dI))throw Error(`PSBT must be finalized to calculate ${e}`);if("__FEE_RATE"===t&&r.__FEE_RATE)return r.__FEE_RATE;if("__FEE"===t&&r.__FEE)return r.__FEE;let s=!0;return(r.__EXTRACTED_TX?(n=r.__EXTRACTED_TX,s=!1):n=r.__TX.clone(),dG(i,n,r,s),"__FEE_RATE"===t)?r.__FEE_RATE:"__FEE"===t?r.__FEE:void 0}function dH(t,e,i,r,n,s){let o=d2(i);if(!function(t,e,i){switch(i){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return dT(1,t.partialSig);case"multisig":let r=f1.p2ms({output:e});return dT(r.m,t.partialSig,r.pubkeys);default:return!1}}(e,i,o))throw Error(`Can not finalize input #${t}`);return function(t,e,i,r,n,s){let o,a,l=function(t,e,i){let r;switch(e){case"multisig":var n,s;let o=(n=t,s=i,f1.p2ms({output:n}).pubkeys.map(t=>(s.filter(e=>e.pubkey.equals(t))[0]||{}).signature).filter(t=>!!t));r=f1.p2ms({output:t,signatures:o});break;case"pubkey":r=f1.p2pk({output:t,signature:i[0].signature});break;case"pubkeyhash":r=f1.p2pkh({output:t,pubkey:i[0].pubkey,signature:i[0].signature});break;case"witnesspubkeyhash":r=f1.p2wpkh({output:t,pubkey:i[0].pubkey,signature:i[0].signature})}return r}(t,e,i),h=s?f1.p2wsh({redeem:l}):null,f=n?f1.p2sh({redeem:h||l}):null;return r?(a=h?(0,dc.witnessStackToScriptWitness)(h.witness):(0,dc.witnessStackToScriptWitness)(l.witness),f&&(o=f.input)):o=f?f.input:l.input,{finalScriptSig:o,finalScriptWitness:a}}(i,o,e.partialSig,r,n,s)}function dj(t,e,i,r,n){let s=(0,de.checkForInput)(t,e),{hash:o,sighashType:a,script:l}=dF(e,s,r,!1,n);return dC(i,l,"sign"),{hash:o,sighashType:a}}function dF(t,e,i,r,n){let s,o,a=i.__TX,l=e.sighashType||cH.Transaction.SIGHASH_ALL;if(dV(l,n),e.nonWitnessUtxo){let r=dX(i,e,t),n=a.ins[t].hash,s=r.getHash();if(!n.equals(s))throw Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let l=a.ins[t].index;o=r.outs[l]}else if(e.witnessUtxo)o=e.witnessUtxo;else throw Error("Need a Utxo input item for signing");let{meaningfulScript:h,type:f}=d0(o.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(f)>=0)s=a.hashForWitnessV0(t,h,o.value,l);else if((0,dc.isP2WPKH)(h)){let e=f1.p2pkh({hash:h.slice(2)}).output;s=a.hashForWitnessV0(t,e,o.value,l)}else{if(void 0===e.nonWitnessUtxo&&!1===i.__UNSAFE_SIGN_NONSEGWIT)throw Error(`Input #${t} has witnessUtxo but non-segwit script: ${h.toString("hex")}`);r||!1===i.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),s=a.hashForSignature(t,h,l)}return{script:h,sighashType:l,hash:s}}function dq(t,e,i){let{script:r}=dZ(t,e,i);return(0,dc.isP2TR)(r)?r.subarray(2,34):null}function d$(t){return 64===t.length?t:t.subarray(0,64)}function dz(t,e,i,r,n,s,o){let a=n.__TX,l=e.sighashType||cH.Transaction.SIGHASH_DEFAULT;dV(l,o);let h=i.map((t,e)=>dZ(e,t,n)),f=h.map(t=>t.script),u=h.map(t=>t.value),c=[];if(e.tapInternalKey&&!s){let i=dq(t,e,n)||c1.from([]);if((0,df.toXOnly)(r).equals(i)){let e=a.hashForWitnessV1(t,f,u,l);c.push({pubkey:r,hash:e})}}let d=(e.tapLeafScript||[]).filter(t=>(0,dc.pubkeyInScript)(r,t.script)).map(t=>Object.assign({hash:(0,cc.tapleafHash)({output:t.script,version:t.leafVersion})},t)).filter(t=>!s||s.equals(t.hash)).map(e=>({pubkey:r,hash:a.hashForWitnessV1(t,f,u,l,e.hash),leafHash:e.hash}));return c.concat(d)}function dV(t,e){if(e&&0>e.indexOf(t)){let e=function(t){let e=t&cH.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&t){case cH.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case cH.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case cH.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE"}return e}(t);throw Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${e}`)}}function dW(t,e,i){let r=(0,de.checkForInput)(e,t);if(!r.bip32Derivation||0===r.bip32Derivation.length)throw Error("Need bip32Derivation to sign with HD");let n=r.bip32Derivation.map(t=>t.masterFingerprint.equals(i.fingerprint)?t:void 0).filter(t=>!!t);if(0===n.length)throw Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return n.map(t=>{let e=i.derivePath(t.path);if(!t.pubkey.equals(e.publicKey))throw Error("pubkey did not match bip32Derivation");return e})}function dK(t){let e=0;function i(){let i=dh.decode(t,e);return e+=dh.decode.bytes,i}return function(){let r=i(),n=[];for(let s=0;s<r;s++)n.push(function(){var r;return r=i(),e+=r,t.slice(e-r,e)}());return n}()}function dQ(t,e,i){t.__NON_WITNESS_UTXO_BUF_CACHE[i]=e.nonWitnessUtxo;let r=cH.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[i]=r,delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let e=t.__NON_WITNESS_UTXO_BUF_CACHE[i],r=t.__NON_WITNESS_UTXO_TX_CACHE[i];if(void 0!==e)return e;{let e=r.toBuffer();return t.__NON_WITNESS_UTXO_BUF_CACHE[i]=e,e}},set(e){t.__NON_WITNESS_UTXO_BUF_CACHE[i]=e}})}function dG(t,e,i,r){let n=0;t.forEach((t,s)=>{if(r&&t.finalScriptSig&&(e.ins[s].script=t.finalScriptSig),r&&t.finalScriptWitness&&(e.ins[s].witness=dK(t.finalScriptWitness)),t.witnessUtxo)n+=t.witnessUtxo.value;else if(t.nonWitnessUtxo){let r=dX(i,t,s),o=e.ins[s].index,a=r.outs[o];n+=a.value}});let s=e.outs.reduce((t,e)=>t+e.value,0),o=n-s;if(o<0)throw Error("Outputs are spending more than Inputs");let a=e.virtualSize();i.__FEE=o,i.__EXTRACTED_TX=e,i.__FEE_RATE=Math.floor(o/a)}function dX(t,e,i){let r=t.__NON_WITNESS_UTXO_TX_CACHE;return r[i]||dQ(t,e,i),r[i]}function dY(t,e,i){let{script:r}=dZ(t,e,i);return r}function dZ(t,e,i){if(void 0!==e.witnessUtxo)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(void 0!==e.nonWitnessUtxo){let r=dX(i,e,t).outs[i.__TX.ins[t].index];return{script:r.script,value:r.value}}throw Error("Can't find pubkey in input without Utxo data")}function dJ(t){return 33===t.length&&f3.isCanonicalPubKey(t)}function d0(t,e,i,r,n){let s,o=(0,dc.isP2SHScript)(t),a=o&&r&&(0,dc.isP2WSHScript)(r),l=(0,dc.isP2WSHScript)(t);if(o&&void 0===r)throw Error("scriptPubkey is P2SH but redeemScript missing");if((l||a)&&void 0===n)throw Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");return a?(s=n,dN(e,t,r,i),dD(e,r,n,i),d1(s)):l?(s=n,dD(e,t,n,i),d1(s)):o?(s=r,dN(e,t,r,i)):s=t,{meaningfulScript:s,type:a?"p2sh-p2wsh":o?"p2sh":l?"p2wsh":"raw"}}function d1(t){if((0,dc.isP2WPKH)(t)||(0,dc.isP2SHScript)(t))throw Error("P2WPKH or P2SH can not be contained within P2WSH")}function d2(t){return(0,dc.isP2WPKH)(t)?"witnesspubkeyhash":(0,dc.isP2PKH)(t)?"pubkeyhash":(0,dc.isP2MS)(t)?"multisig":(0,dc.isP2PK)(t)?"pubkey":"nonstandard"}function d3(t){return[...Array(t).keys()]}Object.defineProperty(fY,"Psbt",{enumerable:!0,get:function(){return c0.Psbt}}),Object.defineProperty(fY,"opcodes",{enumerable:!0,get:function(){return f4.OPS}}),Object.defineProperty(fY,"Transaction",{enumerable:!0,get:function(){return cH.Transaction}}),Object.defineProperty(fY,"initEccLib",{enumerable:!0,get:function(){return co.initEccLib}});var d6=fY.address,d5={},d8={},d4={},d9={},d7={};d7=function(){this.__data__=[],this.size=0};var pt={},pe={},pi={};pi=function(t,e){return t===e||t!=t&&e!=e},pe=function(t,e){for(var i=t.length;i--;)if(pi(t[i][0],e))return i;return -1};var pr=Array.prototype.splice;pt=function(t){var e=this.__data__,i=pe(e,t);return!(i<0)&&(i==e.length-1?e.pop():pr.call(e,i,1),--this.size,!0)};var pn={};pn=function(t){var e=this.__data__,i=pe(e,t);return i<0?void 0:e[i][1]};var ps={};ps=function(t){return pe(this.__data__,t)>-1};var po={};function pa(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}po=function(t,e){var i=this.__data__,r=pe(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this},pa.prototype.clear=d7,pa.prototype.delete=pt,pa.prototype.get=pn,pa.prototype.has=ps,pa.prototype.set=po,d9=pa;var pl={};pl=function(){this.__data__=new d9,this.size=0};var ph={};ph=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i};var pf={};pf=function(t){return this.__data__.get(t)};var pu={};pu=function(t){return this.__data__.has(t)};var pc={},pd={},pp={},pb={},pg={},pm={},py={},pv=tE("23YZo");py=pv.Symbol;var p_={},pw=Object.prototype,px=pw.hasOwnProperty,pS=pw.toString,pE=py?py.toStringTag:void 0;p_=function(t){var e=px.call(t,pE),i=t[pE];try{t[pE]=void 0;var r=!0}catch(t){}var n=pS.call(t);return r&&(e?t[pE]=i:delete t[pE]),n};var pk={},pA=Object.prototype.toString;pk=function(t){return pA.call(t)};var pM=py?py.toStringTag:void 0;pm=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":pM&&pM in Object(t)?p_(t):pk(t)};var pT={};pT=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},pg=function(t){if(!pT(t))return!1;var e=pm(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var pI={},pP={},pv=tE("23YZo");pP=pv["__core-js_shared__"];var pO=(u=/[^.]+$/.exec(pP&&pP.keys&&pP.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";pI=function(t){return!!pO&&pO in t};var pB={},pC=Function.prototype.toString;pB=function(t){if(null!=t){try{return pC.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var pR=/^\[object .+?Constructor\]$/,pL=Object.prototype,pN=Function.prototype.toString,pD=pL.hasOwnProperty,pU=RegExp("^"+pN.call(pD).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");pb=function(t){return!(!pT(t)||pI(t))&&(pg(t)?pU:pR).test(pB(t))};var pH={};pH=function(t,e){return null==t?void 0:t[e]},pp=function(t,e){var i=pH(t,e);return pb(i)?i:void 0};var pv=tE("23YZo");pd=pp(pv,"Map");var pj={},pF={},pq={},p$={},pz={};pz=pp(Object,"create"),p$=function(){this.__data__=pz?pz(null):{},this.size=0};var pV={};pV=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=+!!e,e};var pW={},pK=Object.prototype.hasOwnProperty;pW=function(t){var e=this.__data__;if(pz){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return pK.call(e,t)?e[t]:void 0};var pQ={},pG=Object.prototype.hasOwnProperty;pQ=function(t){var e=this.__data__;return pz?void 0!==e[t]:pG.call(e,t)};var pX={};function pY(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}pX=function(t,e){var i=this.__data__;return this.size+=+!this.has(t),i[t]=pz&&void 0===e?"__lodash_hash_undefined__":e,this},pY.prototype.clear=p$,pY.prototype.delete=pV,pY.prototype.get=pW,pY.prototype.has=pQ,pY.prototype.set=pX,pq=pY,pF=function(){this.size=0,this.__data__={hash:new pq,map:new(pd||d9),string:new pq}};var pZ={},pJ={},p0={};p0=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},pJ=function(t,e){var i=t.__data__;return p0(e)?i["string"==typeof e?"string":"hash"]:i.map},pZ=function(t){var e=pJ(this,t).delete(t);return this.size-=+!!e,e};var p1={};p1=function(t){return pJ(this,t).get(t)};var p2={};p2=function(t){return pJ(this,t).has(t)};var p3={};function p6(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function p5(t){var e=this.__data__=new d9(t);this.size=e.size}p3=function(t,e){var i=pJ(this,t),r=i.size;return i.set(t,e),this.size+=+(i.size!=r),this},p6.prototype.clear=pF,p6.prototype.delete=pZ,p6.prototype.get=p1,p6.prototype.has=p2,p6.prototype.set=p3,pj=p6,pc=function(t,e){var i=this.__data__;if(i instanceof d9){var r=i.__data__;if(!pd||r.length<199)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new pj(r)}return i.set(t,e),this.size=i.size,this},p5.prototype.clear=pl,p5.prototype.delete=ph,p5.prototype.get=pf,p5.prototype.has=pu,p5.prototype.set=pc,d4=p5;var p8={};p8=function(t,e){for(var i=-1,r=null==t?0:t.length;++i<r&&!1!==e(t[i],i,t););return t};var p4={},p9={},p7={};p7=function(){try{var t=pp(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),p9=function(t,e,i){"__proto__"==e&&p7?p7(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i};var bt=Object.prototype.hasOwnProperty;p4=function(t,e,i){var r=t[e];bt.call(t,e)&&pi(r,i)&&(void 0!==i||e in t)||p9(t,e,i)};var be={},bi={};bi=function(t,e,i,r){var n=!i;i||(i={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(i[a],t[a],a,i,t):void 0;void 0===l&&(l=t[a]),n?p9(i,a,l):p4(i,a,l)}return i};var br={},bn={},bs={};bs=function(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r};var bo={},ba={},bl={};bl=function(t){return null!=t&&"object"==typeof t},ba=function(t){return bl(t)&&"[object Arguments]"==pm(t)};var bh=Object.prototype,bf=bh.hasOwnProperty,bu=bh.propertyIsEnumerable;bo=ba(function(){return arguments}())?ba:function(t){return bl(t)&&bf.call(t,"callee")&&!bu.call(t,"callee")};var bc={};bc=Array.isArray;var bd=tE("f504n"),bp={},bb=/^(?:0|[1-9]\d*)$/;bp=function(t,e){var i=typeof t;return!!(e=null==e?0x1fffffffffffff:e)&&("number"==i||"symbol"!=i&&bb.test(t))&&t>-1&&t%1==0&&t<e};var bg={},bm={},by={};by=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=0x1fffffffffffff};var bv={};bv["[object Float32Array]"]=bv["[object Float64Array]"]=bv["[object Int8Array]"]=bv["[object Int16Array]"]=bv["[object Int32Array]"]=bv["[object Uint8Array]"]=bv["[object Uint8ClampedArray]"]=bv["[object Uint16Array]"]=bv["[object Uint32Array]"]=!0,bv["[object Arguments]"]=bv["[object Array]"]=bv["[object ArrayBuffer]"]=bv["[object Boolean]"]=bv["[object DataView]"]=bv["[object Date]"]=bv["[object Error]"]=bv["[object Function]"]=bv["[object Map]"]=bv["[object Number]"]=bv["[object Object]"]=bv["[object RegExp]"]=bv["[object Set]"]=bv["[object String]"]=bv["[object WeakMap]"]=!1,bm=function(t){return bl(t)&&by(t.length)&&!!bv[pm(t)]};var b_={};b_=function(t){return function(e){return t(e)}};var bw=tE("jIny1"),bx=bw&&bw.isTypedArray;bg=bx?b_(bx):bm;var bS=Object.prototype.hasOwnProperty;bn=function(t,e){var i=bc(t),r=!i&&bo(t),n=!i&&!r&&bd(t),s=!i&&!r&&!n&&bg(t),o=i||r||n||s,a=o?bs(t.length,String):[],l=a.length;for(var h in t)(e||bS.call(t,h))&&!(o&&("length"==h||n&&("offset"==h||"parent"==h)||s&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||bp(h,l)))&&a.push(h);return a};var bE={},bk={},bA=Object.prototype;bk=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bA)};var bM={},bT={};bM=(bT=function(t,e){return function(i){return t(e(i))}})(Object.keys,Object);var bI=Object.prototype.hasOwnProperty;bE=function(t){if(!bk(t))return bM(t);var e=[];for(var i in Object(t))bI.call(t,i)&&"constructor"!=i&&e.push(i);return e};var bP={};bP=function(t){return null!=t&&by(t.length)&&!pg(t)},br=function(t){return bP(t)?bn(t):bE(t)},be=function(t,e){return t&&bi(e,br(e),t)};var bO={},bB={},bC={},bR={};bR=function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e};var bL=Object.prototype.hasOwnProperty;bC=function(t){if(!pT(t))return bR(t);var e=bk(t),i=[];for(var r in t)"constructor"==r&&(e||!bL.call(t,r))||i.push(r);return i},bB=function(t){return bP(t)?bn(t,!0):bC(t)},bO=function(t,e){return t&&bi(e,bB(e),t)};var bN=tE("uQ1Em"),bD={};bD=function(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e};var bU={},bH={},bj={};bj=function(t,e){for(var i=-1,r=null==t?0:t.length,n=0,s=[];++i<r;){var o=t[i];e(o,i,t)&&(s[n++]=o)}return s};var bF={};bF=function(){return[]};var bq=Object.prototype.propertyIsEnumerable,b$=Object.getOwnPropertySymbols;bH=b$?function(t){return null==t?[]:(t=Object(t),bj(b$(t),function(e){return bq.call(t,e)}))}:bF,bU=function(t,e){return bi(t,bH(t),e)};var bz={},bV={},bW={};bW=function(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t};var bK={};bK=bT(Object.getPrototypeOf,Object),bV=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)bW(e,bH(t)),t=bK(t);return e}:bF,bz=function(t,e){return bi(t,bV(t),e)};var bQ={},bG={};bG=function(t,e,i){var r=e(t);return bc(t)?r:bW(r,i(t))},bQ=function(t){return bG(t,br,bH)};var bX={};bX=function(t){return bG(t,bB,bV)};var bY={},bZ={},pv=tE("23YZo");bZ=pp(pv,"DataView");var bJ={},pv=tE("23YZo");bJ=pp(pv,"Promise");var b0={},pv=tE("23YZo");b0=pp(pv,"Set");var b1={},pv=tE("23YZo");b1=pp(pv,"WeakMap");var b2="[object Map]",b3="[object Promise]",b6="[object Set]",b5="[object WeakMap]",b8="[object DataView]",b4=pB(bZ),b9=pB(pd),b7=pB(bJ),gt=pB(b0),ge=pB(b1),gi=pm;(bZ&&gi(new bZ(new ArrayBuffer(1)))!=b8||pd&&gi(new pd)!=b2||bJ&&gi(bJ.resolve())!=b3||b0&&gi(new b0)!=b6||b1&&gi(new b1)!=b5)&&(gi=function(t){var e=pm(t),i="[object Object]"==e?t.constructor:void 0,r=i?pB(i):"";if(r)switch(r){case b4:return b8;case b9:return b2;case b7:return b3;case gt:return b6;case ge:return b5}return e}),bY=gi;var gr={},gn=Object.prototype.hasOwnProperty;gr=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&gn.call(t,"index")&&(i.index=t.index,i.input=t.input),i};var gs={},go={},ga={},pv=tE("23YZo");ga=pv.Uint8Array,go=function(t){var e=new t.constructor(t.byteLength);return new ga(e).set(new ga(t)),e};var gl={};gl=function(t,e){var i=e?go(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)};var gh={},gf=/\w*$/;gh=function(t){var e=new t.constructor(t.source,gf.exec(t));return e.lastIndex=t.lastIndex,e};var gu={},gc=py?py.prototype:void 0,gd=gc?gc.valueOf:void 0;gu=function(t){return gd?Object(gd.call(t)):{}};var gp={};gp=function(t,e){var i=e?go(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)},gs=function(t,e,i){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return go(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return gl(t,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gp(t,i);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return gh(t);case"[object Symbol]":return gu(t)}};var gb={},gg={},gm=Object.create;gg=function(){function t(){}return function(e){if(!pT(e))return{};if(gm)return gm(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),gb=function(t){return"function"!=typeof t.constructor||bk(t)?{}:gg(bK(t))};var bd=tE("f504n"),gy={},gv={};gv=function(t){return bl(t)&&"[object Map]"==bY(t)};var bw=tE("jIny1"),g_=bw&&bw.isMap;gy=g_?b_(g_):gv;var gw={},gx={};gx=function(t){return bl(t)&&"[object Set]"==bY(t)};var bw=tE("jIny1"),gS=bw&&bw.isSet;gw=gS?b_(gS):gx;var gE="[object Arguments]",gk="[object Function]",gA="[object Object]",gM={};gM[gE]=gM["[object Array]"]=gM["[object ArrayBuffer]"]=gM["[object DataView]"]=gM["[object Boolean]"]=gM["[object Date]"]=gM["[object Float32Array]"]=gM["[object Float64Array]"]=gM["[object Int8Array]"]=gM["[object Int16Array]"]=gM["[object Int32Array]"]=gM["[object Map]"]=gM["[object Number]"]=gM[gA]=gM["[object RegExp]"]=gM["[object Set]"]=gM["[object String]"]=gM["[object Symbol]"]=gM["[object Uint8Array]"]=gM["[object Uint8ClampedArray]"]=gM["[object Uint16Array]"]=gM["[object Uint32Array]"]=!0,gM["[object Error]"]=gM[gk]=gM["[object WeakMap]"]=!1,d8=function t(e,i,r,n,s,o){var a,l=1&i,h=2&i,f=4&i;if(r&&(a=s?r(e,n,s,o):r(e)),void 0!==a)return a;if(!pT(e))return e;var u=bc(e);if(u){if(a=gr(e),!l)return bD(e,a)}else{var c=bY(e),d=c==gk||"[object GeneratorFunction]"==c;if(bd(e))return bN(e,l);if(c==gA||c==gE||d&&!s){if(a=h||d?{}:gb(e),!l)return h?bz(e,bO(a,e)):bU(e,be(a,e))}else{if(!gM[c])return s?e:{};a=gs(e,c,l)}}o||(o=new d4);var p=o.get(e);if(p)return p;o.set(e,a),gw(e)?e.forEach(function(n){a.add(t(n,i,r,n,e,o))}):gy(e)&&e.forEach(function(n,s){a.set(s,t(n,i,r,s,e,o))});var b=f?h?bX:bQ:h?bB:br,g=u?void 0:b(e);return p8(g||e,function(n,s){g&&(n=e[s=n]),p4(a,s,t(n,i,r,s,e,o))}),a},d5=function(t){return d8(t,5)};const gT={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0,1]},gI={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0,1]},gP={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0,1]},gO={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0,1]},gB={word_length:4,var_onion_optin:{required:!1,supported:!0},payment_secret:{required:!1,supported:!0}},gC=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],gR={m:new fX(1e3,10),u:new fX(1e6,10),n:new fX(1e9,10),p:new fX(1e12,10)},gL=new fX("2100000000000000000",10),gN=new fX(1e11,10),gD=new fX(1e8,10),gU=new fX(1e5,10),gH=new fX(100,10),gj=new fX(10,10),gF={payment_hash:1,payment_secret:16,description:13,payee_node_key:19,purpose_commit_hash:23,expire_time:6,min_final_cltv_expiry:24,fallback_address:9,routing_info:3,feature_bits:5},gq={};for(let t=0,e=Object.keys(gF);t<e.length;t++){let i=e[t];gq[gF[e[t]].toString()]=i}const g$={payment_hash:gZ,payment_secret:gZ,description:function(t){let e=fG.from(t,"utf8");return fH.toWords(e)},payee_node_key:gZ,purpose_commit_hash:function(t){let e;if(void 0!==t&&("string"==typeof t||t instanceof String))e=t.match(/^([a-zA-Z0-9]{2})*$/)?fG.from(t,"hex"):gQ(fG.from(t,"utf8"));else throw Error("purpose or purpose commit must be a string or hex string");return fH.toWords(e)},expire_time:gK,min_final_cltv_expiry:gK,fallback_address:function(t,e){return[t.code].concat(gZ(t.addressHash))},routing_info:function(t){let e=fG.from([]);return t.forEach(t=>{e=fG.concat([e,gY(t.pubkey)]),e=fG.concat([e,gY(t.short_channel_id)]),e=fG.concat([e,fG.from([0,0,0].concat(gK(t.fee_base_msat,8)).slice(-4))]),e=fG.concat([e,fG.from([0,0,0].concat(gK(t.fee_proportional_millionths,8)).slice(-4))]),e=fG.concat([e,fG.from([0].concat(gK(t.cltv_expiry_delta,8)).slice(-2))])}),gZ(e)},feature_bits:function(t){let e=t.word_length,i=[];for(gC.forEach(e=>{i.push(!!(t[e]||{}).required),i.push(!!(t[e]||{}).supported)});!1===i[i.length-1];)i.pop();for(;i.length%5!=0;)i.push(!1);if(t.extra_bits&&Array.isArray(t.extra_bits.bits)&&t.extra_bits.bits.length>0){for(;i.length<t.extra_bits.start_bit;)i.push(!1);i=i.concat(t.extra_bits.bits)}if(void 0!==e&&i.length/5>e)throw Error("word_length is too small to contain all featureBits");return void 0===e&&(e=Math.ceil(i.length/5)),Array(e).fill(0).map((t,e)=>i[5*e+4]<<4|i[5*e+3]<<3|i[5*e+2]<<2|i[5*e+1]<<1|i[5*e]<<0).reverse()}},gz={1:t=>gX(t,!0).toString("hex"),16:t=>gX(t,!0).toString("hex"),13:t=>gX(t,!0).toString("utf8"),19:t=>gX(t,!0).toString("hex"),23:t=>gX(t,!0).toString("hex"),6:gW,24:gW,9:function(t,e){let i=t[0],r=gX(t=t.slice(1),!0),n=null;switch(i){case 17:n=d6.toBase58Check(r,e.pubKeyHash);break;case 18:n=d6.toBase58Check(r,e.scriptHash);break;case 0:case 1:n=d6.toBech32(r,i,e.bech32)}return{code:i,address:n,addressHash:r.toString("hex")}},3:function(t){let e,i,r,n,s,o=[],a=gX(t,!0);for(;a.length>0;)e=a.slice(0,33).toString("hex"),i=a.slice(33,41).toString("hex"),r=parseInt(a.slice(41,45).toString("hex"),16),n=parseInt(a.slice(45,49).toString("hex"),16),s=parseInt(a.slice(49,51).toString("hex"),16),a=a.slice(51),o.push({pubkey:e,short_channel_id:i,fee_base_msat:r,fee_proportional_millionths:n,cltv_expiry_delta:s});return o},5:function(t){let e=t.slice().reverse().map(t=>[!!(1&t),!!(2&t),!!(4&t),!!(8&t),!!(16&t)]).reduce((t,e)=>t.concat(e),[]);for(;e.length<2*gC.length;)e.push(!1);let i={word_length:t.length};if(gC.forEach((t,r)=>{i[t]={required:e[2*r],supported:e[2*r+1]}}),e.length>2*gC.length){let t=e.slice(2*gC.length);i.extra_bits={start_bit:2*gC.length,bits:t,has_required:t.reduce((t,e,i)=>i%2!=0?t||!1:t||e,!1)}}else i.extra_bits={start_bit:2*gC.length,bits:[],has_required:!1};return i}},gV="unknownTag";function gW(t){return t.reverse().reduce((t,e,i)=>t+e*Math.pow(32,i),0)}function gK(t,e){let i=[];if(void 0===e&&(e=5),0===(t=Math.floor(t)))return[0];for(;t>0;)i.push(t&Math.pow(2,e)-1),t=Math.floor(t/Math.pow(2,e));return i.reverse()}function gQ(t){return fe("sha256").update(t).digest()}function gG(t,e,i){let r=0,n=0,s=(1<<i)-1,o=[];for(let a=0;a<t.length;++a)for(r=r<<e|t[a],n+=e;n>=i;)o.push(r>>(n-=i)&s);return n>0&&o.push(r<<i-n&s),o}function gX(t,e){let i=fG.from(gG(t,5,8,!0));return e&&5*t.length%8!=0&&(i=i.slice(0,-1)),i}function gY(t){return void 0!==t&&("string"==typeof t||t instanceof String)&&t.match(/^([a-zA-Z0-9]{2})*$/)?fG.from(t,"hex"):t}function gZ(t){let e=gY(t);return fH.toWords(e)}function gJ(t,e){let i=t.filter(t=>t.tagName===e);return i.length>0?i[0].data:null}function g0(t,e){return null!==gJ(t,e)}function g1(t,e){let i={};if(Object.keys(t).sort().forEach(e=>{i[e]=t[e]}),!0===e){let t="__tagsObject_cache";Object.defineProperty(i,"tagsObject",{get(){return this[t]||Object.defineProperty(this,t,{value:function(t){let e={};return t.forEach(t=>{t.tagName===gV?(e.unknownTags||(e.unknownTags=[]),e.unknownTags.push(t.data)):e[t.tagName]=t.data}),e}(this.tags)}),this[t]}})}return i}function g2(t){if(!t.toString().match(/^\d+$/))throw Error("satoshis must be an integer");return g3(new fX(t,10).mul(new fX(1e3,10)))}function g3(t){let e,i;if(!t.toString().match(/^\d+$/))throw Error("millisatoshis must be an integer");let r=new fX(t,10),n=r.toString(10),s=n.length;return s>11&&/0{11}$/.test(n)?(e="",i=r.div(gN).toString(10)):s>8&&/0{8}$/.test(n)?(e="m",i=r.div(gD).toString(10)):s>5&&/0{5}$/.test(n)?(e="u",i=r.div(gU).toString(10)):s>2&&/0{2}$/.test(n)?(e="n",i=r.div(gH).toString(10)):(e="p",i=r.mul(gj).toString(10)),i+e}function g6(t,e){let i=g5(t,!1);if(!i.mod(new fX(1e3,10)).eq(new fX(0,10)))throw Error("Amount is outside of valid range");let r=i.div(new fX(1e3,10));return e?r.toString():r}function g5(t,e){let i,r;if(t.slice(-1).match(/^[munp]$/))i=t.slice(-1),r=t.slice(0,-1);else if(t.slice(-1).match(/^[^munp0-9]$/))throw Error("Not a valid multiplier for the amount");else r=t;if(!r.match(/^\d+$/))throw Error("Not a valid human readable amount");let n=new fX(r,10),s=i?n.mul(gN).div(gR[i]):n.mul(gN);if("p"===i&&!n.mod(new fX(10,10)).eq(new fX(0,10))||s.gt(gL))throw Error("Amount is outside of valid range");return e?s.toString():s}ft={encode:function(t,e){let i,r,n,s,o,a,l,h,f=d5(t);void 0===e&&(e=!0);let u=void 0!==f.signature&&void 0!==f.recoveryFlag;if(void 0!==f.network||u){if(void 0===f.network&&u)throw Error("Need network for proper payment request reconstruction");if(!f.network.bech32||void 0===f.network.pubKeyHash||void 0===f.network.scriptHash||!Array.isArray(f.network.validWitnessVersions))throw Error("Invalid network");i=f.network}else f.network=gT,i=gT;if(void 0!==f.timestamp||u){if(void 0===f.timestamp&&u)throw Error("Need timestamp for proper payment request reconstruction")}else f.timestamp=Math.floor(new Date().getTime()/1e3);if(void 0===f.tags)throw Error("Payment Requests need tags array");if(!g0(f.tags,gq["1"]))throw Error("Lightning Payment Request needs a payment hash");if(g0(f.tags,gq["16"])){if(g0(f.tags,gq["5"])){let t=gJ(f.tags,gq["5"]);if(!t.payment_secret||!t.payment_secret.supported&&!t.payment_secret.required)throw Error("Payment request requires feature bits with at least payment secret support flagged if payment secret is included")}else if(e)f.tags.push({tagName:gq["5"],data:gB});else throw Error("Payment request requires feature bits with at least payment secret support flagged if payment secret is included")}if(!g0(f.tags,gq["13"])&&!g0(f.tags,gq["23"])){if(e)f.tags.push({tagName:gq["13"],data:""});else throw Error("Payment request requires description or purpose commit hash")}if(g0(f.tags,gq["13"])&&fG.from(gJ(f.tags,gq["13"]),"utf8").length>639)throw Error("Description is too long: Max length 639 bytes");if(g0(f.tags,gq["6"])||u||!e||f.tags.push({tagName:gq["6"],data:3600}),g0(f.tags,gq["24"])||u||!e||f.tags.push({tagName:gq["24"],data:9}),g0(f.tags,gq["19"])&&(n=gY(gJ(f.tags,gq["19"]))),f.payeeNodeKey&&(r=gY(f.payeeNodeKey)),r&&n&&!n.equals(r))throw Error("payeeNodeKey and tag payee node key do not match");if((r=r||n)&&(f.payeeNodeKey=r.toString("hex")),g0(f.tags,gq["9"])){let t=gJ(f.tags,gq["9"]);if(a=t.address,o=t.addressHash,s=t.code,void 0===o||void 0===s){let e,r;try{o=(e=d6.fromBech32(a)).data,s=e.version}catch(t){try{(r=d6.fromBase58Check(a)).version===i.pubKeyHash?s=17:r.version===i.scriptHash&&(s=18),o=r.hash}catch(t){throw Error("Fallback address type is unknown")}}if(e&&!(e.version in i.validWitnessVersions))throw Error("Fallback address witness version is unknown");if(e&&e.prefix!==i.bech32)throw Error("Fallback address network type does not match payment request network type");if(r&&r.version!==i.pubKeyHash&&r.version!==i.scriptHash)throw Error("Fallback address version (base58) is unknown or the network type is incorrect");t.addressHash=o.toString("hex"),t.code=s}}g0(f.tags,gq["3"])&&gJ(f.tags,gq["3"]).forEach(t=>{if(void 0===t.pubkey||void 0===t.short_channel_id||void 0===t.fee_base_msat||void 0===t.fee_proportional_millionths||void 0===t.cltv_expiry_delta)throw Error("Routing info is incomplete");if(!fQ.publicKeyVerify(gY(t.pubkey)))throw Error("Routing info pubkey is not a valid pubkey");let e=gY(t.short_channel_id);if(!(e instanceof fG)||8!==e.length)throw Error("Routing info short channel id must be 8 bytes");if("number"!=typeof t.fee_base_msat||Math.floor(t.fee_base_msat)!==t.fee_base_msat)throw Error("Routing info fee base msat is not an integer");if("number"!=typeof t.fee_proportional_millionths||Math.floor(t.fee_proportional_millionths)!==t.fee_proportional_millionths)throw Error("Routing info fee proportional millionths is not an integer");if("number"!=typeof t.cltv_expiry_delta||Math.floor(t.cltv_expiry_delta)!==t.cltv_expiry_delta)throw Error("Routing info cltv expiry delta is not an integer")});let c="ln";if(c+=i.bech32,f.millisatoshis&&f.satoshis){if(l=g3(new fX(f.millisatoshis,10)),g2(new fX(f.satoshis,10))!==l)throw Error("satoshis and millisatoshis do not match")}else l=f.millisatoshis?g3(new fX(f.millisatoshis,10)):f.satoshis?g2(new fX(f.satoshis,10)):"";c+=l;let d=gK(f.timestamp);for(;d.length<7;)d.unshift(0);let p=f.tags,b=[];p.forEach(t=>{let e,i=Object.keys(g$);if(u&&i.push(gV),-1===i.indexOf(t.tagName))throw Error("Unknown tag key: "+t.tagName);if(t.tagName!==gV)b.push(gF[t.tagName]),e=(0,g$[t.tagName])(t.data);else{var r;let i=((r=t.data).words=fH.decode(r.words,Number.MAX_SAFE_INTEGER).words,r);b.push(i.tagCode),e=i.words}b=(b=b.concat([0].concat(gK(e.length)).slice(-2))).concat(e)});let g=d.concat(b),m=gQ(fG.concat([fG.from(c,"utf8"),fG.from(gG(g,5,8))]));if(u){if(r){let t=fG.from(fQ.ecdsaRecover(fG.from(f.signature,"hex"),f.recoveryFlag,m,!0));if(r&&!r.equals(t))throw Error("Signature, message, and recoveryID did not produce the same pubkey as payeeNodeKey");h=gZ(f.signature+"0"+f.recoveryFlag)}else throw Error("Reconstruction with signature and recoveryID requires payeeNodeKey to verify correctness of input data.")}return h&&(g=g.concat(h)),g0(f.tags,gq["6"])&&(f.timeExpireDate=f.timestamp+gJ(f.tags,gq["6"]),f.timeExpireDateString=new Date(1e3*f.timeExpireDate).toISOString()),f.timestampString=new Date(1e3*f.timestamp).toISOString(),f.complete=!!h,f.paymentRequest=f.complete?fH.encode(c,g,Number.MAX_SAFE_INTEGER):"",f.prefix=c,f.wordsTemp=fH.encode("temp",g,Number.MAX_SAFE_INTEGER),g1(f)},decode:function(t,e){let i,r,n,s,o,a,l,h,f,u;if("string"!=typeof t)throw Error("Lightning Payment Request must be string");if("ln"!==t.slice(0,2).toLowerCase())throw Error("Not a proper lightning payment request");let c=fH.decode(t,Number.MAX_SAFE_INTEGER);t=t.toLowerCase();let d=c.prefix,p=c.words,b=p.slice(-104),g=p.slice(0,-104);p=p.slice(0,-104);let m=gX(b,!0),y=m.slice(-1)[0];if(m=m.slice(0,-1),!(y in[0,1,2,3])||64!==m.length)throw Error("Signature is missing or incorrect");let v=d.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(v&&!v[2]&&(v=d.match(/^ln(\S+)$/)),!v)throw Error("Not a proper lightning payment request");let _=v[1];if(e){if(void 0===e.bech32||void 0===e.pubKeyHash||void 0===e.scriptHash||!Array.isArray(e.validWitnessVersions))throw Error("Invalid network");i=e}else switch(_){case gT.bech32:i=gT;break;case gI.bech32:i=gI;break;case gP.bech32:i=gP;break;case gO.bech32:i=gO}if(!i||i.bech32!==_)throw Error("Unknown coin bech32 prefix");let w=v[2];if(w){let t=v[3];try{r=parseInt(g6(w+t,!0))}catch(t){r=null,s=!0}n=g5(w+t,!0)}else r=null,n=null;let x=gW(p.slice(0,7)),S=new Date(1e3*x).toISOString();p=p.slice(7);let E=[];for(;p.length>0;){let t=p[0].toString();o=gq[t]||gV,a=gz[t]||function(t){return e=>({tagCode:parseInt(t),words:fH.encode("unknown",e,Number.MAX_SAFE_INTEGER)})}(t),l=gW((p=p.slice(1)).slice(0,2)),h=(p=p.slice(2)).slice(0,l),p=p.slice(l),E.push({tagName:o,data:a(h,i)})}g0(E,gq["6"])&&(u=new Date(1e3*(f=x+gJ(E,gq["6"]))).toISOString());let k=gQ(fG.concat([fG.from(d,"utf8"),fG.from(gG(g,5,8))])),A=fG.from(fQ.ecdsaRecover(m,y,k,!0));if(g0(E,gq["19"])&&gJ(E,gq["19"])!==A.toString("hex"))throw Error("Lightning Payment Request signature pubkey does not match payee pubkey");let M={paymentRequest:t,complete:!0,prefix:d,wordsTemp:fH.encode("temp",g.concat(b),Number.MAX_SAFE_INTEGER),network:i,satoshis:r,millisatoshis:n,timestamp:x,timestampString:S,payeeNodeKey:A.toString("hex"),signature:m.toString("hex"),recoveryFlag:y,tags:E};return s&&delete M.satoshis,f&&(M=Object.assign(M,{timeExpireDate:f,timeExpireDateString:u})),g1(M,!0)},sign:function(t,e){let i,r,n=d5(t),s=gY(e);if(n.complete&&n.paymentRequest)return n;if(void 0===s||32!==s.length||!fQ.privateKeyVerify(s))throw Error("privateKey must be a 32 byte Buffer and valid private key");if(g0(n.tags,gq["19"])&&(r=gY(gJ(n.tags,gq["19"]))),n.payeeNodeKey&&(i=gY(n.payeeNodeKey)),i&&r&&!r.equals(i))throw Error("payee node key tag and payeeNodeKey attribute must match");i=r||i;let o=fG.from(fQ.publicKeyCreate(s));if(i&&!o.equals(i))throw Error("The private key given is not the private key of the node public key given");let a=fH.decode(n.wordsTemp,Number.MAX_SAFE_INTEGER).words,l=gQ(fG.concat([fG.from(n.prefix,"utf8"),gX(a)])),h=fQ.ecdsaSign(l,s);h.signature=fG.from(h.signature);let f=gZ(h.signature.toString("hex")+"0"+h.recid);return n.payeeNodeKey=o.toString("hex"),n.signature=h.signature.toString("hex"),n.recoveryFlag=h.recid,n.wordsTemp=fH.encode("temp",a.concat(f),Number.MAX_SAFE_INTEGER),n.complete=!0,n.paymentRequest=fH.encode(n.prefix,a.concat(f),Number.MAX_SAFE_INTEGER),g1(n)},satToHrp:g2,millisatToHrp:g3,hrpToSat:g6,hrpToMillisat:g5},customElements.define("mint-view",class extends oN{static properties={wallet:Object,_amount:Number,_expiry:Number,_satoshis:Number,_askPrice:Number,_mintQuote:Object,_checkQuoteIntervalId:Number};constructor(){super(),this.wallet=null,this._amount=0,this._expiry=0,this._satoshis=0,this._askPrice=0,this._mintQuote=null,this._checkQuoteIntervalId=0}createRenderRoot=()=>this;render=()=>oy`
        <div class="container">
            <div class="card">
                <div class="card-body">
                    <form @submit="${this._onMintFormSubmit}">
                        <div class="mb-3">
                            <label class="form-label">eCash</label>
                            <input type="number" class="form-control" name="amount" .disabled="${this._amount>0}" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Satoshis</label>
                            <input type="number" class="form-control" value="${this._satoshis}" disabled>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Ask Price</label>
                            <input type="number" class="form-control" value="${this._askPrice}" disabled>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Quote</label>
                            <input class="form-control" value="${this._mintQuote?.quote}" disabled>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Request</label>
                            <input class="form-control" value="${this._mintQuote?.quote}" disabled>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">State</label>
                            <input class="form-control" value="${this._mintQuote?.state}" disabled>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Expiry</label>
                            <input class="form-control" value="${this._expiry-Math.floor(Date.now()/1e3)}" disabled>
                        </div>
                        <input type="submit" class="btn btn-success w-100" value="Mint">
                    </form>
                </div>
            </div>
        </div>
        `;_onMintFormSubmit=async t=>{t.preventDefault();let e=new FormData(t.target);this._amount=Number.parseInt(e.get("amount")),this._mintQuote=await this.wallet.createMintQuote(this._amount),this._expiry=this._mintQuote.expiry,this._satoshis=ft.decode(this._mintQuote.request).satoshis,this._askPrice=(1e8/this._satoshis).toFixed(2),this._checkQuoteIntervalId=setInterval(this._checkQuote,5e3)};_checkQuote=async()=>{if(this._mintQuote?.quote){if(this._mintQuote=await this.wallet.checkMintQuote(this._mintQuote.quote),this._mintQuote.state===hQ.PAID){let t=await this.wallet.mintProofs(this._amount,this._mintQuote.quote);clearInterval(this._checkQuoteIntervalId),this._expiry=0,this._satoshis=0,this._askPrice=0,this._amount=0,this._mintQuote=null,this._checkQuoteIntervalId=0,this.dispatchEvent(new CustomEvent("mint",{detail:t}))}this._expiry-Math.floor(Date.now()/1e3)<0&&(clearInterval(this._checkQuoteIntervalId),this._expiry=0,this._satoshis=0,this._askPrice=0,this._amount=0,this._mintQuote=null,this._checkQuoteIntervalId=0)}}}),customElements.define("melt-view",class extends oN{static properties={wallet:Object,proofs:Array,_meltQuote:Object};constructor(){super(),this.wallet=null,this.proofs=[],this._meltQuote=null}createRenderRoot=()=>this;render=()=>oy`
        <div class="container">
            <div class="card">
                <div class="card-body">
                    <form @submit="${this._onMeltFormSubmit}">
                        <div class="mb-3">
                            <label class="form-label">Lightning Invoice</label>
                            <input type="text" class="form-control" name="invoice" @input="${this._onInvoiceInput}" required value="lnbc20u1p3u27nppp5pm074ffk6m42lvae8c6847z7xuvhyknwgkk7pzdce47grf2ksqwsdpv2phhwetjv4jzqcneypqyc6t8dp6xu6twva2xjuzzda6qcqzpgxqyz5vqsp5sw6n7cztudpl5m5jv3z6dtqpt2zhd3q6dwgftey9qxv09w82rgjq9qyyssqhtfl8wv7scwp5flqvmgjjh20nf6utvv5daw5h43h69yqfwjch7wnra3cn94qkscgewa33wvfh7guz76rzsfg9pwlk8mqd27wavf2udsq3yeuju">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Quote</label>
                            <input class="form-control" value="${this._meltQuote?.quote}" disabled>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">State</label>
                            <input class="form-control" value="${this._meltQuote?.state}" disabled>
                        </div>
                        <input type="submit" class="btn btn-success w-100" value="Melt">
                    </form>
                </div>
            </div>
        </div>
        `;_onInvoiceInput=t=>{t.preventDefault(),this.proofs.forEach(t=>0+t.amount),ft.decode(t.target.value)};_onMeltFormSubmit=async t=>{t.preventDefault();let e=new FormData(t.target).get("invoice");this._meltQuote=await this.wallet.createMeltQuote(e);let i=ft.decode(e);console.log(1e6*(this._meltQuote.amount+this._meltQuote.fee_reserve)/i.satoshis),console.log(this._meltQuote)}}),customElements.define("send-view",class extends oN{static properties={wallet:Object,proofs:Array,mintUrl:String,_token:String};constructor(){super(),this.wallet=null,this.proofs=[],this.mintUrl="",this._token=""}createRenderRoot=()=>this;render=()=>oy`
        <div class="container">
            <div class="card">
                <div class="card-body">
                    <form @submit="${this._onSendFormSubmit}">
                        <div class="mb-3">
                            <label class="form-label">Amount</label>
                            <input type="number" class="form-control" name="amount">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Token</label>
                            <input type="text" class="form-control" name="token" .value="${this._token}" disabled>
                        </div>
                        <input type="submit" class="btn btn-success" value="Send">
                    </form>
                </div>
            </div>
        </div>
        `;_onSendFormSubmit=async t=>{t.preventDefault();let e=Number.parseInt(new FormData(t.target).get("amount"));t.target.reset();let{keep:i,send:r}=await this.wallet.send(e,this.proofs,{includeFees:!0});this._token=hN({mint:this.mintUrl,proofs:r}),this.dispatchEvent(new CustomEvent("send",{detail:i}))}}),customElements.define("receive-view",class extends oN{static properties={wallet:Object};createRenderRoot=()=>this;render=()=>oy`
        <div class="container">
            <div class="card">
                <div class="card-body">
                    <form @submit="${this._onReceiveFormSubmit}">
                        <div class="mb-3">
                            <label class="form-label">Token</label>
                            <input type="text" class="form-control" name="token" required>
                        </div>
                        <input type="submit" class="btn btn-success" value="Receive">
                    </form>
                </div>
            </div>
        </div>
        `;_onReceiveFormSubmit=async t=>{t.preventDefault();let e=new FormData(t.target).get("token");t.target.reset(),console.log(e);let i=await this.wallet.receive(e);this.dispatchEvent(new CustomEvent("receive",{detail:i}))}});var g8={};tv(g8,"create",()=>d,t=>d=t),tv(g8,"toCanvas",()=>p,t=>p=t),tv(g8,"toDataURL",()=>b,t=>b=t),tv(g8,"toString",()=>g,t=>g=t);var g4={};g4=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then};const g9=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];y=function(t){if(!t)throw Error('"version" cannot be null or undefined');if(t<1||t>40)throw Error('"version" should be in range from 1 to 40');return 4*t+17},v=function(t){return g9[t]},_=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},w=function(t){if("function"!=typeof t)throw Error('"toSJISFunc" is not a valid function.');e=t},x=function(){return void 0!==e},S={bit:1},E={bit:0},k={bit:3},A={bit:2},M=function(t,e){if(t&&void 0!==t.bit&&t.bit>=0&&t.bit<4)return t;try{return function(t){if("string"!=typeof t)throw Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return S;case"m":case"medium":return E;case"q":case"quartile":return k;case"h":case"high":return A;default:throw Error("Unknown EC Level: "+t)}}(t)}catch(t){return e}};var g7={};function mt(){this.buffer=[],this.length=0}mt.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(let i=0;i<e;i++)this.putBit((t>>>e-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},g7=mt;var me={};function mi(t){if(!t||t<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}mi.prototype.set=function(t,e,i,r){let n=t*this.size+e;this.data[n]=i,r&&(this.reservedBit[n]=!0)},mi.prototype.get=function(t,e){return this.data[t*this.size+e]},mi.prototype.xor=function(t,e,i){this.data[t*this.size+e]^=i},mi.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},me=mi,T=function(t){if(1===t)return[];let e=Math.floor(t/7)+2,i=y(t),r=145===i?26:2*Math.ceil((i-13)/(2*e-2)),n=[i-7];for(let t=1;t<e-1;t++)n[t]=n[t-1]-r;return n.push(6),n.reverse()},I=function(t){let e=[],i=T(t),r=i.length;for(let t=0;t<r;t++)for(let n=0;n<r;n++)(0!==t||0!==n)&&(0!==t||n!==r-1)&&(t!==r-1||0!==n)&&e.push([i[t],i[n]]);return e},P=function(t){let e=y(t);return[[0,0],[e-7,0],[0,e-7]]},O={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const mr={N1:3,N2:3,N3:40,N4:10};B=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7?parseInt(t,10):void 0},C=function(t){let e=t.size,i=0,r=0,n=0,s=null,o=null;for(let a=0;a<e;a++){r=n=0,s=o=null;for(let l=0;l<e;l++){let e=t.get(a,l);e===s?r++:(r>=5&&(i+=mr.N1+(r-5)),s=e,r=1),(e=t.get(l,a))===o?n++:(n>=5&&(i+=mr.N1+(n-5)),o=e,n=1)}r>=5&&(i+=mr.N1+(r-5)),n>=5&&(i+=mr.N1+(n-5))}return i},R=function(t){let e=t.size,i=0;for(let r=0;r<e-1;r++)for(let n=0;n<e-1;n++){let e=t.get(r,n)+t.get(r,n+1)+t.get(r+1,n)+t.get(r+1,n+1);(4===e||0===e)&&i++}return i*mr.N2},L=function(t){let e=t.size,i=0,r=0,n=0;for(let s=0;s<e;s++){r=n=0;for(let o=0;o<e;o++)r=r<<1&2047|t.get(s,o),o>=10&&(1488===r||93===r)&&i++,n=n<<1&2047|t.get(o,s),o>=10&&(1488===n||93===n)&&i++}return i*mr.N3},N=function(t){let e=0,i=t.data.length;for(let r=0;r<i;r++)e+=t.data[r];return Math.abs(Math.ceil(100*e/i/5)-10)*mr.N4},D=function(t,e){let i=e.size;for(let r=0;r<i;r++)for(let n=0;n<i;n++)e.isReserved(n,r)||e.xor(n,r,function(t,e,i){switch(t){case O.PATTERN000:return(e+i)%2==0;case O.PATTERN001:return e%2==0;case O.PATTERN010:return i%3==0;case O.PATTERN011:return(e+i)%3==0;case O.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case O.PATTERN101:return e*i%2+e*i%3==0;case O.PATTERN110:return(e*i%2+e*i%3)%2==0;case O.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw Error("bad maskPattern:"+t)}}(t,n,r))},U=function(t,e){let i=Object.keys(O).length,r=0,n=1/0;for(let s=0;s<i;s++){e(s),D(s,t);let i=C(t)+R(t)+L(t)+N(t);D(s,t),i<n&&(n=i,r=s)}return r};const mn=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ms=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];H=function(t,e){switch(e){case S:return mn[(t-1)*4+0];case E:return mn[(t-1)*4+1];case k:return mn[(t-1)*4+2];case A:return mn[(t-1)*4+3];default:return}},j=function(t,e){switch(e){case S:return ms[(t-1)*4+0];case E:return ms[(t-1)*4+1];case k:return ms[(t-1)*4+2];case A:return ms[(t-1)*4+3];default:return}};var mo={};const ma=new Uint8Array(512),ml=new Uint8Array(256);function mh(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}!function(){let t=1;for(let e=0;e<255;e++)ma[e]=t,ml[t]=e,256&(t<<=1)&&(t^=285);for(let t=255;t<512;t++)ma[t]=ma[t-255]}(),z=function(t,e){return 0===t||0===e?0:ma[ml[t]+ml[e]]},F=function(t,e){let i=new Uint8Array(t.length+e.length-1);for(let r=0;r<t.length;r++)for(let n=0;n<e.length;n++)i[r+n]^=z(t[r],e[n]);return i},q=function(t,e){let i=new Uint8Array(t);for(;i.length-e.length>=0;){let t=i[0];for(let r=0;r<e.length;r++)i[r]^=z(e[r],t);let r=0;for(;r<i.length&&0===i[r];)r++;i=i.slice(r)}return i},$=function(t){let e=new Uint8Array([1]);for(let i=0;i<t;i++)e=F(e,new Uint8Array([1,ma[i]]));return e},mh.prototype.initialize=function(t){this.degree=t,this.genPoly=$(this.degree)},mh.prototype.encode=function(t){if(!this.genPoly)throw Error("Encoder not initialized");let e=new Uint8Array(t.length+this.degree);e.set(t);let i=q(e,this.genPoly),r=this.degree-i.length;if(r>0){let t=new Uint8Array(this.degree);return t.set(i,r),t}return i},mo=mh,tr=function(t){return!isNaN(t)&&t>=1&&t<=40};const mf="[0-9]+";let mu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";const mc="(?:(?![A-Z0-9 $%*+\\-./:]|"+(mu=mu.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";tn=RegExp(mu,"g"),ts=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),to=RegExp(mc,"g"),ta=RegExp(mf,"g"),tl=RegExp("[A-Z $%*+\\-./:]+","g");const md=RegExp("^"+mu+"$"),mp=RegExp("^"+mf+"$"),mb=RegExp("^[A-Z0-9 $%*+\\-./:]+$");Q={id:"Numeric",bit:1,ccBits:[10,12,14]},G={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},X={id:"Byte",bit:4,ccBits:[8,16,16]},Y={id:"Kanji",bit:8,ccBits:[8,10,12]},Z={bit:-1},J=function(t,e){if(!t.ccBits)throw Error("Invalid mode: "+t);if(!tr(e))throw Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},tt=function(t){return mp.test(t)?Q:mb.test(t)?G:md.test(t)?Y:X},te=function(t){if(t&&t.id)return t.id;throw Error("Invalid mode")},ti=function(t,e){if(t&&t.bit&&t.ccBits)return t;try{return function(t){if("string"!=typeof t)throw Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return Q;case"alphanumeric":return G;case"kanji":return Y;case"byte":return X;default:throw Error("Unknown mode: "+t)}}(t)}catch(t){return e}};const mg=_(7973);V=function(t,e,i){if(!tr(t))throw Error("Invalid QR Code version");void 0===i&&(i=X);let r=(v(t)-j(t,e))*8;if(i===Z)return r;let n=r-(J(i,t)+4);switch(i){case Q:return Math.floor(n/10*3);case G:return Math.floor(n/11*2);case Y:return Math.floor(n/13);default:return Math.floor(n/8)}},W=function(t,e){let i,r=M(e,E);if(Array.isArray(t)){if(t.length>1)return function(t,e){for(let i=1;i<=40;i++)if(function(t,e){let i=0;return t.forEach(function(t){let r=J(t.mode,e)+4;i+=r+t.getBitsLength()}),i}(t,i)<=V(i,e,Z))return i}(t,r);if(0===t.length)return 1;i=t[0]}else i=t;return function(t,e,i){for(let r=1;r<=40;r++)if(e<=V(r,i,t))return r}(i.mode,i.getLength(),r)},K=function(t){if(!tr(t)||t<7)throw Error("Invalid QR Code version");let e=t<<12;for(;_(e)-mg>=0;)e^=7973<<_(e)-mg;return t<<12|e};const mm=_(1335);th=function(t,e){let i=t.bit<<3|e,r=i<<10;for(;_(r)-mm>=0;)r^=1335<<_(r)-mm;return(i<<10|r)^21522};var my={};function mv(t){this.mode=Q,this.data=t.toString()}mv.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},mv.prototype.getLength=function(){return this.data.length},mv.prototype.getBitsLength=function(){return mv.getBitsLength(this.data.length)},mv.prototype.write=function(t){let e,i,r;for(e=0;e+3<=this.data.length;e+=3)r=parseInt(this.data.substr(e,3),10),t.put(r,10);let n=this.data.length-e;n>0&&(r=parseInt(this.data.substr(e),10),t.put(r,3*n+1))},my=mv;var m_={};const mw=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function mx(t){this.mode=G,this.data=t}mx.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},mx.prototype.getLength=function(){return this.data.length},mx.prototype.getBitsLength=function(){return mx.getBitsLength(this.data.length)},mx.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let i=45*mw.indexOf(this.data[e]);i+=mw.indexOf(this.data[e+1]),t.put(i,11)}this.data.length%2&&t.put(mw.indexOf(this.data[e]),6)},m_=mx;var mS={};function mE(t){this.mode=X,"string"==typeof t?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}mE.getBitsLength=function(t){return 8*t},mE.prototype.getLength=function(){return this.data.length},mE.prototype.getBitsLength=function(){return mE.getBitsLength(this.data.length)},mE.prototype.write=function(t){for(let e=0,i=this.data.length;e<i;e++)t.put(this.data[e],8)},mS=mE;var mk={};function mA(t){this.mode=Y,this.data=t}mA.getBitsLength=function(t){return 13*t},mA.prototype.getLength=function(){return this.data.length},mA.prototype.getBitsLength=function(){return mA.getBitsLength(this.data.length)},mA.prototype.write=function(t){let i;for(i=0;i<this.data.length;i++){var r;let n=(r=this.data[i],e(r));if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw Error("Invalid SJIS character: "+this.data[i]+"\nMake sure your charset is UTF-8");n=(n>>>8&255)*192+(255&n),t.put(n,13)}},mk=mA;var mM={},mT={single_source_shortest_paths:function(t,e,i){var r,n,s,o,a,l,h,f={},u={};u[e]=0;var c=mT.PriorityQueue.make();for(c.push(e,0);!c.empty();)for(s in n=(r=c.pop()).value,o=r.cost,a=t[n]||{})a.hasOwnProperty(s)&&(l=o+a[s],h=u[s],(void 0===u[s]||h>l)&&(u[s]=l,c.push(s,l),f[s]=n));if(void 0!==i&&void 0===u[i])throw Error(["Could not find a path from ",e," to ",i,"."].join(""));return f},extract_shortest_path_from_predecessor_list:function(t,e){for(var i=[],r=e;r;)i.push(r),t[r],r=t[r];return i.reverse(),i},find_path:function(t,e,i){var r=mT.single_source_shortest_paths(t,e,i);return mT.extract_shortest_path_from_predecessor_list(r,i)},PriorityQueue:{make:function(t){var e,i=mT.PriorityQueue,r={};for(e in t=t||{},i)i.hasOwnProperty(e)&&(r[e]=i[e]);return r.queue=[],r.sorter=t.sorter||i.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};function mI(t){return unescape(encodeURIComponent(t)).length}function mP(t,e,i){let r,n=[];for(;null!==(r=t.exec(i));)n.push({data:r[0],index:r.index,mode:e,length:r[0].length});return n}function mO(t){let e,i,r=mP(ta,Q,t),n=mP(tl,G,t);return x()?(e=mP(to,X,t),i=mP(tn,Y,t)):(e=mP(ts,X,t),i=[]),r.concat(n,e,i).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function mB(t,e){switch(e){case Q:return my.getBitsLength(t);case G:return m_.getBitsLength(t);case Y:return mk.getBitsLength(t);case X:return mS.getBitsLength(t)}}function mC(t,e){let i,r=tt(t);if((i=ti(e,r))!==X&&i.bit<r.bit)throw Error('"'+t+'" cannot be encoded with mode '+te(i)+".\n Suggested mode is: "+te(r));switch(i!==Y||x()||(i=X),i){case Q:return new my(t);case G:return new m_(t);case Y:return new mk(t);case X:return new mS(t)}}function mR(t,e,i){let r,n,s=t.size,o=th(e,i);for(r=0;r<15;r++)n=(o>>r&1)==1,r<6?t.set(r,8,n,!0):r<8?t.set(r+1,8,n,!0):t.set(s-15+r,8,n,!0),r<8?t.set(8,s-r-1,n,!0):r<9?t.set(8,15-r-1+1,n,!0):t.set(8,15-r-1,n,!0);t.set(s-8,8,1,!0)}function mL(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw Error("Invalid hex color: "+t);(3===e.length||4===e.length)&&(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");let i=parseInt(e.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:255&i,hex:"#"+e.slice(0,6).join("")}}function mN(t,e){let i=t.a/255,r=e+'="'+t.hex+'"';return i<1?r+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':r}function mD(t,e,i){let r=t+e;return void 0!==i&&(r+=" "+i),r}function mU(t,e,i,r,n){let s=[].slice.call(arguments,1),o=s.length,a="function"==typeof s[o-1];if(!a&&!g4())throw Error("Callback required as last argument");if(a){if(o<2)throw Error("Too few arguments provided");2===o?(n=i,i=e,e=r=void 0):3===o&&(e.getContext&&void 0===n?(n=r,r=void 0):(n=r,r=i,i=e,e=void 0))}else{if(o<1)throw Error("Too few arguments provided");return 1===o?(i=e,e=r=void 0):2!==o||e.getContext||(r=i,i=e,e=void 0),new Promise(function(n,s){try{let s=m(i,r);n(t(s,e,r))}catch(t){s(t)}})}try{let s=m(i,r);n(null,t(s,e,r))}catch(t){n(t)}}mM=mT,tf=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(mC(e,null)):e.data&&t.push(mC(e.data,e.mode)),t},[])},tu=function(t,e){let i=function(t,e){let i={},r={start:{}},n=["start"];for(let s=0;s<t.length;s++){let o=t[s],a=[];for(let t=0;t<o.length;t++){let l=o[t],h=""+s+t;a.push(h),i[h]={node:l,lastCount:0},r[h]={};for(let t=0;t<n.length;t++){let s=n[t];i[s]&&i[s].node.mode===l.mode?(r[s][h]=mB(i[s].lastCount+l.length,l.mode)-mB(i[s].lastCount,l.mode),i[s].lastCount+=l.length):(i[s]&&(i[s].lastCount=l.length),r[s][h]=mB(l.length,l.mode)+4+J(l.mode,e))}}n=a}for(let t=0;t<n.length;t++)r[n[t]].end=0;return{map:r,table:i}}(function(t){let e=[];for(let i=0;i<t.length;i++){let r=t[i];switch(r.mode){case Q:e.push([r,{data:r.data,mode:G,length:r.length},{data:r.data,mode:X,length:r.length}]);break;case G:e.push([r,{data:r.data,mode:X,length:r.length}]);break;case Y:e.push([r,{data:r.data,mode:X,length:mI(r.data)}]);break;case X:e.push([{data:r.data,mode:X,length:mI(r.data)}])}}return e}(mO(t,x())),e),r=mM.find_path(i.map,"start","end"),n=[];for(let t=1;t<r.length-1;t++)n.push(i.table[r[t]].node);return tf(n.reduce(function(t,e){let i=t.length-1>=0?t[t.length-1]:null;return i&&i.mode===e.mode?t[t.length-1].data+=e.data:t.push(e),t},[]))},m=function(t,e){let i,r;if(void 0===t||""===t)throw Error("No input text");let n=E;if(void 0!==e){var s;n=M(e.errorCorrectionLevel,E),i=tr(s=e.version)?parseInt(s,10):void 0,r=B(e.maskPattern),e.toSJISFunc&&w(e.toSJISFunc)}return function(t,e,i,r){let n;if(Array.isArray(t))n=tf(t);else if("string"==typeof t){let r=e;!r&&(r=W(tf(mO(t,x())),i)),n=tu(t,r||40)}else throw Error("Invalid data");let s=W(n,i);if(!s)throw Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<s)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else e=s;let o=function(t,e,i){let r=new g7;i.forEach(function(e){r.put(e.mode.bit,4),r.put(e.getLength(),J(e.mode,t)),e.write(r)});let n=(v(t)-j(t,e))*8;for(r.getLengthInBits()+4<=n&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);let s=(n-r.getLengthInBits())/8;for(let t=0;t<s;t++)r.put(t%2?17:236,8);return function(t,e,i){let r,n,s=v(e),o=s-j(e,i),a=H(e,i),l=s%a,h=a-l,f=Math.floor(s/a),u=Math.floor(o/a),c=u+1,d=f-u,p=new mo(d),b=0,g=Array(a),m=Array(a),y=0,_=new Uint8Array(t.buffer);for(let t=0;t<a;t++){let e=t<h?u:c;g[t]=_.slice(b,b+e),m[t]=p.encode(g[t]),b+=e,y=Math.max(y,e)}let w=new Uint8Array(s),x=0;for(r=0;r<y;r++)for(n=0;n<a;n++)r<g[n].length&&(w[x++]=g[n][r]);for(r=0;r<d;r++)for(n=0;n<a;n++)w[x++]=m[n][r];return w}(r,t,e)}(e,i,n),a=y(e),l=new me(a);return function(t,e){let i=t.size,r=P(e);for(let e=0;e<r.length;e++){let n=r[e][0],s=r[e][1];for(let e=-1;e<=7;e++)if(!(n+e<=-1)&&!(i<=n+e))for(let r=-1;r<=7;r++)s+r<=-1||i<=s+r||(e>=0&&e<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===e||6===e)||e>=2&&e<=4&&r>=2&&r<=4?t.set(n+e,s+r,!0,!0):t.set(n+e,s+r,!1,!0))}}(l,e),function(t){let e=t.size;for(let i=8;i<e-8;i++){let e=i%2==0;t.set(i,6,e,!0),t.set(6,i,e,!0)}}(l),function(t,e){let i=I(e);for(let e=0;e<i.length;e++){let r=i[e][0],n=i[e][1];for(let e=-2;e<=2;e++)for(let i=-2;i<=2;i++)-2===e||2===e||-2===i||2===i||0===e&&0===i?t.set(r+e,n+i,!0,!0):t.set(r+e,n+i,!1,!0)}}(l,e),mR(l,i,0),e>=7&&function(t,e){let i,r,n,s=t.size,o=K(e);for(let e=0;e<18;e++)i=Math.floor(e/3),r=e%3+s-8-3,n=(o>>e&1)==1,t.set(i,r,n,!0),t.set(r,i,n,!0)}(l,e),function(t,e){let i=t.size,r=-1,n=i-1,s=7,o=0;for(let a=i-1;a>0;a-=2)for(6===a&&a--;;){for(let i=0;i<2;i++)if(!t.isReserved(n,a-i)){let r=!1;o<e.length&&(r=(e[o]>>>s&1)==1),t.set(n,a-i,r),-1==--s&&(o++,s=7)}if((n+=r)<0||i<=n){n-=r,r=-r;break}}}(l,o),isNaN(r)&&(r=U(l,mR.bind(null,l,i))),D(r,l),mR(l,i,r),{modules:l,version:e,errorCorrectionLevel:i,maskPattern:r,segments:n}}(t,i,n,r)},td=function(t){t||(t={}),t.color||(t.color={});let e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,r=t.scale||4;return{width:i,scale:i?4:r,margin:e,color:{dark:mL(t.color.dark||"#000000ff"),light:mL(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},tp=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},tb=function(t,e){let i=tp(t,e);return Math.floor((t+2*e.margin)*i)},tg=function(t,e,i){let r=e.modules.size,n=e.modules.data,s=tp(r,i),o=Math.floor((r+2*i.margin)*s),a=i.margin*s,l=[i.color.light,i.color.dark];for(let e=0;e<o;e++)for(let h=0;h<o;h++){let f=(e*o+h)*4,u=i.color.light;e>=a&&h>=a&&e<o-a&&h<o-a&&(u=l[+!!n[Math.floor((e-a)/s)*r+Math.floor((h-a)/s)]]),t[f++]=u.r,t[f++]=u.g,t[f++]=u.b,t[f]=u.a}},tc=function(t,e,i){var r;let n=i,s=e;void 0!==n||e&&e.getContext||(n=e,e=void 0),e||(s=function(){try{return document.createElement("canvas")}catch(t){throw Error("You need to specify a canvas element")}}()),n=td(n);let o=tb(t.modules.size,n),a=s.getContext("2d"),l=a.createImageData(o,o);return tg(l.data,t,n),r=s,a.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=o,r.width=o,r.style.height=o+"px",r.style.width=o+"px",a.putImageData(l,0,0),s},tm=function(t,e,i){let r=td(e),n=t.modules.size,s=t.modules.data,o=n+2*r.margin,a=r.color.light.a?"<path "+mN(r.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",l="<path "+mN(r.color.dark,"stroke")+' d="'+function(t,e,i){let r="",n=0,s=!1,o=0;for(let a=0;a<t.length;a++){let l=Math.floor(a%e),h=Math.floor(a/e);l||s||(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?mD("M",l+i,.5+h+i):mD("m",n,0),n=0,s=!1),l+1<e&&t[a+1]||(r+=mD("h",o),o=0)):n++}return r}(s,n,r.margin)+'"/>',h='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+('viewBox="0 0 '+o+" ")+o+'" shape-rendering="crispEdges">'+a+l+"</svg>\n";return"function"==typeof i&&i(null,h),h},d=m,p=mU.bind(null,tc),b=mU.bind(null,function(t,e,i){let r=i;void 0!==r||e&&e.getContext||(r=e,e=void 0),r||(r={});let n=tc(t,e,r),s=r.type||"image/png",o=r.rendererOpts||{};return n.toDataURL(s,o.quality)}),g=mU.bind(null,function(t,e,i){return tm(t,i)});class mH extends oN{static properties={wallet:Object,mintUrl:String,_proofs:Array,_amount:Number,_mintQuote:Object,_expiry:Number,_satoshis:Number,_askPrice:Number,_bidPrice:Number,_checkQuoteIntervalId:Number,_data:Array,_requestAsDataUrl:StaticRange};constructor(){super(),this.wallet=null,this.mintUrl="",this._mintQuote=null,this._expiry=0,this._satoshis=0,this._askPrice=0,this._checkQuoteIntervalId=0,this._data=[],this._requestAsDataUrl="",this._proofs=[]}_renderForm=()=>oy`
        <form @submit="${this._onFormSubmit}">
            <div class="mb-3">
                <label class="form-label">USD cent</label>
                <input type="number" name="amount" class="form-control" value="100">
            </div>
            <div class="mb-3">
                <label class="form-label">Satoshis</label>
                <input type="number" class="form-control" value="${this._satoshis}">
            </div>
            <div class="mb-3">
                <label class="form-label">Lightning Address</label>
                <input type="text" name="lnaddress" class="form-control" value="slekrem@walletofsatoshi.com">
            </div>
            <div class="mb-3">
                <label class="form-label">Ask Price</label>
                <input type="number" class="form-control" value="${this._askPrice}" disabled>
            </div>
            <div class="mb-3">
                <label class="form-label">Bid Price</label>
                <input type="number" class="form-control" value="${this._bidPrice}" disabled>
            </div>
            <div class="mb-3">
                <label class="form-label">Spread</label>
                <input type="number" class="form-control" value="${(this._askPrice-this._bidPrice).toFixed(2)}" disabled>
            </div>
            <input type="submit" class="btn btn-success w-100" value="Start">
        </form>
        `;createRenderRoot=()=>this;render=()=>{let t=0;return this._proofs.forEach(e=>t+=e.amount),oy`
        <div class="container">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-6">
                            ${this._renderForm()}
                        </div>
                        <div class="col-6">
                            <img src="${this._requestAsDataUrl}" class="img-fluid" alt="...">
                            <form @submit="${this._onFormSellSubmit}">
                                <div class="mb-3">
                                    <label class="form-label">USD</label>
                                    <input type="number" name="amount" class="form-control" value="${t}">
                                </div>
                                <input type="submit" class="btn btn-success" value="Sell">
                            </form>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                   <th>Amount</th>
                                   <th>Satoshis</th>
                                   <th>Ask Price</th>
                                   <th>Bid Price</th>
                                   <th>Spread</th>
                                   <th>USD</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${this._data.map(t=>oy`
                                    <tr>
                                        <td>${t.amount}</td>
                                        <td>${t.satoshis}</td>
                                        <td>${t.askPrice}</td>
                                        <td>${t.bidPrice}</td>
                                        <td>${t.spread}</td>
                                        <td>${t.usd}</td>
                                    </tr>
                                    `)}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        `};_onFormSubmit=async t=>{t.preventDefault();let e=new FormData(t.target);this._amount=e.get("amount"),e.get("lnaddress"),0==this._checkQuoteIntervalId&&(await this._asdasdasd(),this._checkQuoteIntervalId=setInterval(this._checkQuote,5e3))};_asdasdasd=async()=>{this._mintQuote=await this.wallet.createMintQuote(this._amount),this._expiry=this._mintQuote.expiry,this._satoshis=ft.decode(this._mintQuote.request).satoshis,this._askPrice=(1e8/this._satoshis).toFixed(2);let t=await fetch("https://walletofsatoshi.com/.well-known/lnurlp/costlyalibi53"),e=await t.json(),i=await fetch(`${e.callback}?amount=${1e3*this._satoshis}`),r=await i.json();this._meltQuote=await this.wallet.createMeltQuote(r.pr),this._bidPrice=(1e6*(this._meltQuote.amount+this._meltQuote.fee_reserve)/this._satoshis).toFixed(2);let n=this._meltQuote.amount+this._meltQuote.fee_reserve;this._askPrice=(1e8*n/(100*this._satoshis)).toFixed(2),this._bidPrice=(1e8*this._amount/(100*this._satoshis)).toFixed(2);let s=0;this._proofs.forEach(t=>s+=t.amount),this._data.push({amount:this._amount,satoshis:this._satoshis,askPrice:this._askPrice,bidPrice:this._bidPrice,spread:this._askPrice-this._bidPrice,usd:s}),this._requestAsDataUrl=await tw(g8).toDataURL(this._mintQuote.request),this.requestUpdate()};_checkQuote=async()=>{this._expiry-Math.floor(Date.now()/1e3)<0&&(clearInterval(this._checkQuoteIntervalId),this._mintQuote=await this.wallet.checkMintQuote(this._mintQuote.quote),this._mintQuote.state===hQ.PAID&&(await this.wallet.mintProofs(this._amount,this._mintQuote.quote)).forEach(t=>this._proofs.push(t)),await this._asdasdasd(),this._checkQuoteIntervalId=setInterval(this._checkQuote,5e3))};_onFormSellSubmit=async t=>{t.preventDefault(),this._token=hN({mint:this.mintUrl,proofs:this._proofs}),console.log(this._token);let e=this._meltQuote.amount+this._meltQuote.fee_reserve,{keep:i,send:r}=await this.wallet.send(e,this._proofs,{includeFees:!0});this._proofs=i;try{let{change:t}=await this.wallet.meltProofs(this._meltQuote,r);this._proofs.push(...t)}catch{this._proofs=r}}}function mj(t){return t+.5|0}customElements.define("price-view",mH);const mF=(t,e,i)=>Math.max(Math.min(t,i),e);function mq(t){return mF(mj(2.55*t),0,255)}function m$(t){return mF(mj(255*t),0,255)}function mz(t){return mF(mj(t/2.55)/100,0,1)}function mV(t){return mF(mj(100*t),0,100)}const mW={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mK=[..."0123456789ABCDEF"],mQ=t=>mK[15&t],mG=t=>mK[(240&t)>>4]+mK[15&t],mX=t=>(240&t)>>4==(15&t),mY=t=>mX(t.r)&&mX(t.g)&&mX(t.b)&&mX(t.a),mZ=(t,e)=>t<255?e(t):"",mJ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function m0(t,e,i){let r=e*Math.min(i,1-i),n=(e,n=(e+t/30)%12)=>i-r*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function m1(t,e,i){let r=(r,n=(r+t/60)%6)=>i-i*e*Math.max(Math.min(n,4-n,1),0);return[r(5),r(3),r(1)]}function m2(t,e,i){let r,n=m0(t,1,.5);for(e+i>1&&(r=1/(e+i),e*=r,i*=r),r=0;r<3;r++)n[r]*=1-e-i,n[r]+=e;return n}function m3(t){let e,i,r,n=t.r/255,s=t.g/255,o=t.b/255,a=Math.max(n,s,o),l=Math.min(n,s,o),h=(a+l)/2;if(a!==l)r=a-l,i=h>.5?r/(2-a-l):r/(a+l),e=60*(e=n===a?(s-o)/r+6*(s<o):s===a?(o-n)/r+2:(n-s)/r+4)+.5;return[0|e,i||0,h]}function m6(t,e,i,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,r)).map(m$)}function m5(t){return(t%360+360)%360}const m8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},m4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},m9=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,m7=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,yt=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ye(t,e,i){if(t){let r=m3(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*i,0===e?360:1)),t.r=(r=m6(m0,r,void 0,void 0))[0],t.g=r[1],t.b=r[2]}}function yi(t,e){return t?Object.assign(e||{},t):t}function yr(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=m$(t[3]))):(e=yi(t,{r:0,g:0,b:0,a:1})).a=m$(e.a),e}class yn{constructor(t){let e;if(t instanceof yn)return t;let r=typeof t;if("object"===r)e=yr(t);else if("string"===r){var n,s;s=t.length,"#"===t[0]&&(4===s||5===s?n={r:255&17*mW[t[1]],g:255&17*mW[t[2]],b:255&17*mW[t[3]],a:5===s?17*mW[t[4]]:255}:(7===s||9===s)&&(n={r:mW[t[1]]<<4|mW[t[2]],g:mW[t[3]]<<4|mW[t[4]],b:mW[t[5]]<<4|mW[t[6]],a:9===s?mW[t[7]]<<4|mW[t[8]]:255})),e=n||function(t){i||((i=function(){let t,e,i,r,n,s={},o=Object.keys(m4),a=Object.keys(m8);for(t=0;t<o.length;t++){for(e=0,r=n=o[t];e<a.length;e++)i=a[e],n=n.replace(i,m8[i]);i=parseInt(m4[r],16),s[n]=[i>>16&255,i>>8&255,255&i]}return s}()).transparent=[0,0,0,0]);let e=i[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(t)||("r"===t.charAt(0)?function(t){let e,i,r,n=m9.exec(t),s=255;if(n){if(n[7]!==e){let t=+n[7];s=n[8]?mq(t):mF(255*t,0,255)}return e=+n[1],i=+n[3],r=+n[5],e=255&(n[2]?mq(e):mF(e,0,255)),{r:e,g:i=255&(n[4]?mq(i):mF(i,0,255)),b:r=255&(n[6]?mq(r):mF(r,0,255)),a:s}}}(t):function(t){let e,i=mJ.exec(t),r=255;if(!i)return;i[5]!==e&&(r=i[6]?mq(+i[5]):m$(+i[5]));let n=m5(+i[2]),s=+i[3]/100,o=+i[4]/100;return{r:(e="hwb"===i[1]?m6(m2,n,s,o):"hsv"===i[1]?m6(m1,n,s,o):m6(m0,n,s,o))[0],g:e[1],b:e[2],a:r}}(t))}this._rgb=e,this._valid=!!e}get valid(){return this._valid}get rgb(){var t=yi(this._rgb);return t&&(t.a=mz(t.a)),t}set rgb(t){this._rgb=yr(t)}rgbString(){var t;return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${mz(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0}hexString(){var t,e;return this._valid?(e=mY(t=this._rgb)?mQ:mG,t?"#"+e(t.r)+e(t.g)+e(t.b)+mZ(t.a,e):void 0):void 0}hslString(){return this._valid?function(t){if(!t)return;let e=m3(t),i=e[0],r=mV(e[1]),n=mV(e[2]);return t.a<255?`hsla(${i}, ${r}%, ${n}%, ${mz(t.a)})`:`hsl(${i}, ${r}%, ${n}%)`}(this._rgb):void 0}mix(t,e){if(t){let i,r=this.rgb,n=t.rgb,s=e===i?.5:e,o=2*s-1,a=r.a-n.a,l=((o*a==-1?o:(o+a)/(1+o*a))+1)/2;i=1-l,r.r=255&l*r.r+i*n.r+.5,r.g=255&l*r.g+i*n.g+.5,r.b=255&l*r.b+i*n.b+.5,r.a=s*r.a+(1-s)*n.a,this.rgb=r}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,i){let r=yt(mz(t.r)),n=yt(mz(t.g)),s=yt(mz(t.b));return{r:m$(m7(r+i*(yt(mz(e.r))-r))),g:m$(m7(n+i*(yt(mz(e.g))-n))),b:m$(m7(s+i*(yt(mz(e.b))-s))),a:t.a+i*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new yn(this.rgb)}alpha(t){return this._rgb.a=m$(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=mj(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ye(this._rgb,2,t),this}darken(t){return ye(this._rgb,2,-t),this}saturate(t){return ye(this._rgb,1,t),this}desaturate(t){return ye(this._rgb,1,-t),this}rotate(t){var e,i;return(i=m3(e=this._rgb))[0]=m5(i[0]+t),e.r=(i=m6(m0,i,void 0,void 0))[0],e.g=i[1],e.b=i[2],this}}function ys(){}const yo=(l=0,()=>l++);function ya(t){return null==t}function yl(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function yh(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function yf(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function yu(t,e){return yf(t)?t:e}function yc(t,e){return void 0===t?e:t}const yd=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e,yp=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function yb(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function yg(t,e,i,r){let n,s,o;if(yl(t)){if(s=t.length,r)for(n=s-1;n>=0;n--)e.call(i,t[n],n);else for(n=0;n<s;n++)e.call(i,t[n],n)}else if(yh(t))for(n=0,s=(o=Object.keys(t)).length;n<s;n++)e.call(i,t[o[n]],o[n])}function ym(t,e){let i,r,n,s;if(!t||!e||t.length!==e.length)return!1;for(i=0,r=t.length;i<r;++i)if(n=t[i],s=e[i],n.datasetIndex!==s.datasetIndex||n.index!==s.index)return!1;return!0}function yy(t){if(yl(t))return t.map(yy);if(yh(t)){let e=Object.create(null),i=Object.keys(t),r=i.length,n=0;for(;n<r;++n)e[i[n]]=yy(t[i[n]]);return e}return t}function yv(t){return -1===["__proto__","prototype","constructor"].indexOf(t)}function y_(t,e,i,r){if(!yv(t))return;let n=e[t],s=i[t];yh(n)&&yh(s)?yw(n,s,r):e[t]=yy(s)}function yw(t,e,i){let r,n=yl(e)?e:[e],s=n.length;if(!yh(t))return t;let o=(i=i||{}).merger||y_;for(let e=0;e<s;++e){if(!yh(r=n[e]))continue;let s=Object.keys(r);for(let e=0,n=s.length;e<n;++e)o(s[e],t,r,i)}return t}function yx(t,e){return yw(t,e,{merger:yS})}function yS(t,e,i){if(!yv(t))return;let r=e[t],n=i[t];yh(r)&&yh(n)?yx(r,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=yy(n))}const yE={"":t=>t,x:t=>t.x,y:t=>t.y};function yk(t,e){return(yE[e]||(yE[e]=function(t){let e=function(t){let e=t.split("."),i=[],r="";for(let t of e)(r+=t).endsWith("\\")?r=r.slice(0,-1)+".":(i.push(r),r="");return i}(t);return t=>{for(let i of e){if(""===i)break;t=t&&t[i]}return t}}(e)))(t)}function yA(t){return t.charAt(0).toUpperCase()+t.slice(1)}const yM=t=>void 0!==t,yT=t=>"function"==typeof t,yI=(t,e)=>{if(t.size!==e.size)return!1;for(let i of t)if(!e.has(i))return!1;return!0},yP=Math.PI,yO=2*yP,yB=yO+yP,yC=Number.POSITIVE_INFINITY,yR=yP/180,yL=yP/2,yN=yP/4,yD=2*yP/3,yU=Math.log10,yH=Math.sign;function yj(t,e,i){return Math.abs(t-e)<i}function yF(t){let e=Math.round(t),i=Math.pow(10,Math.floor(yU(t=yj(t,e,t/1e3)?e:t))),r=t/i;return(r<=1?1:r<=2?2:r<=5?5:10)*i}function yq(t){return"symbol"!=typeof t&&("object"!=typeof t||null===t||!!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t))&&!isNaN(parseFloat(t))&&isFinite(t)}function y$(t,e,i){let r,n,s;for(r=0,n=t.length;r<n;r++)isNaN(s=t[r][i])||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function yz(t){return yP/180*t}function yV(t){if(!yf(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function yW(t,e){let i=e.x-t.x,r=e.y-t.y,n=Math.sqrt(i*i+r*r),s=Math.atan2(r,i);return s<-.5*yP&&(s+=yO),{angle:s,distance:n}}function yK(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yQ(t,e){return(t-e+yB)%yO-yP}function yG(t){return(t%yO+yO)%yO}function yX(t,e,i,r){let n=yG(t),s=yG(e),o=yG(i),a=yG(s-n),l=yG(o-n),h=yG(n-s),f=yG(n-o);return n===s||n===o||r&&s===o||a>l&&h<f}function yY(t,e,i){return Math.max(e,Math.min(i,t))}function yZ(t,e,i,r=1e-6){return t>=Math.min(e,i)-r&&t<=Math.max(e,i)+r}function yJ(t,e,i){let r;i=i||(i=>t[i]<e);let n=t.length-1,s=0;for(;n-s>1;)i(r=s+n>>1)?s=r:n=r;return{lo:s,hi:n}}const y0=(t,e,i,r)=>yJ(t,i,r?r=>{let n=t[r][e];return n<i||n===i&&t[r+1][e]===i}:r=>t[r][e]<i),y1=(t,e,i)=>yJ(t,i,r=>t[r][e]>=i),y2=["push","pop","shift","splice","unshift"];function y3(t,e){let i=t._chartjs;if(!i)return;let r=i.listeners,n=r.indexOf(e);-1!==n&&r.splice(n,1),r.length>0||(y2.forEach(e=>{delete t[e]}),delete t._chartjs)}function y6(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}const y5="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function y8(t,e){let i=[],r=!1;return function(...n){i=n,r||(r=!0,y5.call(window,()=>{r=!1,t.apply(e,i)}))}}const y4=t=>"start"===t?"left":"end"===t?"right":"center",y9=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2,y7=(t,e,i,r)=>t===(r?"left":"right")?i:"center"===t?(e+i)/2:e;function vt(t,e,i){let r=e.length,n=0,s=r;if(t._sorted){let{iScale:o,vScale:a,_parsed:l}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,f=o.axis,{min:u,max:c,minDefined:d,maxDefined:p}=o.getUserBounds();if(d){if(n=Math.min(y0(l,f,u).lo,i?r:y0(e,f,o.getPixelForValue(u)).lo),h){let t=l.slice(0,n+1).reverse().findIndex(t=>!ya(t[a.axis]));n-=Math.max(0,t)}n=yY(n,0,r-1)}if(p){let t=Math.max(y0(l,o.axis,c,!0).hi+1,i?0:y0(e,f,o.getPixelForValue(c),!0).hi+1);if(h){let e=l.slice(t-1).findIndex(t=>!ya(t[a.axis]));t+=Math.max(0,e)}s=yY(t,n,r)-n}else s=r-n}return{start:n,count:s}}function ve(t){let{xScale:e,yScale:i,_scaleRanges:r}=t,n={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!r)return t._scaleRanges=n,!0;let s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==i.min||r.ymax!==i.max;return Object.assign(r,n),s}const vi=t=>0===t||1===t,vr=(t,e,i)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*yO/i)),vn=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*yO/i)+1,vs={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*yL)+1,easeOutSine:t=>Math.sin(t*yL),easeInOutSine:t=>-.5*(Math.cos(yP*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>vi(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(-Math.pow(2,-10*(2*t-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>vi(t)?t:vr(t,.075,.3),easeOutElastic:t=>vi(t)?t:vn(t,.075,.3),easeInOutElastic:t=>vi(t)?t:t<.5?.5*vr(2*t,.1125,.45):.5+.5*vn(2*t-1,.1125,.45),easeInBack:t=>t*t*(2.70158*t-1.70158),easeOutBack:t=>(t-=1)*t*(2.70158*t+1.70158)+1,easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-vs.easeOutBounce(1-t),easeOutBounce:t=>t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375,easeInOutBounce:t=>t<.5?.5*vs.easeInBounce(2*t):.5*vs.easeOutBounce(2*t-1)+.5};function vo(t){if(t&&"object"==typeof t){let e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function va(t){return vo(t)?t:new yn(t)}function vl(t){return vo(t)?t:new yn(t).saturate(.5).darken(.1).hexString()}const vh=["x","y","borderWidth","radius","tension"],vf=["color","borderColor","backgroundColor"],vu=new Map;function vc(t,e,i){return(function(t,e){let i=t+JSON.stringify(e=e||{}),r=vu.get(i);return r||(r=new Intl.NumberFormat(t,e),vu.set(i,r)),r})(e,i).format(t)}const vd={values:t=>yl(t)?t:""+t,numeric(t,e,i){let r;if(0===t)return"0";let n=this.chart.options.locale,s=t;if(i.length>1){var o,a;let e,n=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(n<1e-4||n>1e15)&&(r="scientific"),o=t,Math.abs(e=(a=i).length>3?a[2].value-a[1].value:a[1].value-a[0].value)>=1&&o!==Math.floor(o)&&(e=o-Math.floor(o)),s=e}let l=yU(Math.abs(s)),h=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),vc(t,n,f)},logarithmic(t,e,i){return 0===t?"0":[1,2,3,5,10,15].includes(i[e].significand||t/Math.pow(10,Math.floor(yU(t))))||e>.8*i.length?vd.numeric.call(this,t,e,i):""}},vp=Object.create(null),vb=Object.create(null);function vg(t,e){if(!e)return t;let i=e.split(".");for(let e=0,r=i.length;e<r;++e){let r=i[e];t=t[r]||(t[r]=Object.create(null))}return t}function vm(t,e,i){return"string"==typeof e?yw(vg(t,e),i):yw(vg(t,""),e)}var vy=new class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>vl(e.backgroundColor),this.hoverBorderColor=(t,e)=>vl(e.borderColor),this.hoverColor=(t,e)=>vl(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return vm(this,t,e)}get(t){return vg(this,t)}describe(t,e){return vm(vb,t,e)}override(t,e){return vm(vp,t,e)}route(t,e,i,r){let n=vg(this,t),s=vg(this,i),o="_"+e;Object.defineProperties(n,{[o]:{value:n[e],writable:!0},[e]:{enumerable:!0,get(){let t=this[o],e=s[r];return yh(t)?Object.assign({},e,t):yc(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach(t=>t(this))}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:vf},numbers:{type:"number",properties:vh}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vd.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function vv(t,e,i,r,n){let s=e[n];return s||(s=e[n]=t.measureText(n).width,i.push(n)),s>r&&(r=s),r}function v_(t,e,i){let r=t.currentDevicePixelRatio,n=0!==i?Math.max(i/2,.5):0;return Math.round((e-n)*r)/r+n}function vw(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function vx(t,e,i,r){vS(t,e,i,r,null)}function vS(t,e,i,r,n){let s,o,a,l,h,f,u,c,d=e.pointStyle,p=e.rotation,b=e.radius,g=(p||0)*yR;if(d&&"object"==typeof d&&("[object HTMLImageElement]"===(s=d.toString())||"[object HTMLCanvasElement]"===s)){t.save(),t.translate(i,r),t.rotate(g),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),t.restore();return}if(!isNaN(b)&&!(b<=0)){switch(t.beginPath(),d){default:n?t.ellipse(i,r,n/2,b,0,0,yO):t.arc(i,r,b,0,yO),t.closePath();break;case"triangle":f=n?n/2:b,t.moveTo(i+Math.sin(g)*f,r-Math.cos(g)*b),g+=yD,t.lineTo(i+Math.sin(g)*f,r-Math.cos(g)*b),g+=yD,t.lineTo(i+Math.sin(g)*f,r-Math.cos(g)*b),t.closePath();break;case"rectRounded":h=.516*b,o=Math.cos(g+yN)*(l=b-h),u=Math.cos(g+yN)*(n?n/2-h:l),a=Math.sin(g+yN)*l,c=Math.sin(g+yN)*(n?n/2-h:l),t.arc(i-u,r-a,h,g-yP,g-yL),t.arc(i+c,r-o,h,g-yL,g),t.arc(i+u,r+a,h,g,g+yL),t.arc(i-c,r+o,h,g+yL,g+yP),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*b,f=n?n/2:l,t.rect(i-f,r-l,2*f,2*l);break}g+=yN;case"rectRot":u=Math.cos(g)*(n?n/2:b),o=Math.cos(g)*b,a=Math.sin(g)*b,c=Math.sin(g)*(n?n/2:b),t.moveTo(i-u,r-a),t.lineTo(i+c,r-o),t.lineTo(i+u,r+a),t.lineTo(i-c,r+o),t.closePath();break;case"crossRot":g+=yN;case"cross":u=Math.cos(g)*(n?n/2:b),o=Math.cos(g)*b,a=Math.sin(g)*b,c=Math.sin(g)*(n?n/2:b),t.moveTo(i-u,r-a),t.lineTo(i+u,r+a),t.moveTo(i+c,r-o),t.lineTo(i-c,r+o);break;case"star":u=Math.cos(g)*(n?n/2:b),o=Math.cos(g)*b,a=Math.sin(g)*b,c=Math.sin(g)*(n?n/2:b),t.moveTo(i-u,r-a),t.lineTo(i+u,r+a),t.moveTo(i+c,r-o),t.lineTo(i-c,r+o),g+=yN,u=Math.cos(g)*(n?n/2:b),o=Math.cos(g)*b,a=Math.sin(g)*b,c=Math.sin(g)*(n?n/2:b),t.moveTo(i-u,r-a),t.lineTo(i+u,r+a),t.moveTo(i+c,r-o),t.lineTo(i-c,r+o);break;case"line":o=n?n/2:Math.cos(g)*b,a=Math.sin(g)*b,t.moveTo(i-o,r-a),t.lineTo(i+o,r+a);break;case"dash":t.moveTo(i,r),t.lineTo(i+Math.cos(g)*(n?n/2:b),r+Math.sin(g)*b);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function vE(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function vk(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function vA(t){t.restore()}function vM(t,e,i,r,n){if(!e)return t.lineTo(i.x,i.y);if("middle"===n){let r=(e.x+i.x)/2;t.lineTo(r,e.y),t.lineTo(r,i.y)}else"after"===n!=!!r?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function vT(t,e,i,r){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?i.cp2x:i.cp1x,r?i.cp2y:i.cp1y,i.x,i.y)}function vI(t,e,i,r,n,s={}){let o,a,l=yl(e)?e:[e],h=s.strokeWidth>0&&""!==s.strokeColor;for(t.save(),t.font=n.string,s.translation&&t.translate(s.translation[0],s.translation[1]),ya(s.rotation)||t.rotate(s.rotation),s.color&&(t.fillStyle=s.color),s.textAlign&&(t.textAlign=s.textAlign),s.textBaseline&&(t.textBaseline=s.textBaseline),o=0;o<l.length;++o)a=l[o],s.backdrop&&function(t,e){let i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}(t,s.backdrop),h&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ya(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(a,i,r,s.maxWidth)),t.fillText(a,i,r,s.maxWidth),function(t,e,i,r,n){if(n.strikethrough||n.underline){let s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=i-s.actualBoundingBoxAscent,h=i+s.actualBoundingBoxDescent,f=n.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(o,f),t.lineTo(a,f),t.stroke()}}(t,i,r,a,s),r+=Number(n.lineHeight);t.restore()}function vP(t,e){let{x:i,y:r,w:n,h:s,radius:o}=e;t.arc(i+o.topLeft,r+o.topLeft,o.topLeft,1.5*yP,yP,!0),t.lineTo(i,r+s-o.bottomLeft),t.arc(i+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,yP,yL,!0),t.lineTo(i+n-o.bottomRight,r+s),t.arc(i+n-o.bottomRight,r+s-o.bottomRight,o.bottomRight,yL,0,!0),t.lineTo(i+n,r+o.topRight),t.arc(i+n-o.topRight,r+o.topRight,o.topRight,0,-yL,!0),t.lineTo(i+o.topLeft,r)}const vO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/,vC=t=>+t||0;function vR(t,e){let i={},r=yh(e),n=r?Object.keys(e):e,s=yh(t)?r?i=>yc(t[i],t[e[i]]):e=>t[e]:()=>t;for(let t of n)i[t]=vC(s(t));return i}function vL(t){return vR(t,{top:"y",right:"x",bottom:"y",left:"x"})}function vN(t){return vR(t,["topLeft","topRight","bottomLeft","bottomRight"])}function vD(t){let e=vL(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vU(t,e){t=t||{},e=e||vy.font;let i=yc(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));let r=yc(t.style,e.style);r&&!(""+r).match(vB)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let n={family:yc(t.family,e.family),lineHeight:function(t,e){let i=(""+t).match(vO);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}(yc(t.lineHeight,e.lineHeight),i),size:i,style:r,weight:yc(t.weight,e.weight),string:""};return n.string=!n||ya(n.size)||ya(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family,n}function vH(t,e,i,r){let n,s,o,a=!0;for(n=0,s=t.length;n<s;++n)if(void 0!==(o=t[n])&&(void 0!==e&&"function"==typeof o&&(o=o(e),a=!1),void 0!==i&&yl(o)&&(o=o[i%o.length],a=!1),void 0!==o))return r&&!a&&(r.cacheable=!1),o}function vj(t,e){return Object.assign(Object.create(t),e)}function vF(t,e=[""],i,r,n=()=>t[0]){let s=i||t;return void 0===r&&(r=vX("_fallback",t)),new Proxy({[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:n,override:i=>vF([i,...t],e,s,r)},{deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),get:(i,r)=>vW(i,r,()=>(function(t,e,i,r){let n;for(let s of e)if(void 0!==(n=vX(vz(s,t),i)))return vV(t,n)?vQ(i,r,t,n):n})(r,e,t,i)),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>vY(t).includes(e),ownKeys:t=>vY(t),set(t,e,i){let r=t._storage||(t._storage=n());return t[e]=r[e]=i,delete t._keys,!0}})}function vq(t,e,i,r){return new Proxy({_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:v$(t,r),setContext:e=>vq(t,e,i,r),override:n=>vq(t.override(n),e,i,r)},{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>vW(t,e,()=>(function(t,e,i){let{_proxy:r,_context:n,_subProxy:s,_descriptors:o}=t,a=r[e];return yT(a)&&o.isScriptable(e)&&(a=function(t,e,i,r){let{_proxy:n,_context:s,_subProxy:o,_stack:a}=i;if(a.has(t))throw Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),vV(t,l)&&(l=vQ(n._scopes,n,t,l)),l}(e,a,t,i)),yl(a)&&a.length&&(a=function(t,e,i,r){let{_proxy:n,_context:s,_subProxy:o,_descriptors:a}=i;if(void 0!==s.index&&r(t))return e[s.index%e.length];if(yh(e[0])){let i=e,r=n._scopes.filter(t=>t!==i);for(let l of(e=[],i)){let i=vQ(r,n,t,l);e.push(vq(i,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable)),vV(e,a)&&(a=vq(a,n,s&&s[e],o)),a})(t,e,i)),getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,r)=>(t[i]=r,delete e[i],!0)})}function v$(t,e={scriptable:!0,indexable:!0}){let{_scriptable:i=e.scriptable,_indexable:r=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:i,indexable:r,isScriptable:yT(i)?i:()=>i,isIndexable:yT(r)?r:()=>r}}const vz=(t,e)=>t?t+yA(e):e,vV=(t,e)=>yh(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function vW(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];let r=i();return t[e]=r,r}const vK=(t,e)=>!0===t?e:"string"==typeof t?yk(e,t):void 0;function vQ(t,e,i,r){var n;let s=e._rootScopes,o=yT(n=e._fallback)?n(i,r):n,a=[...t,...s],l=new Set;l.add(r);let h=vG(l,a,i,o||i,r);return null!==h&&(void 0===o||o===i||null!==(h=vG(l,a,o,h,r)))&&vF(Array.from(l),[""],s,o,()=>(function(t,e,i){let r=t._getTarget();e in r||(r[e]={});let n=r[e];return yl(n)&&yh(i)?i:n||{}})(e,i,r))}function vG(t,e,i,r,n){for(;i;)i=function(t,e,i,r,n){for(let o of e){let e=vK(i,o);if(e){var s;t.add(e);let o=yT(s=e._fallback)?s(i,n):s;if(void 0!==o&&o!==i&&o!==r)return o}else if(!1===e&&void 0!==r&&i!==r)return null}return!1}(t,e,i,r,n);return i}function vX(t,e){for(let i of e){if(!i)continue;let e=i[t];if(void 0!==e)return e}}function vY(t){let e=t._keys;return e||(e=t._keys=function(t){let e=new Set;for(let i of t)for(let t of Object.keys(i).filter(t=>!t.startsWith("_")))e.add(t);return Array.from(e)}(t._scopes)),e}function vZ(t,e,i,r){let n,s,o,{iScale:a}=t,{key:l="r"}=this._parsing,h=Array(r);for(n=0;n<r;++n)o=e[s=n+i],h[n]={r:a.parse(yk(o,l),s)};return h}const vJ=Number.EPSILON||1e-14,v0=(t,e)=>e<t.length&&!t[e].skip&&t[e],v1=t=>"x"===t?"y":"x";function v2(t,e,i){return Math.max(Math.min(t,i),e)}function v3(){return"undefined"!=typeof window&&"undefined"!=typeof document}function v6(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function v5(t,e,i){let r;return"string"==typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[i])):r=t,r}const v8=t=>t.ownerDocument.defaultView.getComputedStyle(t,null),v4=["top","right","bottom","left"];function v9(t,e,i){let r={};i=i?"-"+i:"";for(let n=0;n<4;n++){let s=v4[n];r[s]=parseFloat(t[e+"-"+s+i])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const v7=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function _t(t,e){if("native"in t)return t;let{canvas:i,currentDevicePixelRatio:r}=e,n=v8(i),s="border-box"===n.boxSizing,o=v9(n,"padding"),a=v9(n,"border","width"),{x:l,y:h,box:f}=function(t,e){let i,r,n=t.touches,s=n&&n.length?n[0]:t,{offsetX:o,offsetY:a}=s,l=!1;if(v7(o,a,t.target))i=o,r=a;else{let t=e.getBoundingClientRect();i=s.clientX-t.left,r=s.clientY-t.top,l=!0}return{x:i,y:r,box:l}}(t,i),u=o.left+(f&&a.left),c=o.top+(f&&a.top),{width:d,height:p}=e;return s&&(d-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-u)/d*i.width/r),y:Math.round((h-c)/p*i.height/r)}}const _e=t=>Math.round(10*t)/10;function _i(t,e,i){let r=e||1,n=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let o=t.canvas;return o.style&&(i||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==r||o.height!==n||o.width!==s)&&(t.currentDevicePixelRatio=r,o.height=n,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0)}const _r=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};v3()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(t){}return t}();function _n(t,e){let i=v8(t).getPropertyValue(e),r=i&&i.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function _s(t,e,i,r){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function _o(t,e,i,r){return{x:t.x+i*(e.x-t.x),y:"middle"===r?i<.5?t.y:e.y:"after"===r?i<1?t.y:e.y:i>0?e.y:t.y}}function _a(t,e,i,r){let n={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=_s(t,n,i),a=_s(n,s,i),l=_s(s,e,i),h=_s(o,a,i),f=_s(a,l,i);return _s(h,f,i)}function _l(t,e,i){var r;return t?(r=i,{x:t=>e+e+r-t,setWidth(t){r=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function _h(t,e){let i,r;("ltr"===e||"rtl"===e)&&(r=[(i=t.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=r)}function _f(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function _u(t){return"angle"===t?{between:yX,compare:yQ,normalize:yG}:{between:yZ,compare:(t,e)=>t-e,normalize:t=>t}}function _c({start:t,end:e,count:i,loop:r,style:n}){return{start:t%i,end:e%i,loop:r&&(e-t+1)%i==0,style:n}}function _d(t,e,i){let r,n,s;if(!i)return[t];let{property:o,start:a,end:l}=i,h=e.length,{compare:f,between:u,normalize:c}=_u(o),{start:d,end:p,loop:b,style:g}=function(t,e,i){let r,{property:n,start:s,end:o}=i,{between:a,normalize:l}=_u(n),h=e.length,{start:f,end:u,loop:c}=t;if(c){for(f+=h,u+=h,r=0;r<h&&a(l(e[f%h][n]),s,o);++r)f--,u--;f%=h,u%=h}return u<f&&(u+=h),{start:f,end:u,loop:c,style:t.style}}(t,e,i),m=[],y=!1,v=null,_=()=>u(a,s,r)&&0!==f(a,s),w=()=>0===f(l,r)||u(l,s,r),x=()=>y||_(),S=()=>!y||w();for(let t=d,i=d;t<=p;++t)!(n=e[t%h]).skip&&(r=c(n[o]))!==s&&(y=u(r,a,l),null===v&&x()&&(v=0===f(r,a)?t:i),null!==v&&S()&&(m.push(_c({start:v,end:t,loop:b,count:h,style:g})),v=null),i=t,s=r);return null!==v&&m.push(_c({start:v,end:p,loop:b,count:h,style:g})),m}function _p(t,e){let i=[],r=t.segments;for(let n=0;n<r.length;n++){let s=_d(r[n],t.points,e);s.length&&i.push(...s)}return i}function _b(t,e,i,r){return r&&r.setContext&&i?function(t,e,i,r){let n=t._chart.getContext(),s=_g(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=i.length,h=[],f=s,u=e[0].start,c=u;function d(t,e,r,n){let s=a?-1:1;if(t!==e){for(t+=l;i[t%l].skip;)t-=s;for(;i[e%l].skip;)e+=s;t%l!=e%l&&(h.push({start:t%l,end:e%l,loop:r,style:n}),f=n,u=e%l)}}for(let t of e){let e,s=i[(u=a?u:t.start)%l];for(c=u+1;c<=t.end;c++){let a=i[c%l];(function(t,e){if(!e)return!1;let i=[],r=function(t,e){return vo(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e};return JSON.stringify(t,r)!==JSON.stringify(e,r)})(e=_g(r.setContext(vj(n,{type:"segment",p0:s,p1:a,p0DataIndex:(c-1)%l,p1DataIndex:c%l,datasetIndex:o}))),f)&&d(u,c-1,t.loop,f),s=a,f=e}u<c-1&&d(u,c-1,t.loop,f)}return h}(t,e,i,r):e}function _g(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}var _m=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){let n=e.listeners[r],s=e.duration;n.forEach(r=>r({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=y5.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{let n;if(!i.running||!i.items.length)return;let s=i.items,o=s.length-1,a=!1;for(;o>=0;--o)(n=s[o])._active?(n._total>i.duration&&(i.duration=n._total),n.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!!e&&!!e.running&&!!e.items.length}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const _y="transparent",_v={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){let r=va(t||_y),n=r.valid&&va(e||_y);return n&&n.valid?n.mix(r,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class __{constructor(t,e,i,r){let n=e[i];r=vH([t.to,r,n,t.from]);let s=vH([t.from,n,r]);this._active=!0,this._fn=t.fn||_v[t.type||typeof s],this._easing=vs[t.easing]||vs.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let r=this._target[this._prop],n=i-this._start,s=this._duration-n;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=vH([t.to,e,r,t.from]),this._from=vH([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e,i=t-this._start,r=this._duration,n=this._prop,s=this._from,o=this._loop,a=this._to;if(this._active=s!==a&&(o||i<r),!this._active){this._target[n]=a,this._notify(!0);return}if(i<0){this._target[n]=s;return}e=i/r%2,e=o&&e>1?2-e:e,e=this._easing(Math.min(1,Math.max(0,e))),this._target[n]=this._fn(s,a,e)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}class _w{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!yh(t))return;let e=Object.keys(vy.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let n=t[r];if(!yh(n))return;let s={};for(let t of e)s[t]=n[t];(yl(n.properties)&&n.properties||[r]).forEach(t=>{t!==r&&i.has(t)||i.set(t,s)})})}_animateOptions(t,e){let i=e.options,r=function(t,e){if(!e)return;let i=t.options;if(!i){t.options=e;return}return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}(t,i);if(!r)return[];let n=this._createAnimations(r,i);return i.$shared&&(function(t,e){let i=[],r=Object.keys(e);for(let e=0;e<r.length;e++){let n=t[r[e]];n&&n.active()&&i.push(n.wait())}return Promise.all(i)})(t.options.$animations,i).then(()=>{t.options=i},()=>{}),n}_createAnimations(t,e){let i,r=this._properties,n=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();for(i=o.length-1;i>=0;--i){let l=o[i];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(t,e));continue}let h=e[l],f=s[l],u=r.get(l);if(f){if(u&&f.active()){f.update(u,h,a);continue}f.cancel()}if(!u||!u.duration){t[l]=h;continue}s[l]=f=new __(u,t,l,h),n.push(f)}return n}update(t,e){if(0===this._properties.size){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return _m.add(this._chart,i),!0}}function _x(t,e){let i=t&&t.options||{},r=i.reverse,n=void 0===i.min?e:0,s=void 0===i.max?e:0;return{start:r?s:n,end:r?n:s}}function _S(t,e){let i,r,n=[],s=t._getSortedDatasetMetas(e);for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function _E(t,e,i,r={}){let n,s,o,a,l=t.keys,h="single"===r.mode;if(null===e)return;let f=!1;for(n=0,s=l.length;n<s;++n){if((o=+l[n])===i){if(f=!0,r.all)continue;break}yf(a=t.values[o])&&(h||0===e||yH(e)===yH(a))&&(e+=a)}return f||r.all?e:0}function _k(t,e){let i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function _A(t,e,i,r){for(let n of e.getMatchingVisibleMetas(r).reverse()){let e=t[n.index];if(i&&e>0||!i&&e<0)return n.index}return null}function _M(t,e){let i,{chart:r,_cachedMeta:n}=t,s=r._stacks||(r._stacks={}),{iScale:o,vScale:a,index:l}=n,h=o.axis,f=a.axis,u=`${o.id}.${a.id}.${n.stack||n.type}`,c=e.length;for(let t=0;t<c;++t){let r=e[t],{[h]:o,[f]:c}=r;(i=(r._stacks||(r._stacks={}))[f]=function(t,e,i){let r=t[e]||(t[e]={});return r[i]||(r[i]={})}(s,u,o))[l]=c,i._top=_A(i,a,!0,n.type),i._bottom=_A(i,a,!1,n.type),(i._visualValues||(i._visualValues={}))[l]=c}}function _T(t,e){let i=t.scales;return Object.keys(i).filter(t=>i[t].axis===e).shift()}function _I(t,e){let i=t.controller.index,r=t.vScale&&t.vScale.axis;if(r)for(let n of e=e||t._parsed){let t=n._stacks;if(!t||void 0===t[r]||void 0===t[r][i])return;delete t[r][i],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[i]&&delete t[r]._visualValues[i]}}const _P=t=>"reset"===t||"none"===t,_O=(t,e)=>e?t:Object.assign({},t),_B=(t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:_S(i,!0),values:null};class _C{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=_k(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&_I(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(t,e,i,r)=>"x"===t?e:"r"===t?r:i,n=e.xAxisID=yc(i.xAxisID,_T(t,"x")),s=e.yAxisID=yc(i.yAxisID,_T(t,"y")),o=e.rAxisID=yc(i.rAxisID,_T(t,"r")),a=e.indexAxis,l=e.iAxisID=r(a,n,s,o),h=e.vAxisID=r(a,s,n,o);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&y3(this._data,this),t._stacked&&_I(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(yh(e)){let t=this._cachedMeta;this._data=function(t,e){let i,r,n,{iScale:s,vScale:o}=e,a="x"===s.axis?"x":"y",l="x"===o.axis?"x":"y",h=Object.keys(t),f=Array(h.length);for(i=0,r=h.length;i<r;++i)n=h[i],f[i]={[a]:n,[l]:t[n]};return f}(e,t)}else if(i!==e){if(i){y3(i,this);let t=this._cachedMeta;_I(t),t._parsed=[]}e&&Object.isExtensible(e)&&function(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),y2.forEach(e=>{let i="_onData"+yA(e),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){let n=r.apply(this,e);return t._chartjs.listeners.forEach(t=>{"function"==typeof t[i]&&t[i](...e)}),n}})})}(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,i=this.getDataset(),r=!1;this._dataCheck();let n=e._stacked;e._stacked=_k(e.vScale,e),e.stack!==i.stack&&(r=!0,_I(e),e.stack=i.stack),this._resyncElements(t),(r||n!==e._stacked)&&(_M(this,e._parsed),e._stacked=_k(e.vScale,e))}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let i,r,n,{_cachedMeta:s,_data:o}=this,{iScale:a,_stacked:l}=s,h=a.axis,f=0===t&&e===o.length||s._sorted,u=t>0&&s._parsed[t-1];if(!1===this._parsing)s._parsed=o,s._sorted=!0,n=o;else{n=yl(o[t])?this.parseArrayData(s,o,t,e):yh(o[t])?this.parseObjectData(s,o,t,e):this.parsePrimitiveData(s,o,t,e);let a=()=>null===r[h]||u&&r[h]<u[h];for(i=0;i<e;++i)s._parsed[i+t]=r=n[i],f&&(a()&&(f=!1),u=r);s._sorted=f}l&&_M(this,n)}parsePrimitiveData(t,e,i,r){let n,s,{iScale:o,vScale:a}=t,l=o.axis,h=a.axis,f=o.getLabels(),u=o===a,c=Array(r);for(n=0;n<r;++n)s=n+i,c[n]={[l]:u||o.parse(f[s],s),[h]:a.parse(e[s],s)};return c}parseArrayData(t,e,i,r){let n,s,o,{xScale:a,yScale:l}=t,h=Array(r);for(n=0;n<r;++n)o=e[s=n+i],h[n]={x:a.parse(o[0],s),y:l.parse(o[1],s)};return h}parseObjectData(t,e,i,r){let n,s,o,{xScale:a,yScale:l}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,u=Array(r);for(n=0;n<r;++n)o=e[s=n+i],u[n]={x:a.parse(yk(o,h),s),y:l.parse(yk(o,f),s)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){let r=this.chart,n=this._cachedMeta,s=e[t.axis];return _E({keys:_S(r,!0),values:e._stacks[t.axis]._visualValues},s,n.index,{mode:i})}updateRangeFromParsed(t,e,i,r){let n=i[e.axis],s=null===n?NaN:n,o=r&&i._stacks[e.axis];r&&o&&(r.values=o,s=_E(r,n,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){let i,r,n=this._cachedMeta,s=n._parsed,o=n._sorted&&t===n.iScale,a=s.length,l=this._getOtherScale(t),h=_B(e,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:c}=function(t){let{min:e,max:i,minDefined:r,maxDefined:n}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:n?i:Number.POSITIVE_INFINITY}}(l);function d(){let e=(r=s[i])[l.axis];return!yf(r[t.axis])||u>e||c<e}for(i=0;i<a&&(d()||(this.updateRangeFromParsed(f,t,r,h),!o));++i);if(o){for(i=a-1;i>=0;--i)if(!d()){this.updateRangeFromParsed(f,t,r,h);break}}return f}getAllParsedValues(t){let e,i,r,n=this._cachedMeta._parsed,s=[];for(e=0,i=n.length;e<i;++e)yf(r=n[e][t.axis])&&s.push(r);return s}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,i=e.iScale,r=e.vScale,n=this.getParsed(t);return{label:i?""+i.getLabelForValue(n[i.axis]):"",value:r?""+r.getLabelForValue(n[r.axis]):""}}_update(t){var e;let i,r,n,s,o=this._cachedMeta;this.update(t||"default"),yh(e=yc(this.options.clip,function(t,e,i){if(!1===i)return!1;let r=_x(t,i),n=_x(e,i);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}(o.xScale,o.yScale,this.getMaxOverflow())))?(i=e.top,r=e.right,n=e.bottom,s=e.left):i=r=n=s=e,o._clip={top:i,right:r,bottom:n,left:s,disabled:!1===e}}update(t){}draw(){let t,e=this._ctx,i=this.chart,r=this._cachedMeta,n=r.data||[],s=i.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||n.length-a,h=this.options.drawActiveElementsOnTop;for(r.dataset&&r.dataset.draw(e,s,a,l),t=a;t<a+l;++t){let i=n[t];i.hidden||(i.active&&h?o.push(i):i.draw(e,s))}for(t=0;t<o.length;++t)o[t].draw(e,s)}getStyle(t,e){let i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){var r;let n,s=this.getDataset();if(t>=0&&t<this._cachedMeta.data.length){let e=this._cachedMeta.data[t];(n=e.$context||(e.$context=vj(this.getContext(),{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"}))).parsed=this.getParsed(t),n.raw=s.data[t],n.index=n.dataIndex=t}else(n=this.$context||(this.$context=vj(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:r=this.index,index:r,mode:"default",type:"dataset"}))).dataset=s,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=i,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){let r="active"===e,n=this._cachedDataOpts,s=t+"-"+e,o=n[s],a=this.enableOptionSharing&&yM(i);if(o)return _O(o,a);let l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),f=r?[`${t}Hover`,"hover",t,""]:[t,""],u=l.getOptionScopes(this.getDataset(),h),c=Object.keys(vy.elements[t]),d=l.resolveNamedOptions(u,c,()=>this.getContext(i,r,e),f);return d.$shared&&(d.$shared=a,n[s]=Object.freeze(_O(d,a))),d}_resolveAnimations(t,e,i){let r,n=this.chart,s=this._cachedDataOpts,o=`animation-${e}`,a=s[o];if(a)return a;if(!1!==n.options.animation){let n=this.chart.config,s=n.datasetAnimationScopeKeys(this._type,e),o=n.getOptionScopes(this.getDataset(),s);r=n.createResolver(o,this.getContext(t,i,e))}let l=new _w(n,r&&r.animations);return r&&r._cacheable&&(s[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||_P(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,n=this.getSharedOptions(i),s=this.includeOptions(e,n)||n!==r;return this.updateSharedOptions(n,e,i),{sharedOptions:n,includeOptions:s}}updateElement(t,e,i,r){_P(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!_P(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;let n=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(n)||n})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,i=this._cachedMeta.data;for(let[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];let r=i.length,n=e.length,s=Math.min(n,r);s&&this.parse(0,s),n>r?this._insertElements(r,n-r,t):n<r&&this._removeElements(n,r-n)}_insertElements(t,e,i=!0){let r,n=this._cachedMeta,s=n.data,o=t+e,a=t=>{for(t.length+=e,r=t.length-1;r>=o;r--)t[r]=t[r-e]};for(a(s),r=t;r<o;++r)s[r]=new this.dataElementType;this._parsing&&a(n._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){let i=this._cachedMeta;if(this._parsing){let r=i._parsed.splice(t,e);i._stacked&&_I(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function _R(t,e,i,r){return yl(t)?function(t,e,i,r){let n=i.parse(t[0],r),s=i.parse(t[1],r),o=Math.min(n,s),a=Math.max(n,s),l=o,h=a;Math.abs(o)>Math.abs(a)&&(l=a,h=o),e[i.axis]=h,e._custom={barStart:l,barEnd:h,start:n,end:s,min:o,max:a}}(t,e,i,r):e[i.axis]=i.parse(t,r),e}function _L(t,e,i,r){let n,s,o,a,l=t.iScale,h=t.vScale,f=l.getLabels(),u=l===h,c=[];for(n=i,s=i+r;n<s;++n)a=e[n],(o={})[l.axis]=u||l.parse(f[n],n),c.push(_R(a,o,h,n));return c}function _N(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function _D(t,e,i,r){var n,s,o;return t=r?_U((n=t,s=e,o=i,t=n===s?o:n===o?s:n),i,e):_U(t,e,i)}function _U(t,e,i){return"start"===t?e:"end"===t?i:t}class _H extends _C{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((e,n)=>{let s=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(n),index:n}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){let i=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=i;else{let n,s,o=t=>+i[t];if(yh(i[t])){let{key:t="value"}=this._parsing;o=e=>+yk(i[e],t)}for(n=t,s=t+e;n<s;++n)r._parsed[n]=o(n)}}_getRotation(){return yz(this.options.rotation-90)}_getCircumference(){return yz(this.options.circumference)}_getRotationExtents(){let t=yO,e=-yO;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let r=this.chart.getDatasetMeta(i).controller,n=r._getRotation(),s=r._getCircumference();t=Math.min(t,n),e=Math.max(e,n+s)}return{rotation:t,circumference:e-t}}update(t){let{chartArea:e}=this.chart,i=this._cachedMeta,r=i.data,n=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,s=Math.max((Math.min(e.width,e.height)-n)/2,0),o=Math.min(yd(this.options.cutout,s),1),a=this._getRingWeight(this.index),{circumference:l,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:u,offsetX:c,offsetY:d}=function(t,e,i){let r=1,n=1,s=0,o=0;if(e<yO){let a=t+e,l=Math.cos(t),h=Math.sin(t),f=Math.cos(a),u=Math.sin(a),c=(e,r,n)=>yX(e,t,a,!0)?1:Math.max(r,r*i,n,n*i),d=(e,r,n)=>yX(e,t,a,!0)?-1:Math.min(r,r*i,n,n*i),p=c(0,l,f),b=c(yL,h,u),g=d(yP,l,f),m=d(yP+yL,h,u);r=(p-g)/2,n=(b-m)/2,s=-(p+g)/2,o=-(b+m)/2}return{ratioX:r,ratioY:n,offsetX:s,offsetY:o}}(h,l,o),p=Math.max(Math.min((e.width-n)/f,(e.height-n)/u)/2,0),b=yp(this.options.radius,p),g=Math.max(b*o,0),m=(b-g)/this._getVisibleDatasetWeightTotal();this.offsetX=c*b,this.offsetY=d*b,i.total=this.calculateTotal(),this.outerRadius=b-m*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-m*a,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){let i=this.options,r=this._cachedMeta,n=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*n/yO)}updateElements(t,e,i,r){let n,s="reset"===r,o=this.chart,a=o.chartArea,l=o.options.animation,h=(a.left+a.right)/2,f=(a.top+a.bottom)/2,u=s&&l.animateScale,c=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(e,r),g=this._getRotation();for(n=0;n<e;++n)g+=this._circumference(n,s);for(n=e;n<e+i;++n){let e=this._circumference(n,s),i=t[n],o={x:h+this.offsetX,y:f+this.offsetY,startAngle:g,endAngle:g+e,circumference:e,outerRadius:d,innerRadius:c};b&&(o.options=p||this.resolveDataElementOptions(n,i.active?"active":r)),g+=e,this.updateElement(i,n,o,r)}}calculateTotal(){let t,e=this._cachedMeta,i=e.data,r=0;for(t=0;t<i.length;t++){let n=e._parsed[t];null!==n&&!isNaN(n)&&this.chart.getDataVisibility(t)&&!i[t].hidden&&(r+=Math.abs(n))}return r}calculateCircumference(t){let e=this._cachedMeta.total;return e>0&&!isNaN(t)?Math.abs(t)/e*yO:0}getLabelAndValue(t){let e=this._cachedMeta,i=this.chart,r=i.data.labels||[],n=vc(e._parsed[t],i.options.locale);return{label:r[t]||"",value:n}}getMaxBorderWidth(t){let e,i,r,n,s,o=0,a=this.chart;if(!t){for(e=0,i=a.data.datasets.length;e<i;++e)if(a.isDatasetVisible(e)){t=(r=a.getDatasetMeta(e)).data,n=r.controller;break}}if(!t)return 0;for(e=0,i=t.length;e<i;++e)"inner"!==(s=n.resolveDataElementOptions(e)).borderAlign&&(o=Math.max(o,s.borderWidth||0,s.hoverBorderWidth||0));return o}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){let t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(yc(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class _j extends _C{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((e,n)=>{let s=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(n),index:n}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let e=this._cachedMeta,i=this.chart,r=i.data.labels||[],n=vc(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:n}}parseObjectData(t,e,i,r){return vZ.bind(this)(t,e,i,r)}update(t){let e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){let t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((t,i)=>{let r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){let t=this.chart,e=t.chartArea,i=t.options,r=Math.max(Math.min(e.right-e.left,e.bottom-e.top)/2,0),n=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),s=(r-n)/t.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,i,r){let n,s="reset"===r,o=this.chart,a=o.options.animation,l=this._cachedMeta.rScale,h=l.xCenter,f=l.yCenter,u=l.getIndexAngle(0)-.5*yP,c=u,d=360/this.countVisibleElements();for(n=0;n<e;++n)c+=this._computeAngle(n,r,d);for(n=e;n<e+i;n++){let e=t[n],i=c,p=c+this._computeAngle(n,r,d),b=o.getDataVisibility(n)?l.getDistanceFromCenterForValue(this.getParsed(n).r):0;c=p,s&&(a.animateScale&&(b=0),a.animateRotate&&(i=p=u));let g={x:h,y:f,innerRadius:0,outerRadius:b,startAngle:i,endAngle:p,options:this.resolveDataElementOptions(n,e.active?"active":r)};this.updateElement(e,n,g,r)}}countVisibleElements(){let t=this._cachedMeta,e=0;return t.data.forEach((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?yz(this.resolveDataElementOptions(t,e).angle||i):0}}var _F=Object.freeze({__proto__:null,BarController:class extends _C{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return _L(t,e,i,r)}parseArrayData(t,e,i,r){return _L(t,e,i,r)}parseObjectData(t,e,i,r){let n,s,o,a,{iScale:l,vScale:h}=t,{xAxisKey:f="x",yAxisKey:u="y"}=this._parsing,c="x"===l.axis?f:u,d="x"===h.axis?f:u,p=[];for(n=i,s=i+r;n<s;++n)a=e[n],(o={})[l.axis]=l.parse(yk(a,c),n),p.push(_R(yk(a,d),o,h,n));return p}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);let n=i._custom;n&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let{iScale:e,vScale:i}=this._cachedMeta,r=this.getParsed(t),n=r._custom,s=_N(n)?"["+n.start+", "+n.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+e.getLabelForValue(r[e.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){let e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){let n="reset"===r,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:u}=this._getSharedOptions(e,r);for(let c=e;c<e+i;c++){let e=this.getParsed(c),i=n||ya(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(c),d=this._calculateBarIndexPixels(c,h),p=(e._stacks||{})[o.axis],b={horizontal:l,base:i.base,enableBorderRadius:!p||_N(e._custom)||s===p._top||s===p._bottom,x:l?i.head:d.center,y:l?d.center:i.head,height:l?d.size:Math.abs(i.size),width:l?Math.abs(i.size):d.size};u&&(b.options=f||this.resolveDataElementOptions(c,t[c].active?"active":r));let g=b.options||t[c].options;!function(t,e,i,r){let n,s,o,a,l,h=e.borderSkipped,f={};if(!h){t.borderSkipped=f;return}if(!0===h){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:u,end:c,reverse:d,top:p,bottom:b}=(t.horizontal?(n=t.base>t.x,s="left",o="right"):(n=t.base<t.y,s="bottom",o="top"),n?(a="end",l="start"):(a="start",l="end"),{start:s,end:o,reverse:n,top:a,bottom:l});"middle"===h&&i&&(t.enableBorderRadius=!0,(i._top||0)===r?h=p:(i._bottom||0)===r?h=b:(f[_D(b,u,c,d)]=!0,h=p)),f[_D(h,u,c,d)]=!0,t.borderSkipped=f}(b,g,p,s),function(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?.33*(1===i):e}(b,g,h.ratio),this.updateElement(t[c],c,b,r)}}_getStacks(t,e){let{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(t=>t.controller.options.grouped),n=i.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(e),a=o&&o[i.axis],l=t=>{let e=t._parsed.find(t=>t[i.axis]===a),r=e&&e[t.vScale.axis];if(ya(r)||isNaN(r))return!0};for(let i of r)if(!(void 0!==e&&l(i))&&((!1===n||-1===s.indexOf(i.stack)||void 0===n&&void 0===i.stack)&&s.push(i.stack),i.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){let r=this._getStacks(t,i),n=void 0!==e?r.indexOf(e):-1;return -1===n?r.length-1:n}_getRuler(){let t,e,i=this.options,r=this._cachedMeta,n=r.iScale,s=[];for(t=0,e=r.data.length;t<e;++t)s.push(n.getPixelForValue(this.getParsed(t)[n.axis],t));let o=i.barThickness;return{min:o||function(t){let e,i,r,n,s=t.iScale,o=function(t,e){if(!t._cache.$bar){let i=t.getMatchingVisibleMetas(e),r=[];for(let e=0,n=i.length;e<n;e++)r=r.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=y6(r.sort((t,e)=>t-e))}return t._cache.$bar}(s,t.type),a=s._length,l=()=>{32767!==r&&-32768!==r&&(yM(n)&&(a=Math.min(a,Math.abs(r-n)||a)),n=r)};for(e=0,i=o.length;e<i;++e)r=s.getPixelForValue(o[e]),l();for(e=0,n=void 0,i=s.ticks.length;e<i;++e)r=s.getPixelForTick(e),l();return a}(r),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:i.grouped,ratio:o?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(t){let e,i,{_cachedMeta:{vScale:r,_stacked:n,index:s},options:{base:o,minBarLength:a}}=this,l=o||0,h=this.getParsed(t),f=h._custom,u=_N(f),c=h[r.axis],d=0,p=n?this.applyStack(r,h,n):c;p!==c&&(d=p-c,p=c),u&&(c=f.barStart,p=f.barEnd-f.barStart,0!==c&&yH(c)!==yH(f.barEnd)&&(d=0),d+=c);let b=ya(o)||u?d:o,g=r.getPixelForValue(b);if(Math.abs(i=(e=this.chart.getDataVisibility(t)?r.getPixelForValue(d+p):g)-g)<a){var m;i=(0!==(m=i)?yH(m):(r.isHorizontal()?1:-1)*(r.min>=l?1:-1))*a,c===l&&(g-=i/2);let t=r.getPixelForDecimal(0),o=r.getPixelForDecimal(1),f=Math.min(t,o);e=(g=Math.max(Math.min(g,Math.max(t,o)),f))+i,n&&!u&&(h._stacks[r.axis]._visualValues[s]=r.getValueForPixel(e)-r.getValueForPixel(g))}if(g===r.getPixelForValue(l)){let t=yH(i)*r.getLineWidthForValue(l)/2;g+=t,i-=t}return{size:i,base:g,head:e,center:e+i/2}}_calculateBarIndexPixels(t,e){let i,r,n=e.scale,s=this.options,o=s.skipNull,a=yc(s.maxBarThickness,1/0);if(e.grouped){let n=o?this._getStackCount(t):e.stackCount,l="flex"===s.barThickness?function(t,e,i,r){let n=e.pixels,s=n[t],o=t>0?n[t-1]:null,a=t<n.length-1?n[t+1]:null,l=i.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);let h=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:i.barPercentage,start:h}}(t,e,s,n):function(t,e,i,r){let n,s,o=i.barThickness;return ya(o)?(n=e.min*i.categoryPercentage,s=i.barPercentage):(n=o*r,s=1),{chunk:n/r,ratio:s,start:e.pixels[t]-n/2}}(t,e,s,n),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);i=l.start+l.chunk*h+l.chunk/2,r=Math.min(a,l.chunk*l.ratio)}else i=n.getPixelForValue(this.getParsed(t)[n.axis],t),r=Math.min(a,e.min*e.ratio);return{base:i-r/2,head:i+r/2,center:i,size:r}}draw(){let t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length,n=0;for(;n<r;++n)null===this.getParsed(n)[e.axis]||i[n].hidden||i[n].draw(this._ctx)}},BubbleController:class extends _C{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){let n=super.parsePrimitiveData(t,e,i,r);for(let t=0;t<n.length;t++)n[t]._custom=this.resolveDataElementOptions(t+i).radius;return n}parseArrayData(t,e,i,r){let n=super.parseArrayData(t,e,i,r);for(let t=0;t<n.length;t++){let r=e[i+t];n[t]._custom=yc(r[2],this.resolveDataElementOptions(t+i).radius)}return n}parseObjectData(t,e,i,r){let n=super.parseObjectData(t,e,i,r);for(let t=0;t<n.length;t++){let r=e[i+t];n[t]._custom=yc(r&&r.r&&+r.r,this.resolveDataElementOptions(t+i).radius)}return n}getMaxOverflow(){let t=this._cachedMeta.data,e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){let e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:n}=e,s=this.getParsed(t),o=r.getLabelForValue(s.x),a=n.getLabelForValue(s.y),l=s._custom;return{label:i[t]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){let e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){let n="reset"===r,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,r),h=s.axis,f=o.axis;for(let u=e;u<e+i;u++){let e=t[u],i=!n&&this.getParsed(u),c={},d=c[h]=n?s.getPixelForDecimal(.5):s.getPixelForValue(i[h]),p=c[f]=n?o.getBasePixel():o.getPixelForValue(i[f]);c.skip=isNaN(d)||isNaN(p),l&&(c.options=a||this.resolveDataElementOptions(u,e.active?"active":r),n&&(c.options.radius=0)),this.updateElement(e,u,c,r)}}resolveDataElementOptions(t,e){let i=this.getParsed(t),r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let n=r.radius;return"active"!==e&&(r.radius=0),r.radius+=yc(i&&i._custom,n),r}},DoughnutController:_H,LineController:class extends _C{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:i,data:r=[],_dataset:n}=e,s=this.chart._animationsDisabled,{start:o,count:a}=vt(e,r,s);this._drawStart=o,this._drawCount=a,ve(e)&&(o=0,a=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!n._decimated,i.points=r;let l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!s,options:l},t),this.updateElements(r,o,a,t)}updateElements(t,e,i,r){let n="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(e,r),u=s.axis,c=o.axis,{spanGaps:d,segment:p}=this.options,b=yq(d)?d:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||n||"none"===r,m=e+i,y=t.length,v=e>0&&this.getParsed(e-1);for(let i=0;i<y;++i){let d=t[i],y=g?d:{};if(i<e||i>=m){y.skip=!0;continue}let _=this.getParsed(i),w=ya(_[c]),x=y[u]=s.getPixelForValue(_[u],i),S=y[c]=n||w?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,_,a):_[c],i);y.skip=isNaN(x)||isNaN(S)||w,y.stop=i>0&&Math.abs(_[u]-v[u])>b,p&&(y.parsed=_,y.raw=l.data[i]),f&&(y.options=h||this.resolveDataElementOptions(i,d.active?"active":r)),g||this.updateElement(d,i,y,r),v=_}}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];return r.length?Math.max(i,r[0].size(this.resolveDataElementOptions(0)),r[r.length-1].size(this.resolveDataElementOptions(r.length-1)))/2:i}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class extends _H{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:_j,RadarController:class extends _C{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return vZ.bind(this)(t,e,i,r)}update(t){let e=this._cachedMeta,i=e.dataset,r=e.data||[],n=e.iScale.getLabels();if(i.points=r,"resize"!==t){let e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);let s={_loop:!0,_fullLoop:n.length===r.length,options:e};this.updateElement(i,void 0,s,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){let n=this._cachedMeta.rScale,s="reset"===r;for(let o=e;o<e+i;o++){let e=t[o],i=this.resolveDataElementOptions(o,e.active?"active":r),a=n.getPointPositionForValue(o,this.getParsed(o).r),l=s?n.xCenter:a.x,h=s?n.yCenter:a.y,f={x:l,y:h,angle:a.angle,skip:isNaN(l)||isNaN(h),options:i};this.updateElement(e,o,f,r)}}},ScatterController:class extends _C{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:n}=e,s=this.getParsed(t),o=r.getLabelForValue(s.x),a=n.getLabelForValue(s.y);return{label:i[t]||"",value:"("+o+", "+a+")"}}update(t){let e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled,{start:n,count:s}=vt(e,i,r);if(this._drawStart=n,this._drawCount=s,ve(e)&&(n=0,s=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:n,_dataset:s}=e;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;let o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:o},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,n,s,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){let n="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,h=this.resolveDataElementOptions(e,r),f=this.getSharedOptions(h),u=this.includeOptions(r,f),c=s.axis,d=o.axis,{spanGaps:p,segment:b}=this.options,g=yq(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||n||"none"===r,y=e>0&&this.getParsed(e-1);for(let h=e;h<e+i;++h){let e=t[h],i=this.getParsed(h),p=m?e:{},v=ya(i[d]),_=p[c]=s.getPixelForValue(i[c],h),w=p[d]=n||v?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,i,a):i[d],h);p.skip=isNaN(_)||isNaN(w)||v,p.stop=h>0&&Math.abs(i[c]-y[c])>g,b&&(p.parsed=i,p.raw=l.data[h]),u&&(p.options=f||this.resolveDataElementOptions(h,e.active?"active":r)),m||this.updateElement(e,h,p,r),y=i}this.updateSharedOptions(f,r,h)}getMaxOverflow(){let t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}let i=t.dataset,r=i.options&&i.options.borderWidth||0;return e.length?Math.max(r,e[0].size(this.resolveDataElementOptions(0)),e[e.length-1].size(this.resolveDataElementOptions(e.length-1)))/2:r}}});function _q(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}class _${static override(t){Object.assign(_$.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return _q()}parse(){return _q()}format(){return _q()}add(){return _q()}diff(){return _q()}startOf(){return _q()}endOf(){return _q()}}function _z(t,e,i,r,n){let s=t.getSortedVisibleDatasetMetas(),o=i[e];for(let t=0,i=s.length;t<i;++t){let{index:i,data:a}=s[t],{lo:l,hi:h}=function(t,e,i,r){let{controller:n,data:s,_sorted:o}=t,a=n._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&"r"!==e&&o&&s.length){let o=a._reversePixels?y1:y0;if(r){if(n._sharedOptions){let t=s[0],r="function"==typeof t.getRange&&t.getRange(e);if(r){let t=o(s,e,i-r),n=o(s,e,i+r);return{lo:t.lo,hi:n.hi}}}}else{let r=o(s,e,i);if(l){let{vScale:e}=n._cachedMeta,{_parsed:i}=t,s=i.slice(0,r.lo+1).reverse().findIndex(t=>!ya(t[e.axis]));r.lo-=Math.max(0,s);let o=i.slice(r.hi).findIndex(t=>!ya(t[e.axis]));r.hi+=Math.max(0,o)}return r}}return{lo:0,hi:s.length-1}}(s[t],e,o,n);for(let t=l;t<=h;++t){let e=a[t];e.skip||r(e,i,t)}}}function _V(t,e,i,r,n){let s=[];return(n||t.isPointInArea(e))&&_z(t,i,e,function(i,o,a){(n||vE(i,t.chartArea,0))&&i.inRange(e.x,e.y,r)&&s.push({element:i,datasetIndex:o,index:a})},!0),s}function _W(t,e,i,r,n,s){let o;return s||t.isPointInArea(e)?"r"!==i||r?function(t,e,i,r,n,s){let o=[],a=function(t){let e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,r){return Math.sqrt(Math.pow(e?Math.abs(t.x-r.x):0,2)+Math.pow(i?Math.abs(t.y-r.y):0,2))}}(i),l=Number.POSITIVE_INFINITY;return _z(t,i,e,function(i,h,f){let u=i.inRange(e.x,e.y,n);if(r&&!u)return;let c=i.getCenterPoint(n);if(!(s||t.isPointInArea(c))&&!u)return;let d=a(e,c);d<l?(o=[{element:i,datasetIndex:h,index:f}],l=d):d===l&&o.push({element:i,datasetIndex:h,index:f})}),o}(t,e,i,r,n,s):(o=[],_z(t,i,e,function(t,i,r){let{startAngle:s,endAngle:a}=t.getProps(["startAngle","endAngle"],n),{angle:l}=yW(t,{x:e.x,y:e.y});yX(l,s,a)&&o.push({element:t,datasetIndex:i,index:r})}),o):[]}function _K(t,e,i,r,n){let s=[],o="x"===i?"inXRange":"inYRange",a=!1;return(_z(t,i,e,(t,r,l)=>{t[o]&&t[o](e[i],n)&&(s.push({element:t,datasetIndex:r,index:l}),a=a||t.inRange(e.x,e.y,n))}),r&&!a)?[]:s}var _Q={modes:{index(t,e,i,r){let n=_t(e,t),s=i.axis||"x",o=i.includeInvisible||!1,a=i.intersect?_V(t,n,s,r,o):_W(t,n,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{let e=a[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})}),l):[]},dataset(t,e,i,r){let n=_t(e,t),s=i.axis||"xy",o=i.includeInvisible||!1,a=i.intersect?_V(t,n,s,r,o):_W(t,n,s,!1,r,o);if(a.length>0){let e=a[0].datasetIndex,i=t.getDatasetMeta(e).data;a=[];for(let t=0;t<i.length;++t)a.push({element:i[t],datasetIndex:e,index:t})}return a},point(t,e,i,r){let n=_t(e,t);return _V(t,n,i.axis||"xy",r,i.includeInvisible||!1)},nearest(t,e,i,r){let n=_t(e,t),s=i.axis||"xy",o=i.includeInvisible||!1;return _W(t,n,s,i.intersect,r,o)},x(t,e,i,r){let n=_t(e,t);return _K(t,n,"x",i.intersect,r)},y(t,e,i,r){let n=_t(e,t);return _K(t,n,"y",i.intersect,r)}}};const _G=["left","top","right","bottom"];function _X(t,e){return t.filter(t=>t.pos===e)}function _Y(t,e){return t.filter(t=>-1===_G.indexOf(t.pos)&&t.box.axis===e)}function _Z(t,e){return t.sort((t,i)=>{let r=e?i:t,n=e?t:i;return r.weight===n.weight?r.index-n.index:r.weight-n.weight})}function _J(t,e,i,r){return Math.max(t[i],e[i])+Math.max(t[r],e[r])}function _0(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function _1(t,e,i,r){let n,s,o,a,l,h,f=[];for(n=0,s=t.length,l=0;n<s;++n){(a=(o=t[n]).box).update(o.width||e.w,o.height||e.h,function(t,e){let i=e.maxPadding;return function(t){let r={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{r[t]=Math.max(e[t],i[t])}),r}(t?["left","right"]:["top","bottom"])}(o.horizontal,e));let{same:s,other:u}=function(t,e,i,r){let{pos:n,box:s}=i,o=t.maxPadding;if(!yh(n)){i.size&&(t[n]-=i.size);let e=r[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?s.height:s.width),i.size=e.size/e.count,t[n]+=i.size}s.getPadding&&_0(o,s.getPadding());let a=Math.max(0,e.outerWidth-_J(o,t,"left","right")),l=Math.max(0,e.outerHeight-_J(o,t,"top","bottom")),h=a!==t.w,f=l!==t.h;return t.w=a,t.h=l,i.horizontal?{same:h,other:f}:{same:f,other:h}}(e,i,o,r);l|=s&&f.length,h=h||u,a.fullSize||f.push(o)}return l&&_1(f,e,i,r)||h}function _2(t,e,i,r,n){t.top=i,t.left=e,t.right=e+r,t.bottom=i+n,t.width=r,t.height=n}function _3(t,e,i,r){let n=i.padding,{x:s,y:o}=e;for(let a of t){let t=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/l.weight||1;if(a.horizontal){let r=e.w*h,s=l.size||t.height;yM(l.start)&&(o=l.start),t.fullSize?_2(t,n.left,o,i.outerWidth-n.right-n.left,s):_2(t,e.left+l.placed,o,r,s),l.start=o,l.placed+=r,o=t.bottom}else{let r=e.h*h,o=l.size||t.width;yM(l.start)&&(s=l.start),t.fullSize?_2(t,s,n.top,o,i.outerHeight-n.bottom-n.top):_2(t,s,e.top+l.placed,o,r),l.start=s,l.placed+=r,s=t.right}}e.x=s,e.y=o}var _6={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){let i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,r){if(!t)return;let n=vD(t.options.layout.padding),s=Math.max(e-n.width,0),o=Math.max(i-n.height,0),a=function(t){let e=function(t){let e,i,r,n,s,o,a=[];for(e=0,i=(t||[]).length;e<i;++e)r=t[e],({position:n,options:{stack:s,stackWeight:o=1}}=r),a.push({index:e,box:r,pos:n,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&n+s,stackWeight:o});return a}(t),i=_Z(e.filter(t=>t.box.fullSize),!0),r=_Z(_X(e,"left"),!0),n=_Z(_X(e,"right")),s=_Z(_X(e,"top"),!0),o=_Z(_X(e,"bottom")),a=_Y(e,"x"),l=_Y(e,"y");return{fullSize:i,leftAndTop:r.concat(s),rightAndBottom:n.concat(l).concat(o).concat(a),chartArea:_X(e,"chartArea"),vertical:r.concat(n).concat(l),horizontal:s.concat(o).concat(a)}}(t.boxes),l=a.vertical,h=a.horizontal;yg(t.boxes,t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()});let f=Object.freeze({outerWidth:e,outerHeight:i,padding:n,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/(l.reduce((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1,0)||1),hBoxMaxHeight:o/2}),u=Object.assign({},n);_0(u,vD(r));let c=Object.assign({maxPadding:u,w:s,h:o,x:n.left,y:n.top},n),d=function(t,e){let i,r,n,s=function(t){let e={};for(let i of t){let{stack:t,pos:r,stackWeight:n}=i;if(!t||!_G.includes(r))continue;let s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=n}return e}(t),{vBoxMaxWidth:o,hBoxMaxHeight:a}=e;for(i=0,r=t.length;i<r;++i){let{fullSize:r}=(n=t[i]).box,l=s[n.stack],h=l&&n.stackWeight/l.weight;n.horizontal?(n.width=h?h*o:r&&e.availableWidth,n.height=a):(n.width=o,n.height=h?h*a:r&&e.availableHeight)}return s}(l.concat(h),f);_1(a.fullSize,c,f,d),_1(l,c,f,d),_1(h,c,f,d)&&_1(l,c,f,d),function(t){let e=t.maxPadding;function i(i){let r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(c),_3(a.leftAndTop,c,f,d),c.x+=c.w,c.y+=c.h,_3(a.rightAndBottom,c,f,d),t.chartArea={left:c.left,top:c.top,right:c.left+c.w,bottom:c.top+c.h,height:c.h,width:c.w},yg(a.chartArea,e=>{let i=e.box;Object.assign(i,t.chartArea),i.update(c.w,c.h,{left:0,top:0,right:0,bottom:0})})}};class _5{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class _8 extends _5{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const _4="$chartjs",_9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_7=t=>null===t||""===t,wt=!!_r&&{passive:!0};function we(t,e){for(let i of t)if(i===e||i.contains(e))return!0}function wi(t,e,i){let r=t.canvas,n=new MutationObserver(t=>{let e=!1;for(let i of t)e=(e=e||we(i.addedNodes,r))&&!we(i.removedNodes,r);e&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}function wr(t,e,i){let r=t.canvas,n=new MutationObserver(t=>{let e=!1;for(let i of t)e=(e=e||we(i.removedNodes,r))&&!we(i.addedNodes,r);e&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}const wn=new Map;let ws=0;function wo(){let t=window.devicePixelRatio;t!==ws&&(ws=t,wn.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function wa(t,e,i){let r=t.canvas,n=r&&v6(r);if(!n)return;let s=y8((t,e)=>{let r=n.clientWidth;i(t,e),r<n.clientWidth&&i()},window),o=new ResizeObserver(t=>{let e=t[0],i=e.contentRect.width,r=e.contentRect.height;(0!==i||0!==r)&&s(i,r)});return o.observe(n),wn.size||window.addEventListener("resize",wo),wn.set(t,s),o}function wl(t,e,i){if(i&&i.disconnect(),"resize"===e)wn.delete(t),wn.size||window.removeEventListener("resize",wo)}function wh(t,e,i){let r=t.canvas,n=y8(e=>{null!==t.ctx&&i(function(t,e){let i=_9[t.type]||t.type,{x:r,y:n}=_t(t,e);return{type:i,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==n?n:null}}(e,t))},t);return r&&r.addEventListener(e,n,wt),n}class wf extends _5{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(!function(t,e){let i=t.style,r=t.getAttribute("height"),n=t.getAttribute("width");if(t[_4]={initial:{height:r,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",_7(n)){let e=_n(t,"width");void 0!==e&&(t.width=e)}if(_7(r)){if(""===t.style.height)t.height=t.width/(e||2);else{let e=_n(t,"height");void 0!==e&&(t.height=e)}}}(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[_4])return!1;let i=e[_4].initial;["height","width"].forEach(t=>{let r=i[t];ya(r)?e.removeAttribute(t):e.setAttribute(t,r)});let r=i.style||{};return Object.keys(r).forEach(t=>{e.style[t]=r[t]}),e.width=e.width,delete e[_4],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),n={attach:wi,detach:wr,resize:wa}[e]||wh;r[e]=n(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),r=i[e];r&&((({attach:wl,detach:wl,resize:wl})[e]||function(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,wt)})(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function(t,e,i,r){let n=v8(t),s=v9(n,"margin"),o=v5(n.maxWidth,t,"clientWidth")||yC,a=v5(n.maxHeight,t,"clientHeight")||yC,l=function(t,e,i){let r,n;if(void 0===e||void 0===i){let s=t&&v6(t);if(s){let t=s.getBoundingClientRect(),o=v8(s),a=v9(o,"border","width"),l=v9(o,"padding");e=t.width-l.width-a.width,i=t.height-l.height-a.height,r=v5(o.maxWidth,s,"clientWidth"),n=v5(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:r||yC,maxHeight:n||yC}}(t,e,i),{width:h,height:f}=l;if("content-box"===n.boxSizing){let t=v9(n,"border","width"),e=v9(n,"padding");h-=e.width+t.width,f-=e.height+t.height}return h=Math.max(0,h-s.width),f=Math.max(0,r?h/r:f-s.height),h=_e(Math.min(h,o,l.maxWidth)),f=_e(Math.min(f,a,l.maxHeight)),h&&!f&&(f=_e(h/2)),(void 0!==e||void 0!==i)&&r&&l.height&&f>l.height&&(h=_e(Math.floor((f=l.height)*r))),{width:h,height:f}}(t,e,i,r)}isAttached(t){let e=t&&v6(t);return!!(e&&e.isConnected)}}class wu{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return yq(this.x)&&yq(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let r={};return t.forEach(t=>{r[t]=i[t]&&i[t].active()?i[t]._to:this[t]}),r}}function wc(t,e,i,r,n){let s,o,a,l=yc(r,0),h=Math.min(yc(n,t.length),t.length),f=0;for(i=Math.ceil(i),n&&(i=(s=n-r)/Math.floor(s/i)),a=l;a<0;)a=Math.round(l+ ++f*i);for(o=Math.max(l,0);o<h;o++)o===a&&(e.push(t[o]),a=Math.round(l+ ++f*i))}const wd=t=>"left"===t?"right":"right"===t?"left":t,wp=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,wb=(t,e)=>Math.min(e||t,t);function wg(t,e){let i=[],r=t.length/e,n=t.length,s=0;for(;s<n;s+=r)i.push(t[Math.floor(s)]);return i}function wm(t){return t.drawTicks?t.tickLength:0}function wy(t,e){if(!t.display)return 0;let i=vU(t.font,e),r=vD(t.padding);return(yl(t.text)?t.text.length:1)*i.lineHeight+r.height}class wv extends wu{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=yu(t,Number.POSITIVE_INFINITY),e=yu(e,Number.NEGATIVE_INFINITY),i=yu(i,Number.POSITIVE_INFINITY),r=yu(r,Number.NEGATIVE_INFINITY),{min:yu(t,i),max:yu(e,r),minDefined:yf(t),maxDefined:yf(e)}}getMinMax(t){let e,{min:i,max:r,minDefined:n,maxDefined:s}=this.getUserBounds();if(n&&s)return{min:i,max:r};let o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),n||(i=Math.min(i,e.min)),s||(r=Math.max(r,e.max));return i=s&&i>r?r:i,r=n&&i>r?i:r,{min:yu(i,yu(r,i)),max:yu(r,yu(i,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yb(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:r,grace:n,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,i){let{min:r,max:n}=t,s=yp(e,(n-r)/2),o=(t,e)=>i&&0===t?0:t+e;return{min:o(r,-Math.abs(s)),max:o(n,s)}}(this,n,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let a=o<this.ticks.length;this._convertTicksToLabels(a?wg(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function(t,e){let i=t.options.ticks,r=function(t){let e=t.options.offset,i=t._tickSize();return Math.floor(Math.min(t._length/i+ +!e,t._maxLength/i))}(t),n=Math.min(i.maxTicksLimit||r,r),s=i.major.enabled?function(t){let e,i,r=[];for(e=0,i=t.length;e<i;e++)t[e].major&&r.push(e);return r}(e):[],o=s.length,a=s[0],l=s[o-1],h=[];if(o>n)return function(t,e,i,r){let n,s=0,o=i[0];for(n=0,r=Math.ceil(r);n<t.length;n++)n===o&&(e.push(t[n]),o=i[++s*r])}(e,h,s,o/n),h;let f=function(t,e,i){let r=function(t){let e,i,r=t.length;if(r<2)return!1;for(i=t[0],e=1;e<r;++e)if(t[e]-t[e-1]!==i)return!1;return i}(t),n=e.length/i;if(!r)return Math.max(n,1);let s=function(t){let e,i=[],r=Math.sqrt(t);for(e=1;e<r;e++)t%e==0&&(i.push(e),i.push(t/e));return r===(0|r)&&i.push(r),i.sort((t,e)=>t-e).pop(),i}(r);for(let t=0,e=s.length-1;t<e;t++){let e=s[t];if(e>n)return e}return Math.max(n,1)}(s,e,n);if(o>0){let t,i,r=o>1?Math.round((l-a)/(o-1)):null;for(wc(e,h,f,ya(r)?0:a-r,a),t=0,i=o-1;t<i;t++)wc(e,h,f,s[t],s[t+1]);return wc(e,h,f,l,ya(r)?e.length:l+r),h}return wc(e,h,f),h}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yb(this.options.afterUpdate,[this])}beforeSetDimensions(){yb(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yb(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),yb(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yb(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e,i,r,n=this.options.ticks;for(e=0,i=t.length;e<i;e++)(r=t[e]).label=yb(n.callback,[r.value,e,t],this)}afterTickToLabelConversion(){yb(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yb(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t,e,i,r=this.options,n=r.ticks,s=wb(this.ticks.length,r.ticks.maxTicksLimit),o=n.minRotation||0,a=n.maxRotation,l=o;if(!this._isVisible()||!n.display||o>=a||s<=1||!this.isHorizontal()){this.labelRotation=o;return}let h=this._getLabelSizes(),f=h.widest.width,u=h.highest.height,c=yY(this.chart.width-f,0,this.maxWidth);f+6>(t=r.offset?this.maxWidth/s:c/(s-1))&&(t=c/(s-(r.offset?.5:1)),e=this.maxHeight-wm(r.grid)-n.padding-wy(r.title,this.chart.options.font),i=Math.sqrt(f*f+u*u),l=Math.max(o,Math.min(a,l=180/yP*Math.min(Math.asin(yY((h.highest.height+6)/t,-1,1)),Math.asin(yY(e/i,-1,1))-Math.asin(yY(u/i,-1,1)))))),this.labelRotation=l}afterCalculateLabelRotation(){yb(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yb(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:n}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){let s=wy(r,e.options.font);if(o?(t.width=this.maxWidth,t.height=wm(n)+s):(t.height=this.maxHeight,t.width=wm(n)+s),i.display&&this.ticks.length){let{first:e,last:r,widest:n,highest:s}=this._getLabelSizes(),a=2*i.padding,l=yz(this.labelRotation),h=Math.cos(l),f=Math.sin(l);if(o){let e=i.mirror?0:f*n.width+h*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{let e=i.mirror?0:h*n.width+f*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,r,f,h)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){let{ticks:{align:n,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){let o=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),f=0,u=0;a?l?(f=r*t.width,u=i*e.height):(f=i*t.height,u=r*e.width):"start"===n?u=e.width:"end"===n?f=t.width:"inner"!==n&&(f=t.width/2,u=e.width/2),this.paddingLeft=Math.max((f-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((u-h+s)*this.width/(this.width-h),0)}else{let i=e.height/2,r=t.height/2;"start"===n?(i=0,r=t.height):"end"===n&&(i=e.height,r=0),this.paddingTop=i+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yb(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)ya(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=wg(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let r,n,s,o,a,l,h,f,u,c,d,{ctx:p,_longestTextCache:b}=this,g=[],m=[],y=Math.floor(e/wb(e,i)),v=0,_=0;for(r=0;r<e;r+=y){if(o=t[r].label,p.font=l=(a=this._resolveTickFontOptions(r)).string,h=b[l]=b[l]||{data:{},gc:[]},f=a.lineHeight,u=c=0,ya(o)||yl(o)){if(yl(o))for(n=0,s=o.length;n<s;++n)ya(d=o[n])||yl(d)||(u=vv(p,h.data,h.gc,u,d),c+=f)}else u=vv(p,h.data,h.gc,u,o),c=f;g.push(u),m.push(c),v=Math.max(u,v),_=Math.max(c,_)}yg(b,t=>{let i,r=t.gc,n=r.length/2;if(n>e){for(i=0;i<n;++i)delete t.data[r[i]];r.splice(0,n)}});let w=g.indexOf(v),x=m.indexOf(_),S=t=>({width:g[t]||0,height:m[t]||0});return{first:S(0),last:S(e-1),widest:S(w),highest:S(x),widths:g,heights:m}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return yY(this._alignToPixels?v_(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=vj(this.getContext(),{tick:i,index:t,type:"tick"}))}return this.$context||(this.$context=vj(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){let t=this.options.ticks,e=yz(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),n=this._getLabelSizes(),s=t.autoSkipPadding||0,o=n?n.widest.width+s:0,a=n?n.highest.height+s:0;return this.isHorizontal()?a*i>o*r?o/i:a/r:a*r<o*i?a/i:o/r}_isVisible(){let t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e,i,r,n,s,o,a,l,h,f,u,c,d=this.axis,p=this.chart,b=this.options,{grid:g,position:m,border:y}=b,v=g.offset,_=this.isHorizontal(),w=this.ticks.length+ +!!v,x=wm(g),S=[],E=y.setContext(this.getContext()),k=E.display?E.width:0,A=k/2,M=function(t){return v_(p,t,k)};if("top"===m)e=M(this.bottom),o=this.bottom-x,l=e-A,f=M(t.top)+A,c=t.bottom;else if("bottom"===m)e=M(this.top),f=t.top,c=M(t.bottom)-A,o=e+A,l=this.top+x;else if("left"===m)e=M(this.right),s=this.right-x,a=e-A,h=M(t.left)+A,u=t.right;else if("right"===m)e=M(this.left),h=t.left,u=M(t.right)-A,s=e+A,a=this.left+x;else if("x"===d){if("center"===m)e=M((t.top+t.bottom)/2+.5);else if(yh(m)){let t=Object.keys(m)[0],i=m[t];e=M(this.chart.scales[t].getPixelForValue(i))}f=t.top,c=t.bottom,l=(o=e+A)+x}else if("y"===d){if("center"===m)e=M((t.left+t.right)/2);else if(yh(m)){let t=Object.keys(m)[0],i=m[t];e=M(this.chart.scales[t].getPixelForValue(i))}a=(s=e-A)-x,h=t.left,u=t.right}let T=yc(b.ticks.maxTicksLimit,w),I=Math.max(1,Math.ceil(w/T));for(i=0;i<w;i+=I){let t=this.getContext(i),e=g.setContext(t),d=y.setContext(t),b=e.lineWidth,m=e.color,w=d.dash||[],x=d.dashOffset,E=e.tickWidth,k=e.tickColor,A=e.tickBorderDash||[],M=e.tickBorderDashOffset;void 0!==(r=function(t,e,i){let r,n=t.ticks.length,s=Math.min(e,n-1),o=t._startPixel,a=t._endPixel,l=t.getPixelForTick(s);if(!i||(r=1===n?Math.max(l-o,a-l):0===e?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(s-1))/2,!((l+=s<e?r:-r)<o-1e-6)&&!(l>a+1e-6)))return l}(this,i,v))&&(n=v_(p,r,b),_?s=a=h=u=n:o=l=f=c=n,S.push({tx1:s,ty1:o,tx2:a,ty2:l,x1:h,y1:f,x2:u,y2:c,width:b,color:m,borderDash:w,borderDashOffset:x,tickWidth:E,tickColor:k,tickBorderDash:A,tickBorderDashOffset:M}))}return this._ticksLength=w,this._borderValue=e,S}_computeLabelItems(t){let e,i,r,n,s,o,a,l,h,f,u,c=this.axis,d=this.options,{position:p,ticks:b}=d,g=this.isHorizontal(),m=this.ticks,{align:y,crossAlign:v,padding:_,mirror:w}=b,x=wm(d.grid),S=x+_,E=w?-_:S,k=-yz(this.labelRotation),A=[],M="middle";if("top"===p)s=this.bottom-E,o=this._getXAxisLabelAlignment();else if("bottom"===p)s=this.top+E,o=this._getXAxisLabelAlignment();else if("left"===p){let t=this._getYAxisLabelAlignment(x);o=t.textAlign,n=t.x}else if("right"===p){let t=this._getYAxisLabelAlignment(x);o=t.textAlign,n=t.x}else if("x"===c){if("center"===p)s=(t.top+t.bottom)/2+S;else if(yh(p)){let t=Object.keys(p)[0],e=p[t];s=this.chart.scales[t].getPixelForValue(e)+S}o=this._getXAxisLabelAlignment()}else if("y"===c){if("center"===p)n=(t.left+t.right)/2-S;else if(yh(p)){let t=Object.keys(p)[0],e=p[t];n=this.chart.scales[t].getPixelForValue(e)}o=this._getYAxisLabelAlignment(x).textAlign}"y"===c&&("start"===y?M="top":"end"===y&&(M="bottom"));let T=this._getLabelSizes();for(e=0,i=m.length;e<i;++e){let t;r=m[e].label;let c=b.setContext(this.getContext(e));a=this.getPixelForTick(e)+b.labelOffset,h=(l=this._resolveTickFontOptions(e)).lineHeight;let d=(f=yl(r)?r.length:1)/2,y=c.color,_=c.textStrokeColor,x=c.textStrokeWidth,S=o;if(g?(n=a,"inner"===o&&(S=e===i-1?this.options.reverse?"left":"right":0===e?this.options.reverse?"right":"left":"center"),u="top"===p?"near"===v||0!==k?-f*h+h/2:"center"===v?-T.highest.height/2-d*h+h:-T.highest.height+h/2:"near"===v||0!==k?h/2:"center"===v?T.highest.height/2-d*h:T.highest.height-f*h,w&&(u*=-1),0===k||c.showLabelBackdrop||(n+=h/2*Math.sin(k))):(s=a,u=(1-f)*h/2),c.showLabelBackdrop){let r=vD(c.backdropPadding),n=T.heights[e],s=T.widths[e],a=u-r.top,l=0-r.left;switch(M){case"middle":a-=n/2;break;case"bottom":a-=n}switch(o){case"center":l-=s/2;break;case"right":l-=s;break;case"inner":e===i-1?l-=s:e>0&&(l-=s/2)}t={left:l,top:a,width:s+r.width,height:n+r.height,color:c.backdropColor}}A.push({label:r,font:l,textOffset:u,options:{rotation:k,color:y,strokeColor:_,strokeWidth:x,textAlign:S,textBaseline:M,translation:[n,s],backdrop:t}})}return A}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-yz(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){let e,i,{position:r,ticks:{crossAlign:n,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),l=t+o,h=a.widest.width;return"left"===r?s?(i=this.right+o,"near"===n?e="left":"center"===n?(e="center",i+=h/2):(e="right",i+=h)):(i=this.right-l,"near"===n?e="right":"center"===n?(e="center",i-=h/2):(e="left",i=this.left)):"right"===r?s?(i=this.left+o,"near"===n?e="right":"center"===n?(e="center",i-=h/2):(e="left",i-=h)):(i=this.left+l,"near"===n?e="left":"center"===n?(e="center",i+=h/2):(e="right",i=this.right)):e="right",{textAlign:e,x:i}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:r,width:n,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,n,s),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let i=this.ticks.findIndex(e=>e.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){let e,i,r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(r.display)for(e=0,i=s.length;e<i;++e){let t=s[e];r.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),r.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){let t,e,i,r,{chart:n,ctx:s,options:{border:o,grid:a}}=this,l=o.setContext(this.getContext()),h=o.display?l.width:0;if(!h)return;let f=a.setContext(this.getContext(0)).lineWidth,u=this._borderValue;this.isHorizontal()?(t=v_(n,this.left,h)-h/2,e=v_(n,this.right,f)+f/2,i=r=u):(i=v_(n,this.top,h)-h/2,r=v_(n,this.bottom,f)+f/2,t=e=u),s.save(),s.lineWidth=l.width,s.strokeStyle=l.color,s.beginPath(),s.moveTo(t,i),s.lineTo(e,r),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;let e=this.ctx,i=this._computeLabelArea();for(let r of(i&&vk(e,i),this.getLabelItems(t))){let t=r.options,i=r.font;vI(e,r.label,0,r.textOffset,i,t)}i&&vA(e)}drawTitle(){let t,{ctx:e,options:{position:i,title:r,reverse:n}}=this;if(!r.display)return;let s=vU(r.font),o=vD(r.padding),a=r.align,l=s.lineHeight/2;"bottom"===i||"center"===i||yh(i)?(l+=o.bottom,yl(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;let{titleX:h,titleY:f,maxWidth:u,rotation:c}=function(t,e,i,r){let n,s,o,{top:a,left:l,bottom:h,right:f,chart:u}=t,{chartArea:c,scales:d}=u,p=0,b=h-a,g=f-l;if(t.isHorizontal()){if(s=y9(r,l,f),yh(i)){let t=Object.keys(i)[0],r=i[t];o=d[t].getPixelForValue(r)+b-e}else o="center"===i?(c.bottom+c.top)/2+b-e:wp(t,i,e);n=f-l}else{if(yh(i)){let t=Object.keys(i)[0],r=i[t];s=d[t].getPixelForValue(r)-g+e}else s="center"===i?(c.left+c.right)/2-g+e:wp(t,i,e);o=y9(r,h,a),p="left"===i?-yL:yL}return{titleX:s,titleY:o,maxWidth:n,rotation:p}}(this,l,i,a);vI(e,r.text,0,0,s,{color:r.color,maxWidth:u,rotation:c,textAlign:(t=y4(a),(n&&"right"!==i||!n&&"right"===i)&&(t=wd(t)),t),textBaseline:"middle",translation:[h,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=yc(t.grid&&t.grid.z,-1),r=yc(t.border&&t.border.z,0);return this._isVisible()&&this.draw===wv.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){let e,i,r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];for(e=0,i=r.length;e<i;++e){let i=r[e];i[n]!==this.id||t&&i.type!==t||s.push(i)}return s}_resolveTickFontOptions(t){return vU(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class w_{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){var e;let i,r=Object.getPrototypeOf(t);"id"in(e=r)&&"defaults"in e&&(i=this.register(r));let n=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw Error("class does not have id: "+t);return s in n||(n[s]=t,function(t,e,i){let r=yw(Object.create(null),[i?vy.get(i):{},vy.get(e),t.defaults]);vy.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach(i=>{let r=i.split("."),n=r.pop(),s=[t].concat(r).join("."),o=e[i].split("."),a=o.pop(),l=o.join(".");vy.route(s,n,l,a)})}(e,t.defaultRoutes),t.descriptors&&vy.describe(e,t.descriptors)}(t,o,i),this.override&&vy.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in vy[r]&&(delete vy[r][i],this.override&&delete vp[i])}}var ww=new class{constructor(){this.controllers=new w_(_C,"datasets",!0),this.elements=new w_(wu,"elements"),this.plugins=new w_(Object,"plugins"),this.scales=new w_(wv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(e=>{let r=i||this._getRegistryForType(e);i||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):yg(e,e=>{let r=i||this._getRegistryForType(e);this._exec(t,r,e)})})}_exec(t,e,i){let r=yA(t);yb(i["before"+r],[],i),e[t](i),yb(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let r=e.get(t);if(void 0===r)throw Error('"'+t+'" is not a registered '+i+".");return r}};class wx{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let n=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(n,t,e,i);return"afterDestroy"===e&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,i,r){for(let n of(r=r||{},t)){let t=n.plugin;if(!1===yb(t[i],[e,r,n.options],t)&&r.cancelable)return!1}return!0}invalidate(){ya(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,r=yc(i.options&&i.options.plugins,{}),n=function(t){let e={},i=[],r=Object.keys(ww.plugins.items);for(let t=0;t<r.length;t++)i.push(ww.getPlugin(r[t]));let n=t.plugins||[];for(let t=0;t<n.length;t++){let r=n[t];-1===i.indexOf(r)&&(i.push(r),e[r.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==r||e?function(t,{plugins:e,localIds:i},r,n){let s=[],o=t.getContext();for(let l of e){var a;let e=l.id,h=(a=r[e],n||!1!==a?!0===a?{}:a:null);null!==h&&s.push({plugin:l,options:function(t,{plugin:e,local:i},r,n){let s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return i&&e.defaults&&o.push(e.defaults),t.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(t.config,{plugin:l,local:i[e]},h,o)})}return s}(t,n,r,e):[]}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,r=(t,e)=>t.filter(t=>!e.some(e=>t.plugin.id===e.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function wS(t,e){let i=vy.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function wE(t){if("x"===t||"y"===t||"r"===t)return t}function wk(t,...e){if(wE(t))return t;for(let r of e){var i;let e=r.axis||("top"===(i=r.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&wE(t[0].toLowerCase());if(e)return e}throw Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function wA(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function wM(t){let e=t.options||(t.options={});e.plugins=yc(e.plugins,{}),e.scales=function(t,e){let i=vp[t.type]||{scales:{}},r=e.scales||{},n=wS(t.type,e),s=Object.create(null);return Object.keys(r).forEach(e=>{let o=r[e];if(!yh(o))return console.error(`Invalid scale configuration for scale: ${e}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);let a=wk(e,o,function(t,e){if(e.data&&e.data.datasets){let i=e.data.datasets.filter(e=>e.xAxisID===t||e.yAxisID===t);if(i.length)return wA(t,"x",i[0])||wA(t,"y",i[0])}return{}}(e,t),vy.scales[o.type]),l=a===n?"_index_":"_value_",h=i.scales||{};s[e]=yx(Object.create(null),[{axis:a},o,h[a],h[l]])}),t.data.datasets.forEach(i=>{let n=i.type||t.type,o=i.indexAxis||wS(n,e),a=(vp[n]||{}).scales||{};Object.keys(a).forEach(t=>{let e,n=(e=t,"_index_"===t?e=o:"_value_"===t&&(e="x"===o?"y":"x"),e),l=i[n+"AxisID"]||n;s[l]=s[l]||Object.create(null),yx(s[l],[{axis:n},r[l],a[t]])})}),Object.keys(s).forEach(t=>{let e=s[t];yx(e,[vy.scales[e.type],vy.scale])}),s}(t,e)}function wT(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const wI=new Map,wP=new Set;function wO(t,e){let i=wI.get(t);return i||(i=e(),wI.set(t,i),wP.add(i)),i}const wB=(t,e,i)=>{let r=yk(e,i);void 0!==r&&t.add(r)};class wC{constructor(t){var e;this._config=((e=(e=t)||{}).data=wT(e.data),wM(e),e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=wT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),wM(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return wO(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return wO(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return wO(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return wO(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){let{options:r,type:n}=this,s=this._cachedScopes(t,i),o=s.get(e);if(o)return o;let a=new Set;e.forEach(e=>{t&&(a.add(t),e.forEach(e=>wB(a,t,e))),e.forEach(t=>wB(a,r,t)),e.forEach(t=>wB(a,vp[n]||{},t)),e.forEach(t=>wB(a,vy,t)),e.forEach(t=>wB(a,vb,t))});let l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),wP.has(e)&&s.set(e,l),l}chartOptionScopes(){let{options:t,type:e}=this;return[t,vp[e]||{},vy.datasets[e]||{},{type:e},vy,vb]}resolveNamedOptions(t,e,i,r=[""]){let n={$shared:!0},{resolver:s,subPrefixes:o}=wR(this._resolverCache,t,r),a=s;if(function(t,e){let{isScriptable:i,isIndexable:r}=v$(t);for(let n of e){let e=i(n),s=r(n),o=(s||e)&&t[n];if(e&&(yT(o)||wL(o))||s&&yl(o))return!0}return!1}(s,e)){n.$shared=!1,i=yT(i)?i():i;let e=this.createResolver(t,i,o);a=vq(s,i,e)}for(let t of e)n[t]=a[t];return n}createResolver(t,e,i=[""],r){let{resolver:n}=wR(this._resolverCache,t,i);return yh(e)?vq(n,e,void 0,r):n}}function wR(t,e,i){let r=t.get(e);r||(r=new Map,t.set(e,r));let n=i.join(),s=r.get(n);return s||(s={resolver:vF(e,i),subPrefixes:i.filter(t=>!t.toLowerCase().includes("hover"))},r.set(n,s)),s}const wL=t=>yh(t)&&Object.getOwnPropertyNames(t).some(e=>yT(t[e])),wN=["top","bottom","left","right","chartArea"];function wD(t,e){return"top"===t||"bottom"===t||-1===wN.indexOf(t)&&"x"===e}function wU(t,e){return function(i,r){return i[t]===r[t]?i[e]-r[e]:i[t]-r[t]}}function wH(t){let e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),yb(i&&i.onComplete,[t],e)}function wj(t){let e=t.chart,i=e.options.animation;yb(i&&i.onProgress,[t],e)}function wF(t){return v3()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const wq={},w$=t=>{let e=wF(t);return Object.values(wq).filter(t=>t.canvas===e).pop()};function wz(t,e,i){return t.options.clip?t[i]:e[i]}class wV{static defaults=vy;static instances=wq;static overrides=vp;static registry=ww;static version="4.4.8";static getChart=w$;static register(...t){ww.add(...t),wW()}static unregister(...t){ww.remove(...t),wW()}constructor(t,e){var i,r;let n,s=this.config=new wC(e),o=wF(t),a=w$(o);if(a)throw Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");let l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||(!v3()||"undefined"!=typeof OffscreenCanvas&&o instanceof OffscreenCanvas?_8:wf)),this.platform.updateConfig(s);let h=this.platform.acquireContext(o,l.aspectRatio),f=h&&h.canvas,u=f&&f.height,c=f&&f.width;if(this.id=yo(),this.ctx=h,this.canvas=f,this.width=c,this.height=u,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(i=t=>this.update(t),r=l.resizeDelay||0,function(...t){return r?(clearTimeout(n),n=setTimeout(i,r,t)):i.apply(this,t),r}),this._dataChanges=[],wq[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}_m.listen(this,"complete",wH),_m.listen(this,"progress",wj),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:n}=this;return ya(t)?e&&n?n:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ww}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_i(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vw(this.canvas,this.ctx),this}stop(){return _m.stop(this),this}resize(t,e){_m.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let i=this.options,r=this.canvas,n=i.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,t,e,n),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,_i(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),yb(i.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){yg(this.options.scales||{},(t,e)=>{t.id=e})}buildOrUpdateScales(){let t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((t,e)=>(t[e]=!1,t),{}),n=[];e&&(n=n.concat(Object.keys(e).map(t=>{let i=e[t],r=wk(t,i),n="r"===r,s="x"===r;return{options:i,dposition:n?"chartArea":s?"bottom":"left",dtype:n?"radialLinear":s?"category":"linear"}}))),yg(n,e=>{let n=e.options,s=n.id,o=wk(s,n),a=yc(n.type,e.dtype);(void 0===n.position||wD(n.position,o)!==wD(e.dposition))&&(n.position=e.dposition),r[s]=!0;let l=null;s in i&&i[s].type===a?l=i[s]:i[(l=new(ww.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this})).id]=l,l.init(n,t)}),yg(r,(t,e)=>{t||delete i[e]}),yg(i,t=>{_6.configure(this,t,t.options),_6.addBox(this,t)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((t,e)=>t.index-e.index),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(wU("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((t,i)=>{0===e.filter(e=>e===t._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let t,e,i=[],r=this.data.datasets;for(this._removeUnreferencedMetasets(),t=0,e=r.length;t<e;t++){let e=r[t],n=this.getDatasetMeta(t),s=e.type||this.config.type;if(n.type&&n.type!==s&&(this._destroyDatasetMeta(t),n=this.getDatasetMeta(t)),n.type=s,n.indexAxis=e.indexAxis||wS(s,this.options),n.order=e.order||0,n.index=t,n.label=""+e.label,n.visible=this.isDatasetVisible(t),n.controller)n.controller.updateIndex(t),n.controller.linkScales();else{let e=ww.getController(s),{datasetElementType:r,dataElementType:o}=vy.datasets[s];Object.assign(e,{dataElementType:ww.getElement(o),datasetElementType:r&&ww.getElement(r)}),n.controller=new e(this,t),i.push(n.controller)}}return this._updateMetasets(),i}_resetElements(){yg(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;let n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let t=0,e=this.data.datasets.length;t<e;t++){let{controller:e}=this.getDatasetMeta(t),i=!r&&-1===n.indexOf(e);e.buildOrUpdateElements(i),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),r||yg(n,t=>{t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(wU("z","_idx"));let{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){yg(this.scales,t=>{_6.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options;yI(new Set(Object.keys(this._listeners)),new Set(t.events))&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this;for(let{method:e,start:i,count:r}of this._getUniformDataChanges()||[])!function(t,e,i){for(let r of Object.keys(t)){let n=+r;if(n>=e){let s=t[r];delete t[r],(i>0||n>e)&&(t[n+i]=s)}}}(t,i,"_removeElements"===e?-r:r)}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,i=e=>new Set(t.filter(t=>t[0]===e).map((t,e)=>e+","+t.splice(1).join(","))),r=i(0);for(let t=1;t<e;t++)if(!yI(r,i(t)))return;return Array.from(r).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;_6.update(this,this.width,this.height,t);let e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],yg(this.boxes,t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))},this),this._layers.forEach((t,e)=>{t._idx=e}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,yT(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(_m.has(this)?this.attached&&!_m.running(this)&&_m.start(this):(this.draw(),wH({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e,i,r=this._sortedMetasets,n=[];for(e=0,i=r.length;e<i;++e){let i=r[e];(!t||i.visible)&&n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,i=t._clip,r=!i.disabled,n=function(t,e){let{xScale:i,yScale:r}=t;return i&&r?{left:wz(i,e,"left"),right:wz(i,e,"right"),top:wz(r,e,"top"),bottom:wz(r,e,"bottom")}:e}(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&vk(e,{left:!1===i.left?0:n.left-i.left,right:!1===i.right?this.width:n.right+i.right,top:!1===i.top?0:n.top-i.top,bottom:!1===i.bottom?this.height:n.bottom+i.bottom}),t.controller.draw(),r&&vA(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return vE(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){let n=_Q.modes[e];return"function"==typeof n?n(this,t,i,r):[]}getDatasetMeta(t){let e=this.data.datasets[t],i=this._metasets,r=i.filter(t=>t&&t._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=vj(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){let r=i?"show":"hide",n=this.getDatasetMeta(t),s=n.controller._resolveAnimations(void 0,r);yM(e)?(n.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),s.update(n,{visible:i}),this.update(e=>e.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),_m.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),vw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete wq[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,i=(i,r)=>{e.addEventListener(this,i,r),t[i]=r},r=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};yg(this.options.events,t=>i(t,r))}bindResponsiveEvents(){let t;this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,r=(t,r)=>{i.addEventListener(this,t,r),e[t]=r},n=(t,r)=>{e[t]&&(i.removeEventListener(this,t,r),delete e[t])},s=(t,e)=>{this.canvas&&this.resize(t,e)},o=()=>{n("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",t)};t=()=>{this.attached=!1,n("resize",s),this._stop(),this._resize(0,0),r("attach",o)},i.isAttached(this.canvas)?o():t()}unbindEvents(){yg(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},yg(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){let r,n,s,o=i?"set":"remove";for("dataset"===e&&this.getDatasetMeta(t[0].datasetIndex).controller["_"+o+"DatasetHoverStyle"](),n=0,s=t.length;n<s;++n){let e=(r=t[n])&&this.getDatasetMeta(r.datasetIndex).controller;e&&e[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],i=t.map(({datasetIndex:t,index:e})=>{let i=this.getDatasetMeta(t);if(!i)throw Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}});ym(i,e)||(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,i){let r=this.options.hover,n=(t,e)=>t.filter(t=>!e.some(e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)),s=n(e,t),o=i?t:n(t,e);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(t,e){let i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;let n=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(n||i.changed)&&this.render(),this}_handleEvent(t,e,i){var r;let{_active:n=[],options:s}=this,o=this._getActiveElements(t,n,i,e),a="mouseup"===t.type||"click"===t.type||"contextmenu"===t.type,l=(r=this._lastEvent,i&&"mouseout"!==t.type?a?r:t:null);i&&(this._lastEvent=null,yb(s.onHover,[t,o,this],this),a&&yb(s.onClick,[t,o,this],this));let h=!ym(o,n);return(h||e)&&(this._active=o,this._updateHoverStyles(o,n,e)),this._lastEvent=l,h}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;let n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,r)}}function wW(){return yg(wV.instances,t=>t._plugins.invalidate())}function wK(t,e,i,r){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function wQ(t,e,i,r,n,s){let{x:o,y:a,startAngle:l,pixelMargin:h,innerRadius:f}=e,u=Math.max(e.outerRadius+r+i-h,0),c=f>0?f+r+i+h:0,d=0,p=n-l;if(r){let t=u>0?u-r:0,e=((f>0?f-r:0)+t)/2;d=(p-(0!==e?p*e/(e+r):p))/2}let b=Math.max(.001,p*u-i/yP)/u,g=(p-b)/2,m=l+g+d,y=n-g-d,{outerStart:v,outerEnd:_,innerStart:w,innerEnd:x}=function(t,e,i,r){let n=vR(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),s=(i-e)/2,o=Math.min(s,r*e/2),a=t=>{let e=(i-Math.min(s,t))*r/2;return yY(t,0,Math.min(s,e))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:yY(n.innerStart,0,o),innerEnd:yY(n.innerEnd,0,o)}}(e,c,u,y-m),S=u-v,E=u-_,k=m+v/S,A=y-_/E,M=c+w,T=c+x,I=m+w/M,P=y-x/T;if(t.beginPath(),s){let e=(k+A)/2;if(t.arc(o,a,u,k,e),t.arc(o,a,u,e,A),_>0){let e=wK(E,A,o,a);t.arc(e.x,e.y,_,A,y+yL)}let i=wK(T,y,o,a);if(t.lineTo(i.x,i.y),x>0){let e=wK(T,P,o,a);t.arc(e.x,e.y,x,y+yL,P+Math.PI)}let r=(y-x/c+(m+w/c))/2;if(t.arc(o,a,c,y-x/c,r,!0),t.arc(o,a,c,r,m+w/c,!0),w>0){let e=wK(M,I,o,a);t.arc(e.x,e.y,w,I+Math.PI,m-yL)}let n=wK(S,m,o,a);if(t.lineTo(n.x,n.y),v>0){let e=wK(S,k,o,a);t.arc(e.x,e.y,v,m-yL,k)}}else{t.moveTo(o,a);let e=Math.cos(k)*u+o,i=Math.sin(k)*u+a;t.lineTo(e,i);let r=Math.cos(A)*u+o,n=Math.sin(A)*u+a;t.lineTo(r,n)}t.closePath()}function wG(t,e,i=e){t.lineCap=yc(i.borderCapStyle,e.borderCapStyle),t.setLineDash(yc(i.borderDash,e.borderDash)),t.lineDashOffset=yc(i.borderDashOffset,e.borderDashOffset),t.lineJoin=yc(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=yc(i.borderWidth,e.borderWidth),t.strokeStyle=yc(i.borderColor,e.borderColor)}function wX(t,e,i){t.lineTo(i.x,i.y)}function wY(t,e,i={}){let r=t.length,{start:n=0,end:s=r-1}=i,{start:o,end:a}=e,l=Math.max(n,o),h=Math.min(s,a);return{count:r,start:l,loop:e.loop,ilen:h<l&&!(n<o&&s<o||n>a&&s>a)?r+h-l:h-l}}function wZ(t,e,i,r){let n,s,o,{points:a,options:l}=e,{count:h,start:f,loop:u,ilen:c}=wY(a,i,r),d=l.stepped?vM:l.tension||"monotone"===l.cubicInterpolationMode?vT:wX,{move:p=!0,reverse:b}=r||{};for(n=0;n<=c;++n)!(s=a[(f+(b?c-n:n))%h]).skip&&(p?(t.moveTo(s.x,s.y),p=!1):d(t,o,s,b,l.stepped),o=s);return u&&d(t,o,s=a[(f+(b?c:0))%h],b,l.stepped),!!u}function wJ(t,e,i,r){let n,s,o,a,l,h,f=e.points,{count:u,start:c,ilen:d}=wY(f,i,r),{move:p=!0,reverse:b}=r||{},g=0,m=0,y=t=>(c+(b?d-t:t))%u,v=()=>{a!==l&&(t.lineTo(g,l),t.lineTo(g,a),t.lineTo(g,h))};for(p&&(s=f[y(0)],t.moveTo(s.x,s.y)),n=0;n<=d;++n){if((s=f[y(n)]).skip)continue;let e=s.x,i=s.y,r=0|e;r===o?(i<a?a=i:i>l&&(l=i),g=(m*g+e)/++m):(v(),t.lineTo(e,i),o=r,m=0,a=l=i),h=i}v()}function w0(t){let e=t.options,i=e.borderDash&&e.borderDash.length;return t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i?wZ:wJ}const w1="function"==typeof Path2D;class w2 extends wu{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){let r=i.spanGaps?this._loop:this._fullLoop;!function(t,e,i,r,n){let s,o,a,l;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)!function(t,e="x"){let i,r,n,s=v1(e),o=t.length,a=Array(o).fill(0),l=Array(o),h=v0(t,0);for(i=0;i<o;++i)if(r=n,n=h,h=v0(t,i+1),n){if(h){let t=h[e]-n[e];a[i]=0!==t?(h[s]-n[s])/t:0}l[i]=r?h?yH(a[i-1])!==yH(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}(function(t,e,i){let r,n,s,o,a,l=t.length,h=v0(t,0);for(let f=0;f<l-1;++f)if(a=h,h=v0(t,f+1),a&&h){if(yj(e[f],0,vJ)){i[f]=i[f+1]=0;continue}(o=Math.pow(r=i[f]/e[f],2)+Math.pow(n=i[f+1]/e[f],2))<=9||(s=3/Math.sqrt(o),i[f]=r*s*e[f],i[f+1]=n*s*e[f])}})(t,a,l),function(t,e,i="x"){let r,n,s,o=v1(i),a=t.length,l=v0(t,0);for(let h=0;h<a;++h){if(n=s,s=l,l=v0(t,h+1),!s)continue;let a=s[i],f=s[o];n&&(r=(a-n[i])/3,s[`cp1${i}`]=a-r,s[`cp1${o}`]=f-r*e[h]),l&&(r=(l[i]-a)/3,s[`cp2${i}`]=a+r,s[`cp2${o}`]=f+r*e[h])}}(t,l,e)}(t,n);else{let i=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)l=function(t,e,i,r){let n=t.skip?e:t,s=i.skip?e:i,o=yK(e,n),a=yK(s,e),l=o/(o+a),h=a/(o+a);l=isNaN(l)?0:l,h=isNaN(h)?0:h;let f=r*l,u=r*h;return{previous:{x:e.x-f*(s.x-n.x),y:e.y-f*(s.y-n.y)},next:{x:e.x+u*(s.x-n.x),y:e.y+u*(s.y-n.y)}}}(i,a=t[s],t[Math.min(s+1,o-+!r)%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,i=a}e.capBezierPoints&&function(t,e){let i,r,n,s,o,a=vE(t[0],e);for(i=0,r=t.length;i<r;++i)o=s,s=a,a=i<r-1&&vE(t[i+1],e),s&&(n=t[i],o&&(n.cp1x=v2(n.cp1x,e.left,e.right),n.cp1y=v2(n.cp1y,e.top,e.bottom)),a&&(n.cp2x=v2(n.cp2x,e.left,e.right),n.cp2y=v2(n.cp2y,e.top,e.bottom)))}(t,i)}(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){let i=t.points,r=t.options.spanGaps,n=i.length;if(!n)return[];let s=!!t._loop,{start:o,end:a}=function(t,e,i,r){let n=0,s=e-1;if(i&&!r)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,i&&(s+=n);s>n&&t[s%e].skip;)s--;return{start:n,end:s%=e}}(i,n,s,r);if(!0===r)return _b(t,[{start:o,end:a,loop:s}],i,e);let l=a<o?a+n:a,h=!!t._fullLoop&&0===o&&a===n-1;return _b(t,function(t,e,i,r){let n,s=t.length,o=[],a=e,l=t[e];for(n=e+1;n<=i;++n){let i=t[n%s];i.skip||i.stop?l.skip||(r=!1,o.push({start:e%s,end:(n-1)%s,loop:r}),e=a=i.stop?n:null):(a=n,l.skip&&(e=n)),l=i}return null!==a&&o.push({start:e%s,end:a%s,loop:r}),o}(i,o,l,h),i,e)}(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){let i,r,n=this.options,s=t[e],o=this.points,a=_p(this,{property:e,start:s,end:s});if(!a.length)return;let l=[],h=n.stepped?_o:n.tension||"monotone"===n.cubicInterpolationMode?_a:_s;for(i=0,r=a.length;i<r;++i){let{start:r,end:f}=a[i],u=o[r],c=o[f];if(u===c){l.push(u);continue}let d=Math.abs((s-u[e])/(c[e]-u[e])),p=h(u,c,d,n.stepped);p[e]=t[e],l.push(p)}return 1===l.length?l[0]:l}pathSegment(t,e,i){return w0(this)(t,this,e,i)}path(t,e,i){let r=this.segments,n=w0(this),s=this._loop;for(let o of(e=e||0,i=i||this.points.length-e,r))s&=n(t,this,o,{start:e,end:e+i-1});return!!s}draw(t,e,i,r){let n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),function(t,e,i,r){if(w1&&!e.options.segment){let n;(n=e._path)||(n=e._path=new Path2D,e.path(n,i,r)&&n.closePath()),wG(t,e.options),t.stroke(n)}else!function(t,e,i,r){let{segments:n,options:s}=e,o=w0(e);for(let a of n)wG(t,s,a.style),t.beginPath(),o(t,e,a,{start:i,end:i+r-1})&&t.closePath(),t.stroke()}(t,e,i,r)}(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function w3(t,e,i,r){let n=t.options,{[i]:s}=t.getProps([i],r);return Math.abs(e-s)<n.radius+n.hitRadius}function w6(t,e){let i,r,n,s,o,{x:a,y:l,base:h,width:f,height:u}=t.getProps(["x","y","base","width","height"],e);return t.horizontal?(o=u/2,i=Math.min(a,h),r=Math.max(a,h),n=l-o,s=l+o):(i=a-(o=f/2),r=a+o,n=Math.min(l,h),s=Math.max(l,h)),{left:i,top:n,right:r,bottom:s}}function w5(t,e,i,r){return t?0:yY(e,i,r)}function w8(t,e,i,r){let n=null===e,s=null===i,o=t&&!(n&&s)&&w6(t,r);return o&&(n||yZ(e,o.left,o.right))&&(s||yZ(i,o.top,o.bottom))}function w4(t,e){t.rect(e.x,e.y,e.w,e.h)}function w9(t,e,i={}){let r=t.x!==i.x?-e:0,n=t.y!==i.y?-e:0,s=(t.x+t.w!==i.x+i.w?e:0)-r,o=(t.y+t.h!==i.y+i.h?e:0)-n;return{x:t.x+r,y:t.y+n,w:t.w+s,h:t.h+o,radius:t.radius}}var w7=Object.freeze({__proto__:null,ArcElement:class extends wu{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let{angle:r,distance:n}=yW(this.getProps(["x","y"],i),{x:t,y:e}),{startAngle:s,endAngle:o,innerRadius:a,outerRadius:l,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,u=yc(h,o-s),c=yX(r,s,o)&&s!==o,d=u>=yO||c,p=yZ(n,a+f,l+f);return d&&p}getCenterPoint(t){let{x:e,y:i,startAngle:r,endAngle:n,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,h=(r+n)/2,f=(s+o+l+a)/2;return{x:e+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,r=(e.offset||0)/4,n=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=.33*("inner"===e.borderAlign),this.fullCircles=i>yO?Math.floor(i/yO):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*r,Math.sin(o)*r);let a=r*(1-Math.sin(Math.min(yP,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,i,r,n){let{fullCircles:s,startAngle:o,circumference:a}=e,l=e.endAngle;if(s){wQ(t,e,i,r,l,n);for(let e=0;e<s;++e)t.fill();isNaN(a)||(l=o+(a%yO||yO))}wQ(t,e,i,r,l,n),t.fill()}(t,this,a,n,s),function(t,e,i,r,n){let{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:h,borderJoinStyle:f,borderDash:u,borderDashOffset:c}=l,d="inner"===l.borderAlign;if(!h)return;t.setLineDash(u||[]),t.lineDashOffset=c,d?(t.lineWidth=2*h,t.lineJoin=f||"round"):(t.lineWidth=h,t.lineJoin=f||"bevel");let p=e.endAngle;if(s){wQ(t,e,i,r,p,n);for(let e=0;e<s;++e)t.stroke();isNaN(a)||(p=o+(a%yO||yO))}d&&function(t,e,i){let{startAngle:r,pixelMargin:n,x:s,y:o,outerRadius:a,innerRadius:l}=e,h=n/a;t.beginPath(),t.arc(s,o,a,r-h,i+h),l>n?(h=n/l,t.arc(s,o,l,i+h,r-h,!0)):t.arc(s,o,n,i+yL,r-yL),t.closePath(),t.clip()}(t,e,p),s||(wQ(t,e,i,r,p,n),t.stroke())}(t,this,a,n,s),t.restore()}},BarElement:class extends wu{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){var e;let{inflateAmount:i,options:{borderColor:r,backgroundColor:n}}=this,{inner:s,outer:o}=function(t){let e=w6(t),i=e.right-e.left,r=e.bottom-e.top,n=function(t,e,i){let r=t.options.borderWidth,n=t.borderSkipped,s=vL(r);return{t:w5(n.top,s.top,0,i),r:w5(n.right,s.right,0,e),b:w5(n.bottom,s.bottom,0,i),l:w5(n.left,s.left,0,e)}}(t,i/2,r/2),s=function(t,e,i){let{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,s=vN(n),o=Math.min(e,i),a=t.borderSkipped,l=r||yh(n);return{topLeft:w5(!l||a.top||a.left,s.topLeft,0,o),topRight:w5(!l||a.top||a.right,s.topRight,0,o),bottomLeft:w5(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:w5(!l||a.bottom||a.right,s.bottomRight,0,o)}}(t,i/2,r/2);return{outer:{x:e.left,y:e.top,w:i,h:r,radius:s},inner:{x:e.left+n.l,y:e.top+n.t,w:i-n.l-n.r,h:r-n.t-n.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,s.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(n.b,n.r))}}}}(this),a=(e=o.radius).topLeft||e.topRight||e.bottomLeft||e.bottomRight?vP:w4;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,w9(o,i,s)),t.clip(),a(t,w9(s,-i,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,w9(s,i)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,i){return w8(this,t,e,i)}inXRange(t,e){return w8(this,t,null,e)}inYRange(t,e){return w8(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:r,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return{x:n?(e+r)/2:e,y:n?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:w2,PointElement:class extends wu{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){let r=this.options,{x:n,y:s}=this.getProps(["x","y"],i);return Math.pow(t-n,2)+Math.pow(e-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return w3(this,t,"x",e)}inYRange(t,e){return w3(this,t,"y",e)}getCenterPoint(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0,i=(e=Math.max(e,e&&t.hoverRadius||0))&&t.borderWidth||0;return(e+i)*2}draw(t,e){let i=this.options;!this.skip&&!(i.radius<.1)&&vE(this,e,this.size(i)/2)&&(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,vx(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}});const xt=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],xe=xt.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function xi(t){return xt[t%xt.length]}function xr(t){return xe[t%xe.length]}function xn(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function xs(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function xo(t){t.data.datasets.forEach(t=>{xs(t)})}function xa(t,e,i,r){if(r)return;let n=e[t],s=i[t];return"angle"===t&&(n=yG(n),s=yG(s)),{property:t,start:n,end:s}}function xl(t,e,i){for(;e>t;e--){let t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function xh(t,e,i,r){return t&&e?r(t[i],e[i]):t?t[i]:e?e[i]:0}function xf(t,e){let i=[],r=!1;return yl(t)?(r=!0,i=t):i=function(t,e){let{x:i=null,y:r=null}=t||{},n=e.points,s=[];return e.segments.forEach(({start:t,end:e})=>{e=xl(t,e,n);let o=n[t],a=n[e];null!==r?(s.push({x:o.x,y:r}),s.push({x:a.x,y:r})):null!==i&&(s.push({x:i,y:o.y}),s.push({x:i,y:a.y}))}),s}(t,e),i.length?new w2({points:i,options:{tension:0},_loop:r,_fullLoop:r}):null}function xu(t){return t&&!1!==t.fill}class xc{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:r,y:n,radius:s}=this;return e=e||{start:0,end:yO},t.arc(r,n,s,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:r}=this,n=t.angle;return{x:e+Math.cos(n)*r,y:i+Math.sin(n)*r,angle:n}}}function xd(t,e,i){let r=function(t){var e;let{chart:i,fill:r,line:n}=t;if(yf(r))return function(t,e){let i=t.getDatasetMeta(e);return i&&t.isDatasetVisible(e)?i.dataset:null}(i,r);if("stack"===r)return function(t){let{scale:e,index:i,line:r}=t,n=[],s=r.segments,o=r.points,a=function(t,e){let i=[],r=t.getMatchingVisibleMetas("line");for(let t=0;t<r.length;t++){let n=r[t];if(n.index===e)break;n.hidden||i.unshift(n.dataset)}return i}(e,i);a.push(xf({x:null,y:e.bottom},r));for(let t=0;t<s.length;t++){let e=s[t];for(let t=e.start;t<=e.end;t++)!function(t,e,i){let r=[];for(let n=0;n<i.length;n++){let{first:s,last:o,point:a}=function(t,e,i){let r=t.interpolate(e,"x");if(!r)return{};let n=r[i],s=t.segments,o=t.points,a=!1,l=!1;for(let t=0;t<s.length;t++){let e=s[t],r=o[e.start][i],h=o[e.end][i];if(yZ(n,r,h)){a=n===r,l=n===h;break}}return{first:a,last:l,point:r}}(i[n],e,"x");if(a&&(!s||!o)){if(s)r.unshift(a);else if(t.push(a),!o)break}}t.push(...r)}(n,o[t],a)}return new w2({points:n,options:{}})}(t);if("shape"===r)return!0;let s=((e=t).scale||{}).getPointPositionForValue?function(t){let e,{scale:i,fill:r}=t,n=i.options,s=i.getLabels().length,o=n.reverse?i.max:i.min,a="start"===r?o:"end"===r?i.options.reverse?i.min:i.max:yh(r)?r.value:i.getBaseValue(),l=[];if(n.grid.circular){let t=i.getPointPositionForValue(0,o);return new xc({x:t.x,y:t.y,radius:i.getDistanceFromCenterForValue(a)})}for(let t=0;t<s;++t)l.push(i.getPointPositionForValue(t,a));return l}(e):function(t){let e,{scale:i={},fill:r}=t,n=(e=null,"start"===r?e=i.bottom:"end"===r?e=i.top:yh(r)?e=i.getPixelForValue(r.value):i.getBasePixel&&(e=i.getBasePixel()),e);if(yf(n)){let t=i.isHorizontal();return{x:t?n:null,y:t?null:n}}return null}(e);return s instanceof xc?s:xf(s,n)}(e),{line:n,scale:s,axis:o}=e,a=n.options,l=a.fill,h=a.backgroundColor,{above:f=h,below:u=h}=l||{};r&&n.points.length&&(vk(t,i),function(t,e){let{line:i,target:r,above:n,below:s,area:o,scale:a}=e,l=i._loop?"angle":e.axis;t.save(),"x"===l&&s!==n&&(xp(t,r,o.top),xb(t,{line:i,target:r,color:n,scale:a,property:l}),t.restore(),t.save(),xp(t,r,o.bottom)),xb(t,{line:i,target:r,color:s,scale:a,property:l}),t.restore()}(t,{line:n,target:r,above:f,below:u,area:i,scale:s,axis:o}),vA(t))}function xp(t,e,i){let{segments:r,points:n}=e,s=!0,o=!1;for(let a of(t.beginPath(),r)){let{start:r,end:l}=a,h=n[r],f=n[xl(r,l,n)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,i),t.lineTo(h.x,h.y)),(o=!!e.pathSegment(t,a,{move:o}))?t.closePath():t.lineTo(f.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function xb(t,e){let{line:i,target:r,property:n,color:s,scale:o}=e;for(let{source:e,target:a,start:l,end:h}of function(t,e,i){let r=t.segments,n=t.points,s=e.points,o=[];for(let t of r){let{start:r,end:a}=t;a=xl(r,a,n);let l=xa(i,n[r],n[a],t.loop);if(!e.segments){o.push({source:t,target:l,start:n[r],end:n[a]});continue}for(let r of _p(e,l)){let e=xa(i,s[r.start],s[r.end],r.loop);for(let s of _d(t,n,e))o.push({source:s,target:r,start:{[i]:xh(l,e,"start",Math.max)},end:{[i]:xh(l,e,"end",Math.min)}})}}return o}(i,r,n)){let f,{style:{backgroundColor:u=s}={}}=e,c=!0!==r;t.save(),t.fillStyle=u,function(t,e,i){let{top:r,bottom:n}=e.chart.chartArea,{property:s,start:o,end:a}=i||{};"x"===s&&(t.beginPath(),t.rect(o,r,a-o,n-r),t.clip())}(t,o,c&&xa(n,l,h)),t.beginPath();let d=!!i.pathSegment(t,e);if(c){d?t.closePath():xg(t,r,h,n);let e=!!r.pathSegment(t,a,{move:d,reverse:!0});(f=d&&e)||xg(t,r,l,n)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function xg(t,e,i,r){let n=e.interpolate(i,r);n&&t.lineTo(n.x,n.y)}const xm=(t,e)=>{let{boxHeight:i=e,boxWidth:r=e}=t;return t.usePointStyle&&(i=Math.min(i,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:i,itemHeight:Math.max(e,i)}},xy=(t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class xv extends wu{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=yb(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(e=>t.filter(e,this.chart.data))),t.sort&&(e=e.sort((e,i)=>t.sort(e,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let t,e,{options:i,ctx:r}=this;if(!i.display){this.width=this.height=0;return}let n=i.labels,s=vU(n.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:h}=xm(n,o);r.font=s.string,this.isHorizontal()?(t=this.maxWidth,e=this._fitRows(a,o,l,h)+10):(e=this.maxHeight,t=this._fitCols(a,s,l,h)+10),this.width=Math.min(t,i.maxWidth||this.maxWidth),this.height=Math.min(e,i.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){let{ctx:n,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],h=r+o,f=t;n.textAlign="left",n.textBaseline="middle";let u=-1,c=-h;return this.legendItems.forEach((t,d)=>{let p=i+e/2+n.measureText(t.text).width;(0===d||l[l.length-1]+p+2*o>s)&&(f+=h,l[l.length-(d>0?0:1)]=0,c+=h,u++),a[d]={left:0,top:c,row:u,width:p,height:r},l[l.length-1]+=p+o}),f}_fitCols(t,e,i,r){let{ctx:n,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],h=s-t,f=o,u=0,c=0,d=0,p=0;return this.legendItems.forEach((t,s)=>{var b,g,m,y,v,_,w,x,S,E,k,A;let M,T,{itemWidth:I,itemHeight:P}=(b=i,g=e,m=n,y=t,v=r,{itemWidth:(_=y,w=b,x=g,S=m,(M=_.text)&&"string"!=typeof M&&(M=M.reduce((t,e)=>t.length>e.length?t:e)),w+x.size/2+S.measureText(M).width),itemHeight:(E=v,k=y,A=g.lineHeight,T=E,"string"!=typeof k.text&&(T=x_(k,A)),T)});s>0&&c+P+2*o>h&&(f+=u+o,l.push({width:u,height:c}),d+=u+o,p++,u=c=0),a[s]={left:d,top:c,col:p,width:I,height:P},u=Math.max(u,I),c+=P+o}),f+=u,l.push({width:u,height:c}),f}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:n}}=this,s=_l(n,this.left,this.width);if(this.isHorizontal()){let n=0,o=y9(i,this.left+r,this.right-this.lineWidths[n]);for(let a of e)n!==a.row&&(n=a.row,o=y9(i,this.left+r,this.right-this.lineWidths[n])),a.top+=this.top+t+r,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+r}else{let n=0,o=y9(i,this.top+t+r,this.bottom-this.columnSizes[n].height);for(let a of e)a.col!==n&&(n=a.col,o=y9(i,this.top+t+r,this.bottom-this.columnSizes[n].height)),a.top=o,a.left+=this.left+r,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){let t=this.ctx;vk(t,this),this._draw(),vA(t)}}_draw(){let t,{options:e,columnSizes:i,lineWidths:r,ctx:n}=this,{align:s,labels:o}=e,a=vy.color,l=_l(e.rtl,this.left,this.width),h=vU(o.font),{padding:f}=o,u=h.size,c=u/2;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=h.string;let{boxWidth:d,boxHeight:p,itemHeight:b}=xm(o,u),g=function(t,e,i){if(isNaN(d)||d<=0||isNaN(p)||p<0)return;n.save();let r=yc(i.lineWidth,1);if(n.fillStyle=yc(i.fillStyle,a),n.lineCap=yc(i.lineCap,"butt"),n.lineDashOffset=yc(i.lineDashOffset,0),n.lineJoin=yc(i.lineJoin,"miter"),n.lineWidth=r,n.strokeStyle=yc(i.strokeStyle,a),n.setLineDash(yc(i.lineDash,[])),o.usePointStyle){let s={radius:p*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:r};vS(n,s,l.xPlus(t,d/2),e+c,o.pointStyleWidth&&d)}else{let s=e+Math.max((u-p)/2,0),o=l.leftForLtr(t,d),a=vN(i.borderRadius);n.beginPath(),Object.values(a).some(t=>0!==t)?vP(n,{x:o,y:s,w:d,h:p,radius:a}):n.rect(o,s,d,p),n.fill(),0!==r&&n.stroke()}n.restore()},m=function(t,e,i){vI(n,i.text,t,e+b/2,h,{strikethrough:i.hidden,textAlign:l.textAlign(i.textAlign)})},y=this.isHorizontal(),v=this._computeTitleHeight();t=y?{x:y9(s,this.left+f,this.right-r[0]),y:this.top+f+v,line:0}:{x:this.left+f,y:y9(s,this.top+v+f,this.bottom-i[0].height),line:0},_h(this.ctx,e.textDirection);let _=b+f;this.legendItems.forEach((a,u)=>{n.strokeStyle=a.fontColor,n.fillStyle=a.fontColor;let p=n.measureText(a.text).width,b=l.textAlign(a.textAlign||(a.textAlign=o.textAlign)),w=d+c+p,x=t.x,S=t.y;if(l.setWidth(this.width),y?u>0&&x+w+f>this.right&&(S=t.y+=_,t.line++,x=t.x=y9(s,this.left+f,this.right-r[t.line])):u>0&&S+_>this.bottom&&(x=t.x=x+i[t.line].width+f,t.line++,S=t.y=y9(s,this.top+v+f,this.bottom-i[t.line].height)),g(l.x(x),S,a),x=y7(b,x+d+c,y?x+w:this.right,e.rtl),m(l.x(x),S,a),y)t.x+=w+f;else if("string"!=typeof a.text){let e=h.lineHeight;t.y+=x_(a,e)+f}else t.y+=_}),_f(this.ctx,e.textDirection)}drawTitle(){let t,e=this.options,i=e.title,r=vU(i.font),n=vD(i.padding);if(!i.display)return;let s=_l(e.rtl,this.left,this.width),o=this.ctx,a=i.position,l=r.size/2,h=n.top+l,f=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),t=this.top+h,f=y9(e.align,f,this.right-u);else{let i=this.columnSizes.reduce((t,e)=>Math.max(t,e.height),0);t=h+y9(e.align,this.top,this.bottom-i-e.labels.padding-this._computeTitleHeight())}let c=y9(a,f,f+u);o.textAlign=s.textAlign(y4(a)),o.textBaseline="middle",o.strokeStyle=i.color,o.fillStyle=i.color,o.font=r.string,vI(o,i.text,c,t,r)}_computeTitleHeight(){let t=this.options.title,e=vU(t.font),i=vD(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,n;if(yZ(t,this.left,this.right)&&yZ(e,this.top,this.bottom)){for(i=0,n=this.legendHitBoxes;i<n.length;++i)if(yZ(t,(r=n[i]).left,r.left+r.width)&&yZ(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){var e,i;let r=this.options;if(e=t.type,i=r,("mousemove"!==e&&"mouseout"!==e||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==e&&"mouseup"!==e))return;let n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){let e=this._hoveredItem,i=xy(e,n);e&&!i&&yb(r.onLeave,[t,e,this],this),this._hoveredItem=n,n&&!i&&yb(r.onHover,[t,n,this],this)}else n&&yb(r.onClick,[t,n,this],this)}}function x_(t,e){return e*(t.text?t.text.length:0)}class xw extends wu{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let r=yl(i.text)?i.text.length:1;this._padding=vD(i.padding);let n=r*vU(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){let t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){let e,i,r,{top:n,left:s,bottom:o,right:a,options:l}=this,h=l.align,f=0;return this.isHorizontal()?(i=y9(h,s,a),r=n+t,e=a-s):("left"===l.position?(i=s+t,r=y9(h,o,n),f=-.5*yP):(i=a-t,r=y9(h,n,o),f=.5*yP),e=o-n),{titleX:i,titleY:r,maxWidth:e,rotation:f}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=vU(e.font),r=i.lineHeight/2+this._padding.top,{titleX:n,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(r);vI(t,e.text,0,0,i,{color:e.color,maxWidth:o,rotation:a,textAlign:y4(e.align),textBaseline:"middle",translation:[n,s]})}}const xx=new WeakMap,xS={average(t){let e,i;if(!t.length)return!1;let r=new Set,n=0,s=0;for(e=0,i=t.length;e<i;++e){let i=t[e].element;if(i&&i.hasValue()){let t=i.tooltipPosition();r.add(t.x),n+=t.y,++s}}return 0!==s&&0!==r.size&&{x:[...r].reduce((t,e)=>t+e)/r.size,y:n/s}},nearest(t,e){let i,r,n;if(!t.length)return!1;let s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(i=0,r=t.length;i<r;++i){let r=t[i].element;if(r&&r.hasValue()){let t=yK(e,r.getCenterPoint());t<a&&(a=t,n=r)}}if(n){let t=n.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function xE(t,e){return e&&(yl(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function xk(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function xA(t,e){let i=t.chart.ctx,{body:r,footer:n,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=vU(e.bodyFont),h=vU(e.titleFont),f=vU(e.footerFont),u=s.length,c=n.length,d=r.length,p=vD(e.padding),b=p.height,g=0,m=r.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);m+=t.beforeBody.length+t.afterBody.length,u&&(b+=u*h.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),m&&(b+=d*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(m-d)*l.lineHeight+(m-1)*e.bodySpacing),c&&(b+=e.footerMarginTop+c*f.lineHeight+(c-1)*e.footerSpacing);let y=0,v=function(t){g=Math.max(g,i.measureText(t).width+y)};return i.save(),i.font=h.string,yg(t.title,v),i.font=l.string,yg(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?o+2+e.boxPadding:0,yg(r,t=>{yg(t.before,v),yg(t.lines,v),yg(t.after,v)}),y=0,i.font=f.string,yg(t.footer,v),i.restore(),{width:g+=p.width,height:b}}function xM(t,e,i){let r=i.yAlign||e.yAlign||function(t,e){let{y:i,height:r}=e;return i<r/2?"top":i>t.height-r/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||e.xAlign||function(t,e,i,r){let{x:n,width:s}=i,{width:o,chartArea:{left:a,right:l}}=t,h="center";return"center"===r?h=n<=(a+l)/2?"left":"right":n<=s/2?h="left":n>=o-s/2&&(h="right"),function(t,e,i,r){let{x:n,width:s}=r,o=i.caretSize+i.caretPadding;if("left"===t&&n+s+o>e.width||"right"===t&&n-s-o<0)return!0}(h,t,e,i)&&(h="center"),h}(t,e,i,r),yAlign:r}}function xT(t,e,i,r){let{caretSize:n,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=i,h=n+s,{topLeft:f,topRight:u,bottomLeft:c,bottomRight:d}=vN(o),p=function(t,e){let{x:i,width:r}=t;return"right"===e?i-=r:"center"===e&&(i-=r/2),i}(e,a),b=function(t,e,i){let{y:r,height:n}=t;return"top"===e?r+=i:"bottom"===e?r-=n+i:r-=n/2,r}(e,l,h);return"center"===l?"left"===a?p+=h:"right"===a&&(p-=h):"left"===a?p-=Math.max(f,c)+n:"right"===a&&(p+=Math.max(u,d)+n),{x:yY(p,0,r.width-e.width),y:yY(b,0,r.height-e.height)}}function xI(t,e,i){let r=vD(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function xP(t,e){let i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const xO={beforeTitle:ys,title(t){if(t.length>0){let e=t[0],i=e.chart.data.labels,r=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return i[e.dataIndex]}return""},afterTitle:ys,beforeBody:ys,beforeLabel:ys,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let i=t.formattedValue;return ya(i)||(e+=i),e},labelColor(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ys,afterBody:ys,beforeFooter:ys,footer:ys,afterFooter:ys};function xB(t,e,i,r){let n=t[e].call(i,r);return void 0===n?xO[e].call(i,r):n}class xC extends wu{static positioners=xS;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,n=new _w(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=vj(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(t,e){let{callbacks:i}=e,r=xB(i,"beforeTitle",this,t),n=xB(i,"title",this,t),s=xB(i,"afterTitle",this,t),o=[];return o=xE(o,xk(r)),o=xE(o,xk(n)),o=xE(o,xk(s))}getBeforeBody(t,e){return xE([],xk(xB(e.callbacks,"beforeBody",this,t)))}getBody(t,e){let{callbacks:i}=e,r=[];return yg(t,t=>{let e={before:[],lines:[],after:[]},n=xP(i,t);xE(e.before,xk(xB(n,"beforeLabel",this,t))),xE(e.lines,xB(n,"label",this,t)),xE(e.after,xk(xB(n,"afterLabel",this,t))),r.push(e)}),r}getAfterBody(t,e){return xE([],xk(xB(e.callbacks,"afterBody",this,t)))}getFooter(t,e){let{callbacks:i}=e,r=xB(i,"beforeFooter",this,t),n=xB(i,"footer",this,t),s=xB(i,"afterFooter",this,t),o=[];return o=xE(o,xk(r)),o=xE(o,xk(n)),o=xE(o,xk(s))}_createItems(t){let e,i,r=this._active,n=this.chart.data,s=[],o=[],a=[],l=[];for(e=0,i=r.length;e<i;++e)l.push(function(t,e){let{element:i,datasetIndex:r,index:n}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(n);return{chart:t,label:o,parsed:s.getParsed(n),raw:t.data.datasets[r].data[n],formattedValue:a,dataset:s.getDataset(),dataIndex:n,datasetIndex:r,element:i}}(this.chart,r[e]));return t.filter&&(l=l.filter((e,i,r)=>t.filter(e,i,r,n))),t.itemSort&&(l=l.sort((e,i)=>t.itemSort(e,i,n))),yg(l,e=>{let i=xP(t.callbacks,e);s.push(xB(i,"labelColor",this,e)),o.push(xB(i,"labelPointStyle",this,e)),a.push(xB(i,"labelTextColor",this,e))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(t,e){let i,r=this.options.setContext(this.getContext()),n=this._active,s=[];if(n.length){let t=xS[r.position].call(this,n,this._eventPosition);s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r);let e=this._size=xA(this,r),o=Object.assign({},t,e),a=xM(this.chart,r,o),l=xT(r,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){let n=this.getCaretPosition(t,i,r);e.lineTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineTo(n.x3,n.y3)}getCaretPosition(t,e,i){let r,n,s,o,a,l,{xAlign:h,yAlign:f}=this,{caretSize:u,cornerRadius:c}=i,{topLeft:d,topRight:p,bottomLeft:b,bottomRight:g}=vN(c),{x:m,y:y}=t,{width:v,height:_}=e;return"center"===f?(a=y+_/2,"left"===h?(n=(r=m)-u,o=a+u,l=a-u):(n=(r=m+v)+u,o=a-u,l=a+u),s=r):(n="left"===h?m+Math.max(d,b)+u:"right"===h?m+v-Math.max(p,g)-u:this.caretX,"top"===f?(a=(o=y)-u,r=n-u,s=n+u):(a=(o=y+_)+u,r=n+u,s=n-u),l=o),{x1:r,x2:n,x3:s,y1:o,y2:a,y3:l}}drawTitle(t,e,i){let r,n,s,o=this.title,a=o.length;if(a){let l=_l(i.rtl,this.x,this.width);for(s=0,t.x=xI(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",r=vU(i.titleFont),n=i.titleSpacing,e.fillStyle=i.titleColor,e.font=r.string;s<a;++s)e.fillText(o[s],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n,s+1===a&&(t.y+=i.titleMarginBottom-n)}}_drawColorBox(t,e,i,r,n){let s=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:a,boxWidth:l}=n,h=vU(n.bodyFont),f=xI(this,"left",n),u=r.x(f),c=a<h.lineHeight?(h.lineHeight-a)/2:0,d=e.y+c;if(n.usePointStyle){let e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},i=r.leftForLtr(u,l)+l/2,h=d+a/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,vx(t,e,i,h),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,vx(t,e,i,h)}else{t.lineWidth=yh(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;let e=r.leftForLtr(u,l),i=r.leftForLtr(r.xPlus(u,1),l-2),o=vN(s.borderRadius);Object.values(o).some(t=>0!==t)?(t.beginPath(),t.fillStyle=n.multiKeyBackground,vP(t,{x:e,y:d,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),vP(t,{x:i,y:d+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(e,d,l,a),t.strokeRect(e,d,l,a),t.fillStyle=s.backgroundColor,t.fillRect(i,d+1,l-2,a-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){let r,n,s,o,a,l,{body:h}=this,{bodySpacing:f,bodyAlign:u,displayColors:c,boxHeight:d,boxWidth:p,boxPadding:b}=i,g=vU(i.bodyFont),m=g.lineHeight,y=0,v=_l(i.rtl,this.x,this.width),_=function(i){e.fillText(i,v.x(t.x+y),t.y+m/2),t.y+=m+f},w=v.textAlign(u);for(e.textAlign=u,e.textBaseline="middle",e.font=g.string,t.x=xI(this,w,i),e.fillStyle=i.bodyColor,yg(this.beforeBody,_),y=c&&"right"!==w?"center"===u?p/2+b:p+2+b:0,s=0,a=h.length;s<a;++s){for(r=h[s],e.fillStyle=this.labelTextColors[s],yg(r.before,_),n=r.lines,c&&n.length&&(this._drawColorBox(e,t,s,v,i),m=Math.max(g.lineHeight,d)),o=0,l=n.length;o<l;++o)_(n[o]),m=g.lineHeight;yg(r.after,_)}y=0,m=g.lineHeight,yg(this.afterBody,_),t.y-=f}drawFooter(t,e,i){let r,n,s=this.footer,o=s.length;if(o){let a=_l(i.rtl,this.x,this.width);for(t.x=xI(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=a.textAlign(i.footerAlign),e.textBaseline="middle",r=vU(i.footerFont),e.fillStyle=i.footerColor,e.font=r.string,n=0;n<o;++n)e.fillText(s[n],a.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){let{xAlign:n,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:h}=i,{topLeft:f,topRight:u,bottomLeft:c,bottomRight:d}=vN(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(o+f,a),"top"===s&&this.drawCaret(t,e,i,r),e.lineTo(o+l-u,a),e.quadraticCurveTo(o+l,a,o+l,a+u),"center"===s&&"right"===n&&this.drawCaret(t,e,i,r),e.lineTo(o+l,a+h-d),e.quadraticCurveTo(o+l,a+h,o+l-d,a+h),"bottom"===s&&this.drawCaret(t,e,i,r),e.lineTo(o+c,a+h),e.quadraticCurveTo(o,a+h,o,a+h-c),"center"===s&&"left"===n&&this.drawCaret(t,e,i,r),e.lineTo(o,a+f),e.quadraticCurveTo(o,a,o+f,a),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,i=this.$animations,r=i&&i.x,n=i&&i.y;if(r||n){let i=xS[t.position].call(this,this._active,this._eventPosition);if(!i)return;let s=this._size=xA(this,t),o=Object.assign({},i,this._size),a=xM(e,t,o),l=xT(t,o,a,e);(r._to!==l.x||n._to!==l.y)&&(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(e);let r={width:this.width,height:this.height},n={x:this.x,y:this.y};i=.001>Math.abs(i)?0:i;let s=vD(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=i,this.drawBackground(n,t,r,e),_h(t,e.textDirection),n.y+=s.top,this.drawTitle(n,t,e),this.drawBody(n,t,e),this.drawFooter(n,t,e),_f(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let i=this._active,r=t.map(({datasetIndex:t,index:e})=>{let i=this.chart.getDatasetMeta(t);if(!i)throw Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}),n=!ym(i,r),s=this._positionChanged(r,e);(n||s)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,n=this._active||[],s=this._getActiveElements(t,n,e,i),o=this._positionChanged(s,t),a=e||!ym(s,n)||o;return a&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,i,r){let n=this.options;if("mouseout"===t.type)return[];if(!r)return e.filter(t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index));let s=this.chart.getElementsAtEventForMode(t,n.mode,n,i);return n.reverse&&s.reverse(),s}_positionChanged(t,e){let{caretX:i,caretY:r,options:n}=this,s=xS[n.position].call(this,t,e);return!1!==s&&(i!==s.x||r!==s.y)}}var xR=Object.freeze({__proto__:null,Colors:{id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){let r;if(!i.enabled)return;let{data:{datasets:n},options:s}=t.config,{elements:o}=s,a=xn(n)||s&&(s.borderColor||s.backgroundColor)||o&&xn(o)||"rgba(0,0,0,0.1)"!==vy.borderColor||"rgba(0,0,0,0.1)"!==vy.backgroundColor;if(!i.forceOverride&&a)return;let l=(r=0,(e,i)=>{var n,s,o;let a=t.getDatasetMeta(i).controller;a instanceof _H?(n=r,e.backgroundColor=e.data.map(()=>xi(n++)),r=n):a instanceof _j?(s=r,e.backgroundColor=e.data.map(()=>xr(s++)),r=s):a&&(e.borderColor=xi(o=r),e.backgroundColor=xr(o),r=++o)});n.forEach(l)}},Decimation:{id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled){xo(t);return}let r=t.width;t.data.datasets.forEach((e,n)=>{let s,{_data:o,indexAxis:a}=e,l=t.getDatasetMeta(n),h=o||e.data;if("y"===vH([a,t.options.indexAxis])||!l.controller.supportsDecimation)return;let f=t.scales[l.xAxisID];if("linear"!==f.type&&"time"!==f.type||t.options.parsing)return;let{start:u,count:c}=function(t,e){let i,r=e.length,n=0,{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:h}=s.getUserBounds();return l&&(n=yY(y0(e,s.axis,o).lo,0,r-1)),i=h?yY(y0(e,s.axis,a).hi+1,n,r)-n:r-n,{start:n,count:i}}(l,h);if(c<=(i.threshold||4*r)){xs(e);return}switch(ya(o)&&(e._data=h,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case"lttb":s=function(t,e,i,r,n){let s,o,a,l,h,f=n.samples||r;if(f>=i)return t.slice(e,e+i);let u=[],c=(i-2)/(f-2),d=0,p=e+i-1,b=e;for(s=0,u[d++]=t[b];s<f-2;s++){let r,n=0,f=0,p=Math.floor((s+1)*c)+1+e,g=Math.min(Math.floor((s+2)*c)+1,i)+e,m=g-p;for(r=p;r<g;r++)n+=t[r].x,f+=t[r].y;n/=m,f/=m;let y=Math.floor(s*c)+1+e,v=Math.min(Math.floor((s+1)*c)+1,i)+e,{x:_,y:w}=t[b];for(a=l=-1,r=y;r<v;r++)(l=.5*Math.abs((_-n)*(t[r].y-w)-(_-t[r].x)*(f-w)))>a&&(a=l,o=t[r],h=r);u[d++]=o,b=h}return u[d++]=t[p],u}(h,u,c,r,i);break;case"min-max":s=function(t,e,i,r){let n,s,o,a,l,h,f,u,c,d,p=0,b=0,g=[],m=t[e].x,y=t[e+i-1].x-m;for(n=e;n<e+i;++n){o=((s=t[n]).x-m)/y*r,a=s.y;let e=0|o;if(e===l)a<c?(c=a,h=n):a>d&&(d=a,f=n),p=(b*p+s.x)/++b;else{let i=n-1;if(!ya(h)&&!ya(f)){let e=Math.min(h,f),r=Math.max(h,f);e!==u&&e!==i&&g.push({...t[e],x:p}),r!==u&&r!==i&&g.push({...t[r],x:p})}n>0&&i!==u&&g.push(t[i]),g.push(s),l=e,b=0,c=d=a,h=f=u=n}}return g}(h,u,c,r);break;default:throw Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=s})},destroy(t){xo(t)}},Filler:{id:"filler",afterDatasetsUpdate(t,e,i){let r,n,s,o,a=(t.data.datasets||[]).length,l=[];for(n=0;n<a;++n)s=(r=t.getDatasetMeta(n)).dataset,o=null,s&&s.options&&s instanceof w2&&(o={visible:t.isDatasetVisible(n),index:n,fill:function(t,e,i){var r,n,s,o;let a=function(t){let e=t.options,i=e.fill,r=yc(i&&i.target,i);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(t);if(yh(a))return!isNaN(a.value)&&a;let l=parseFloat(a);return yf(l)&&Math.floor(l)===l?(r=a[0],n=e,s=l,o=i,("-"===r||"+"===r)&&(s=n+s),s!==n&&!(s<0)&&!(s>=o)&&s):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}(s,n,a),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:s}),r.$filler=o,l.push(o);for(n=0;n<a;++n)(o=l[n])&&!1!==o.fill&&(o.fill=function(t,e,i){let r,n=t[e].fill,s=[e];if(!i)return n;for(;!1!==n&&-1===s.indexOf(n);){if(!yf(n))return n;if(!(r=t[n]))break;if(r.visible)return n;s.push(n),n=r.fill}return!1}(l,n,i.propagate))},beforeDraw(t,e,i){let r="beforeDraw"===i.drawTime,n=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let e=n.length-1;e>=0;--e){let i=n[e].$filler;i&&(i.line.updateControlPoints(s,i.axis),r&&i.fill&&xd(t.ctx,i,s))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;let r=t.getSortedVisibleDatasetMetas();for(let e=r.length-1;e>=0;--e){let i=r[e].$filler;xu(i)&&xd(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,i){let r=e.meta.$filler;xu(r)&&"beforeDatasetDraw"===i.drawTime&&xd(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Legend:{id:"legend",_element:xv,start(t,e,i){let r=t.legend=new xv({ctx:t.ctx,options:i,chart:t});_6.configure(t,r,i),_6.addBox(t,r)},stop(t){_6.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){let r=t.legend;_6.configure(t,r,i),r.options=i},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){let r=e.datasetIndex,n=i.chart;n.isDatasetVisible(r)?(n.hide(r),e.hidden=!0):(n.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:r,textAlign:n,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(t=>{let l=t.controller.getStyle(i?0:void 0),h=vD(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:n||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},SubTitle:{id:"subtitle",start(t,e,i){let r=new xw({ctx:t.ctx,options:i,chart:t});_6.configure(t,r,i),_6.addBox(t,r),xx.set(t,r)},stop(t){_6.removeBox(t,xx.get(t)),xx.delete(t)},beforeUpdate(t,e,i){let r=xx.get(t);_6.configure(t,r,i),r.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Title:{id:"title",_element:xw,start(t,e,i){!function(t,e){let i=new xw({ctx:t.ctx,options:e,chart:t});_6.configure(t,i,e),_6.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){let e=t.titleBlock;_6.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){let r=t.titleBlock;_6.configure(t,r,i),r.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Tooltip:{id:"tooltip",_element:xC,positioners:xS,afterInit(t,e,i){i&&(t.tooltip=new xC({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){let i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});const xL=(t,e,i,r)=>("string"==typeof e?(i=t.push(e)-1,r.unshift({index:i,label:e})):isNaN(e)&&(i=null),i),xN=(t,e)=>null===t?null:yY(Math.round(t),0,e);function xD(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function xU(t,e,{horizontal:i,minRotation:r}){let n=yz(r),s=(i?Math.sin(n):Math.cos(n))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class xH extends wv{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ya(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:r,max:n}=this,s=t=>r=e?r:t,o=t=>n=i?n:t;if(t){let t=yH(r),e=yH(n);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(r===n){let e=0===n?1:Math.abs(.05*n);o(n+e),t||s(r-e)}this.min=r,this.max=n}getTickLimit(){let t,{maxTicksLimit:e,stepSize:i}=this.options.ticks;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3):(t=this.computeTickLimit(),e=e||11),e&&(t=Math.min(e,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit(),r=function(t,e){let i,r,n,s,o=[],{bounds:a,step:l,min:h,max:f,precision:u,count:c,maxTicks:d,maxDigits:p,includeBounds:b}=t,g=l||1,m=d-1,{min:y,max:v}=e,_=!ya(h),w=!ya(f),x=!ya(c),S=(v-y)/(p+1),E=yF((v-y)/m/g)*g;if(E<1e-14&&!_&&!w)return[{value:y},{value:v}];(s=Math.ceil(v/E)-Math.floor(y/E))>m&&(E=yF(s*E/m/g)*g),ya(u)||(E=Math.ceil(E*(i=Math.pow(10,u)))/i),"ticks"===a?(r=Math.floor(y/E)*E,n=Math.ceil(v/E)*E):(r=y,n=v),_&&w&&l&&function(t,e){let i=Math.round(t);return i-e<=t&&i+e>=t}((f-h)/l,E/1e3)?(s=Math.round(Math.min((f-h)/E,d)),E=(f-h)/s,r=h,n=f):x?(r=_?h:r,E=((n=w?f:n)-r)/(s=c-1)):s=yj(s=(n-r)/E,Math.round(s),E/1e3)?Math.round(s):Math.ceil(s);let k=Math.max(yV(E),yV(r));r=Math.round(r*(i=Math.pow(10,ya(u)?k:u)))/i,n=Math.round(n*i)/i;let A=0;for(_&&(b&&r!==h?(o.push({value:h}),r<h&&A++,yj(Math.round((r+A*E)*i)/i,h,xU(h,S,t))&&A++):r<h&&A++);A<s;++A){let t=Math.round((r+A*E)*i)/i;if(w&&t>f)break;o.push({value:t})}return w&&b&&n!==f?o.length&&yj(o[o.length-1].value,f,xU(f,S,t))?o[o.length-1].value=f:o.push({value:f}):w&&n!==f||o.push({value:n}),o}({maxTicks:i=Math.max(2,i),bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&y$(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return vc(t,this.chart.options.locale,this.options.ticks.format)}}class xj extends xH{static id="linear";static defaults={ticks:{callback:vd.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=yf(t)?t:0,this.max=yf(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=yz(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001;return Math.ceil(e/Math.min(40,this._resolveTickFontOptions(0).lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const xF=t=>Math.floor(yU(t)),xq=(t,e)=>Math.pow(10,xF(t)+e);function x$(t){return 1==t/Math.pow(10,xF(t))}function xz(t,e,i){let r=Math.pow(10,i),n=Math.floor(t/r);return Math.ceil(e/r)-n}class xV extends wv{static id="logarithmic";static defaults={ticks:{callback:vd.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=xH.prototype.parse.apply(this,[t,e]);if(0===i){this._zero=!0;return}return yf(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=yf(t)?Math.max(0,t):null,this.max=yf(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!yf(this._userMin)&&(this.min=t===xq(this.min,0)?xq(this.min,-1):xq(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,r=this.max,n=e=>i=t?i:e,s=t=>r=e?r:t;i===r&&(i<=0?(n(1),s(10)):(n(xq(i,-1)),s(xq(r,1)))),i<=0&&n(xq(r,-1)),r<=0&&s(xq(i,1)),this.min=i,this.max=r}buildTicks(){let t=this.options,e=function(t,{min:e,max:i}){e=yu(t.min,e);let r=[],n=xF(e),s=function(t,e){let i=xF(e-t);for(;xz(t,e,i)>10;)i++;for(;10>xz(t,e,i);)i--;return Math.min(i,xF(t))}(e,i),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),l=n>s?Math.pow(10,n):0,h=Math.round((e-l)*o)/o,f=Math.floor((e-l)/a/10)*a*10,u=Math.floor((h-f)/Math.pow(10,s)),c=yu(t.min,Math.round((l+f+u*Math.pow(10,s))*o)/o);for(;c<i;)r.push({value:c,major:x$(c),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(u=2,o=++s>=0?1:o),c=Math.round((l+f+u*Math.pow(10,s))*o)/o;let d=yu(t.max,c);return r.push({value:d,major:x$(d),significand:u}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&y$(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":vc(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=yU(t),this._valueRange=yU(this.max)-yU(t)}getPixelForValue(t){return((void 0===t||0===t)&&(t=this.min),null===t||isNaN(t))?NaN:this.getPixelForDecimal(t===this.min?0:(yU(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function xW(t){let e=t.ticks;if(e.display&&t.display){let t=vD(e.backdropPadding);return yc(e.font&&e.font.size,vy.font.size)+t.height}return 0}function xK(t,e,i,r,n){return t===r||t===n?{start:e-i/2,end:e+i/2}:t<r||t>n?{start:e-i,end:e}:{start:e,end:e+i}}function xQ(t,e,i,r){let{ctx:n}=t;if(i)n.arc(t.xCenter,t.yCenter,e,0,yO);else{let i=t.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let s=1;s<r;s++)i=t.getPointPosition(s,e),n.lineTo(i.x,i.y)}}class xG extends xH{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:vd.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=vD(xW(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=yf(t)&&!isNaN(t)?t:0,this.max=yf(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xW(this.options))}generateTickLabels(t){xH.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((t,e)=>{let i=yb(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){let t=this.options;t.display&&t.pointLabels.display?function(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),r=[],n=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?yP/s:0;for(let f=0;f<s;f++){var l,h;let s=o.setContext(t.getPointLabelContext(f));n[f]=s.padding;let u=t.getPointPosition(f,t.drawingArea+n[f],a),c=vU(s.font),d=(l=t.ctx,h=yl(h=t._pointLabels[f])?h:[h],{w:function(t,e,i,r){let n,s,o,a,l,h=(r=r||{}).data=r.data||{},f=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(h=r.data={},f=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let u=0,c=i.length;for(n=0;n<c;n++)if(null==(a=i[n])||yl(a)){if(yl(a))for(s=0,o=a.length;s<o;s++)null==(l=a[s])||yl(l)||(u=vv(t,h,f,u,l))}else u=vv(t,h,f,u,a);t.restore();let d=f.length/2;if(d>i.length){for(n=0;n<d;n++)delete h[f[n]];f.splice(0,d)}return u}(l,c.string,h),h:h.length*c.lineHeight});r[f]=d;let p=yG(t.getIndexAngle(f)+a),b=Math.round(180/yP*p);!function(t,e,i,r,n){let s=Math.abs(Math.sin(i)),o=Math.abs(Math.cos(i)),a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),n.start<e.t?(l=(e.t-n.start)/o,t.t=Math.min(t.t,e.t-l)):n.end>e.b&&(l=(n.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}(i,e,p,xK(b,u.x,d.w,0,180),xK(b,u.y,d.h,90,270))}t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){let r,n=[],s=t._pointLabels.length,o=t.options,{centerPointLabels:a,display:l}=o.pointLabels,h={extra:xW(o)/2,additionalAngle:a?yP/s:0};for(let o=0;o<s;o++){h.padding=i[o],h.size=e[o];let s=function(t,e,i){var r,n,s,o,a,l,h;let f=t.drawingArea,{extra:u,additionalAngle:c,padding:d,size:p}=i,b=t.getPointPosition(e,f+u+d,c),g=Math.round(180/yP*yG(b.angle+yL)),m=(r=b.y,n=p.h,90===(s=g)||270===s?r-=n/2:(s>270||s<90)&&(r-=n),r),y=0===(o=g)||180===o?"center":o<180?"left":"right",v=(a=b.x,l=p.w,"right"===(h=y)?a-=l:"center"===h&&(a-=l/2),a);return{visible:!0,x:b.x,y:m,textAlign:y,left:v,top:m,right:v+p.w,bottom:m+p.h}}(t,o,h);n.push(s),"auto"===l&&(s.visible=function(t,e){if(!e)return!0;let{left:i,top:r,right:n,bottom:s}=t;return!(vE({x:i,y:r},e)||vE({x:i,y:s},e)||vE({x:n,y:r},e)||vE({x:n,y:s},e))}(s,r),s.visible&&(r=s))}return n}(t,r,n)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return yG(t*(yO/(this._pointLabels.length||1))+yz(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(ya(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(ya(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return vj(this.getContext(),{label:i,index:t,type:"pointLabel"})}}getPointPosition(t,e,i=0){let r=this.getIndexAngle(t)-yL+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:r,bottom:n}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:n}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),xQ(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t,e,i,r=this.ctx,n=this.options,{angleLines:s,grid:o,border:a}=n,l=this._pointLabels.length;if(n.pointLabels.display&&function(t,e){let{ctx:i,options:{pointLabels:r}}=t;for(let n=e-1;n>=0;n--){let e=t._pointLabelItems[n];if(!e.visible)continue;let s=r.setContext(t.getPointLabelContext(n));!function(t,e,i){let{left:r,top:n,right:s,bottom:o}=i,{backdropColor:a}=e;if(!ya(a)){let i=vN(e.borderRadius),l=vD(e.backdropPadding);t.fillStyle=a;let h=r-l.left,f=n-l.top,u=s-r+l.width,c=o-n+l.height;Object.values(i).some(t=>0!==t)?(t.beginPath(),vP(t,{x:h,y:f,w:u,h:c,radius:i}),t.fill()):t.fillRect(h,f,u,c)}}(i,s,e);let o=vU(s.font),{x:a,y:l,textAlign:h}=e;vI(i,t._pointLabels[n],a,l+o.lineHeight/2,o,{color:s.color,textAlign:h,textBaseline:"middle"})}}(this,l),o.display&&this.ticks.forEach((t,i)=>{if(0!==i||0===i&&this.min<0){e=this.getDistanceFromCenterForValue(t.value);let r=this.getContext(i),n=o.setContext(r),s=a.setContext(r);!function(t,e,i,r,n){let s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;(o||r)&&a&&l&&!(i<0)&&(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(n.dash||[]),s.lineDashOffset=n.dashOffset,s.beginPath(),xQ(t,i,o,r),s.closePath(),s.stroke(),s.restore())}(this,n,e,l,s)}}),s.display){for(r.save(),t=l-1;t>=0;t--){let o=s.setContext(this.getPointLabelContext(t)),{color:a,lineWidth:l}=o;l&&a&&(r.lineWidth=l,r.strokeStyle=a,r.setLineDash(o.borderDash),r.lineDashOffset=o.borderDashOffset,e=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),i=this.getPointPosition(t,e),r.beginPath(),r.moveTo(this.xCenter,this.yCenter),r.lineTo(i.x,i.y),r.stroke())}r.restore()}}drawBorder(){}drawLabels(){let t,e,i=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;let s=this.getIndexAngle(0);i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(s),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((s,o)=>{if(0===o&&this.min>=0&&!r.reverse)return;let a=n.setContext(this.getContext(o)),l=vU(a.font);if(t=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){i.font=l.string,e=i.measureText(s.label).width,i.fillStyle=a.backdropColor;let r=vD(a.backdropPadding);i.fillRect(-e/2-r.left,-t-l.size/2-r.top,e+r.width,l.size+r.height)}vI(i,s.label,0,-t,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})}),i.restore()}drawTitle(){}}const xX={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xY=Object.keys(xX);function xZ(t,e){return t-e}function xJ(t,e){if(ya(e))return null;let i=t._adapter,{parser:r,round:n,isoWeekday:s}=t._parseOpts,o=e;return("function"==typeof r&&(o=r(o)),yf(o)||(o="string"==typeof r?i.parse(o,r):i.parse(o)),null===o)?null:(n&&(o="week"===n&&(yq(s)||!0===s)?i.startOf(o,"isoWeek",s):i.startOf(o,n)),+o)}function x0(t,e,i,r){let n=xY.length;for(let s=xY.indexOf(t);s<n-1;++s){let t=xX[xY[s]],n=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(n*t.size))<=r)return xY[s]}return xY[n-1]}function x1(t,e,i){if(i){if(i.length){let{lo:r,hi:n}=yJ(i,e);t[i[r]>=e?i[r]:i[n]]=!0}}else t[e]=!0}function x2(t,e,i){let r,n,s=[],o={},a=e.length;for(r=0;r<a;++r)o[n=e[r]]=r,s.push({value:n,major:!1});return 0!==a&&i?function(t,e,i,r){let n,s,o=t._adapter,a=+o.startOf(e[0].value,r),l=e[e.length-1].value;for(n=a;n<=l;n=+o.add(n,1,r))(s=i[n])>=0&&(e[s].major=!0);return e}(t,s,o,i):s}class x3 extends wv{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let i=t.time||(t.time={}),r=this._adapter=new _$(t.adapters.date);r.init(e),yx(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:xJ(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,i=t.time.unit||"day",{min:r,max:n,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(r=Math.min(r,t.min)),o||isNaN(t.max)||(n=Math.max(n,t.max))}s&&o||(a(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&a(this.getMinMax(!1))),r=yf(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),n=yf(n)&&!isNaN(n)?n:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,n-1),this.max=Math.max(r+1,n)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){let t=this.options,e=t.time,i=t.ticks,r="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let n=this.min,s=function(t,e,i){let r=0,n=t.length;for(;r<n&&t[r]<e;)r++;for(;n>r&&t[n-1]>i;)n--;return r>0||n<t.length?t.slice(r,n):t}(r,n,this.max);return this._unit=e.unit||(i.autoSkip?x0(e.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(t,e,i,r,n){for(let s=xY.length-1;s>=xY.indexOf(i);s--){let i=xY[s];if(xX[i].common&&t._adapter.diff(n,r,i)>=e-1)return i}return xY[i?xY.indexOf(i):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(let e=xY.indexOf(t)+1,i=xY.length;e<i;++e)if(xX[xY[e]].common)return xY[e]}(this._unit):void 0,this.initOffsets(r),t.reverse&&s.reverse(),x2(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e,i,r=0,n=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),r=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),n=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);let s=t.length<3?.5:.25;r=yY(r,0,s),n=yY(n,0,s),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){let t,e,i=this._adapter,r=this.min,n=this.max,s=this.options,o=s.time,a=o.unit||x0(o.minUnit,r,n,this._getLabelCapacity(r)),l=yc(s.ticks.stepSize,1),h="week"===a&&o.isoWeekday,f=yq(h)||!0===h,u={},c=r;if(f&&(c=+i.startOf(c,"isoWeek",h)),c=+i.startOf(c,f?"day":a),i.diff(n,r,a)>1e5*l)throw Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+a);let d="data"===s.ticks.source&&this.getDataTimestamps();for(t=c,e=0;t<n;t=+i.add(t,l,a),e++)x1(u,t,d);return(t===n||"ticks"===s.bounds||1===e)&&x1(u,t,d),Object.keys(u).sort(xZ).map(t=>+t)}getLabelForValue(t){let e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){let i=this.options.time.displayFormats,r=this._unit,n=e||i[r];return this._adapter.format(t,n)}_tickFormatFunction(t,e,i,r){let n=this.options,s=n.ticks.callback;if(s)return yb(s,[t,e,i],this);let o=n.time.displayFormats,a=this._unit,l=this._majorUnit,h=a&&o[a],f=l&&o[l],u=i[e],c=l&&f&&u&&u.major;return this._adapter.format(t,r||(c?f:h))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)(r=t[e]).label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,i=this.ctx.measureText(t).width,r=yz(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:i*n+o*s,h:i*s+o*n}}_getLabelCapacity(t){let e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,n=this._tickFormatFunction(t,0,x2(this,[t],this._majorUnit),r),s=this._getLabelSize(n),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)i=i.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let t,e,i=this._cache.labels||[];if(i.length)return i;let r=this.getLabels();for(t=0,e=r.length;t<e;++t)i.push(xJ(this,r[t]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(t){return y6(t.sort(xZ))}}function x6(t,e,i){let r,n,s,o,a=0,l=t.length-1;i?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=y0(t,"pos",e)),{pos:r,time:s}=t[a],{pos:n,time:o}=t[l]):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=y0(t,"time",e)),{time:r,pos:s}=t[a],{time:n,pos:o}=t[l]);let h=n-r;return h?s+(o-s)*(e-r)/h:s}class x5 extends x3{static id="timeseries";static defaults=x3.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=x6(e,this.min),this._tableRange=x6(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let e,i,r,{min:n,max:s}=this,o=[],a=[];for(e=0,i=t.length;e<i;++e)(r=t[e])>=n&&r<=s&&o.push(r);if(o.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(e=0,i=o.length;e<i;++e)Math.round((o[e+1]+o[e-1])/2)!==(r=o[e])&&a.push({time:r,pos:e/(i-1)});return a}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort((t,e)=>t-e)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t}getDecimalForValue(t){return(x6(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return x6(this._table,i*this._tableRange+this._minPos,!0)}}var x8=Object.freeze({__proto__:null,CategoryScale:class extends wv{static id="category";static defaults={ticks:{callback:xD}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let e=this._addedLabels;if(e.length){let t=this.getLabels();for(let{index:i,label:r}of e)t[i]===r&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ya(t))return null;let i=this.getLabels();return xN(e=isFinite(e)&&i[e]===t?e:function(t,e,i,r){let n=t.indexOf(e);return -1===n?xL(t,e,i,r):n!==t.lastIndexOf(e)?i:n}(i,t,yc(e,t),this._addedLabels),i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:i,max:r}=this.getMinMax(!0);"ticks"!==this.options.bounds||(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){let t=this.min,e=this.max,i=this.options.offset,r=[],n=this.getLabels();n=0===t&&e===n.length-1?n:n.slice(t,e+1),this._valueRange=Math.max(n.length-+!i,1),this._startValue=this.min-.5*!!i;for(let i=t;i<=e;i++)r.push({value:i});return r}getLabelForValue(t){return xD.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:xj,LogarithmicScale:xV,RadialLinearScale:xG,TimeScale:x3,TimeSeriesScale:x5});wV.register(_F,w7,xR,x8),customElements.define("swap-shell",class extends oN{static properties={_chart:Object,_mintUrl:String,_mint:Object,_wallet:Object,_tradesView:String,_quotes:Array,_tradesData:Array,_intervalId:Number,_proofs:Array,_amountAsk:Number,_amountSat:Number,_lnaddress:String,_mintQuote:Object,_mintQuoteRequest:Object,_mintQuoteRequestDataUrl:String,_meltQuote:Object};constructor(){super(),this._chart=null,this._mintUrl="https://stablenut.cashu.network",this._mint=new h6(this._mintUrl),this._wallet=new h7(this._mint,{unit:"usd"}),this._tradesView="trades",this._intervalId=0,this._quotes=[],this._tradesData=[],this._proofs=[],this._amountAsk=0,this._amountSat=0,this._lnaddress="",this._mintQuote=null,this._mintQuoteRequest=null,this._mintQuoteRequestDataUrl=null,this._meltQuote=null}_renderTrade=()=>{let t=0;this._proofs.forEach(e=>t+=e.amount);let e=this._mintQuoteRequest?.timeExpireDate-Math.floor(Date.now()/1e3);if(!this._mintQuote)return oy`
        <p class="text-center">We need quotes to start trading</p>
        <hr>
        <div class="mb-3">
            <label class="form-label">Balance</label>
            <div class="input-group mb-3">
                <input type="number" class="form-control" value="${t}" disabled>
                <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Options</button>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="#" @click="${this._onReceiveClick}">Receive</a></li>
                    <li><a class="dropdown-item" href="#" @click="${this._onSendClick}">Send</a></li>
                </ul>
            </div>
        </div>`;let i=this._meltQuote?.amount??0+this._meltQuote?.fee_reserve??0;return oy`
        ${this._mintQuoteRequestDataUrl?oy`
            <img src="${this._mintQuoteRequestDataUrl}" class="img-fluid mb-1" alt="...">
            <div class="text-center">Pay ${this._mintQuoteRequest.satoshis} SAT and receive ${this._amountAsk} Cashu Tokens</div>
            <div class="text-center mb-3">Expire in ${e} Seconds</div>`:oy``}
            <hr>
            <div class="mb-3">
                <label class="form-label">Balance</label>
                <div class="input-group mb-3">
                    <input type="number" class="form-control" value="${t}" disabled>
                    <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Options</button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="#" @click="${this._onReceiveClick}">Receive</a></li>
                        <li><a class="dropdown-item" href="#" @click="${this._onSendClick}">Send</a></li>
                    </ul>
                </div>
            </div>
            <div class="text-center mb-3">Sell ${i} USDct and receive ${this._amountSat} SAT</div>
            <button class="btn btn-danger w-100" @click="${this._onSellClick}" ?disabled="${i>=t}">Sell</button>
        </div>
        `};_renderForm=()=>{let t=0;return this._proofs.forEach(e=>t+=e.amount),oy`
        <form @submit="${this._onTradingFormSubmit}">
            <div class="row">
                <div class="col">
                    <div class="mb-3">
                        <label class="form-label">Buy USD Cashu Token</label>
                        <input type="number" class="form-control" name="amount-ask" min="1" value="${this._amountAsk}" ?disabled="${this._mintQuote}" required>
                    </div>
                </div>
                <div class="col">
                    <div class="mb-3">
                        <label class="form-label">Buy Satoshis</label>
                        <div class="input-group mb-3">
                            <input type="number" class="form-control" name="amount-sat" min="1000" value="${this._amountSat}" data-value="${this._amountSat}" ?disabled="${this._mintQuote}" required>
                            <span class="input-group-text">${t} USDct</span>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="mb-3">
                        <label class="form-label">Address</label>
                        <input type="email" class="form-control" name="lnaddress" value="" ?disabled="${this._mintQuote}" required>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    ${this._mintQuote?oy`<input type="submit" class="btn btn-danger w-100" value="Stop">`:oy`<input type="submit" class="btn btn-success w-100" value="Get Quotes">`}
                </div>
            </div>
        </form>
        `};_renderQuotesTable=()=>oy`
        <div class="table-responsive">
            <table class="table">
                <thead>
                    <tr>
                        <th>Time</th>
                        <th>Bid Price</th>
                        <th>Bid Amount</th>
                        <th>Bid Satoshis</th>
                        <th>Ask Price</th>
                        <th>Ask Amount</th>
                        <th>Ask Satoshis</th>
                    </tr>
                </thead>
                <tbody>
                    ${this._quotes.map(t=>oy`
                        <tr>
                            <td>${t.time}</td>
                            <td>${t.bidPrice}</td>
                            <td>${t.bidAmount}</td>
                            <td>${t.bidSatoshis}</td>
                            <td>${t.askPrice}</td>
                            <td>${t.askAmount}</td>
                            <td>${t.askSatoshis}</td>
                        </tr>
                        `)}
                </tbody>
            </table>
        </div>
        `;_renderTradesTable=()=>{let t=0,e=0;return this._tradesData.forEach(i=>{"SELL"===i.side?(t+=i.satoshis,e+=i.amount):(t-=i.satoshis,e-=i.amount)}),oy`
        <div class="row mb-3">
            <div class="col">
                <div class="alert alert-success text-center" role="alert">
                    Spend Satoshis: ${t} SAT
                </div>
            </div>
            <div class="col">
                <div class="alert alert-danger text-center" role="alert">
                    Earned tokens: ${e} USD
                </div>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table">
                <thead>
                    <tr>
                        <th>Time</th>
                        <th>Side</th>
                        <th>Satoshis</th>
                        <th>Amount</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>
                    ${this._tradesData.map(t=>oy`
                        <tr>
                            <td>${t.time}</td>
                            <td>${t.side}</td>
                            <td>${"SELL"===t.side?"-":"+"} ${t.satoshis}</td>
                            <td>${"SELL"===t.side?"+":"-"} ${t.amount}</td>
                            <td>${t.price}</td>
                        </tr>
                        `)}
                </tbody>
            </table>
        </div>
        `};createRenderRoot=()=>this;render=()=>oy`
        <div class="container mt-3">
            <div class="row mb-3">
                <div class="col-9">
                    <div class="card h-100">
                        <div class="card-header text-center">Chart</div>
                        <div class="card-body">
                            <div class="text-center">
                                <p>This is a test/demo application for playing and handling Satoshis and Cashu stable ecash tokens. Use it at your own risk.</p>
                                <hr>
                                <p>Trade <mark>bitcoin</mark> with <mark>cashu</mark>. 
                                For more information, visit <a href="https://stablechannels.com/" target="_blank">stablechannels.com</a> and <a href="https://cashu.network/" target="_blank">cashu.network</a>.</p>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col"><canvas></canvas></div>
                            </div>
                            <hr>
                            ${this._renderForm()}
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="card h-100">
                        <div class="card-header text-center">Trade</div>
                        <div class="card-body">
                            ${this._renderTrade()}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col">
                    <div class="card">
                        <div class="card-header">
                            <ul class="nav nav-pills card-header-pills">
                                <li class="nav-item">
                                    <button class="nav-link" @click="${()=>this._tradesView="trades"}">Trades</button>
                                </li>
                                <li class="nav-item">
                                    <button class="nav-link" @click="${()=>this._tradesView="quotes"}">Quotes</a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            ${"trades"===this._tradesView?this._renderTradesTable():this._renderQuotesTable()}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        `;firstUpdated=async()=>{let t=localStorage.getItem("_labels"),e=[];t&&(e=JSON.parse(t));let i=localStorage.getItem("_asks"),r=[];t&&(r=JSON.parse(i));let n=localStorage.getItem("_bids"),s=[];t&&(s=JSON.parse(n));let o=localStorage.getItem("_quotes");t&&(this._quotes=JSON.parse(o));let a=this.querySelector("canvas").getContext("2d");this._chart=new wV(a,{type:"line",data:{labels:e,datasets:[{label:"ASK",data:r,borderColor:"green",fill:!1},{label:"BID",data:s,borderColor:"red",fill:!1}]},options:{responsive:!0,scales:{x:{title:{display:!0,text:"Time"}},y:{title:{display:!0,text:"Price"}}}}}),await this._wallet.loadMint();let l=localStorage.getItem("_proofs");if(l){let t=JSON.parse(l);if(t.length){let e=hN({mint:this._mintUrl,proofs:t});this._proofs=await this._wallet.receive(e),localStorage.setItem("_proofs",JSON.stringify(this._proofs))}}let h=localStorage.getItem("_tradesData");h&&(this._tradesData=JSON.parse(h))};_onTradingFormSubmit=async t=>{if(t.preventDefault(),this._mintQuote)clearInterval(this._intervalId),this._intervalId=0,this._amountAsk=0,this._amountSat=0,this._lnaddress="",this._mintQuote=null,this._mintQuoteRequest=null,this._mintQuoteRequestDataUrl=null,this._meltQuote=null;else{let e=new FormData(t.target);this._amountAsk=Number.parseInt(e.get("amount-ask")),this._amountSat=Number.parseInt(e.get("amount-sat")),this._lnaddress=e.get("lnaddress"),await this._createQuotes(),this._intervalId=setInterval(this._checkQuotes,1e3)}};_createQuotes=async()=>{this._mintQuote=await this._wallet.createMintQuote(this._amountAsk),this._mintQuoteRequest=ft.decode(this._mintQuote.request),this._mintQuoteRequestDataUrl=await tw(g8).toDataURL(this._mintQuote.request);let t=this._lnaddress.split("@")[0],e=this._lnaddress.split("@")[1],i=await fetch(`https://${e}/.well-known/lnurlp/${t}`),r=await i.json(),n=this._amountSat?this._amountSat:this._mintQuoteRequest.satoshis,s=await fetch(`${r.callback}?amount=${1e3*n}`),o=await s.json();this._meltQuote=await this._wallet.createMeltQuote(o.pr);let a=this._meltQuote.amount+this._meltQuote.fee_reserve,l=1e8*this._amountAsk/(100*this._mintQuoteRequest.satoshis),h=1e8*a/(100*n);this._chart.data.labels=[...this._chart.data.labels,new Date().toLocaleTimeString()],this._chart.data.datasets[0].data=[...this._chart.data.datasets[0].data,h],this._chart.data.datasets[1].data=[...this._chart.data.datasets[1].data,l],this._quotes.unshift({time:new Date().toLocaleTimeString(),bidPrice:l.toFixed(2),bidAmount:this._amountAsk,bidSatoshis:this._mintQuoteRequest.satoshis,askPrice:h.toFixed(2),askAmount:a,askSatoshis:n}),localStorage.setItem("_labels",JSON.stringify(this._chart.data.labels)),localStorage.setItem("_asks",JSON.stringify(this._chart.data.datasets[0].data)),localStorage.setItem("_bids",JSON.stringify(this._chart.data.datasets[1].data)),localStorage.setItem("_quotes",JSON.stringify(this._quotes)),this._chart.update()};_checkQuotes=async()=>{this._mintQuoteRequest.timeExpireDate-Math.floor(Date.now()/1e3)<=0?(clearInterval(this._intervalId),this._mintQuote=await this._wallet.checkMintQuote(this._mintQuote.quote),this._mintQuoteRequest=ft.decode(this._mintQuote.request),this._mintQuoteRequestDataUrl=await tw(g8).toDataURL(this._mintQuote.request),this._mintQuote.state===hQ.PAID&&((await this._wallet.mintProofs(this._amountAsk,this._mintQuote.quote)).forEach(t=>this._proofs.push(t)),this._tradesData.unshift({time:new Date().toLocaleTimeString(),side:"SELL",satoshis:this._mintQuoteRequest.satoshis,amount:this._amountAsk,price:(1e8*this._amountAsk/(100*this._mintQuoteRequest.satoshis)).toFixed(2)}),localStorage.setItem("_proofs",JSON.stringify(this._proofs)),localStorage.setItem("_tradesData",JSON.stringify(this._tradesData))),await this._createQuotes(),this._intervalId=setInterval(this._checkQuotes,1e3)):this.requestUpdate()};_onReceiveClick=async t=>{t.preventDefault();let e=prompt("Token:");(await this._wallet.receive(e)).forEach(t=>this._proofs.push(t)),localStorage.setItem("_proofs",JSON.stringify(this._proofs)),this.requestUpdate()};_onSendClick=async t=>{t.preventDefault();let e=0;this._proofs.forEach(t=>e+=t.amount);let{keep:i,send:r}=await this._wallet.send(e,this._proofs,{includeFees:!0}),n=hN({mint:this._mintUrl,proofs:r});this._proofs=i,localStorage.setItem("_proofs",JSON.stringify(this._proofs)),prompt("Copy to clipboard: Ctrl+C, Enter",n),this.requestUpdate()};_onSellClick=async t=>{t.preventDefault();let e=0;this._proofs.forEach(t=>e+=t.amount);let i=this._meltQuote.amount+this._meltQuote.fee_reserve;if(e>i){let{keep:t,send:e}=await this._wallet.send(i,this._proofs,{includeFees:!0});this._proofs=t;let{change:r}=await this._wallet.meltProofs(this._meltQuote,e);this._proofs.push(...r);let n=this._amountSat?this._amountSat:this._mintQuoteRequest.satoshis;this._tradesData.unshift({time:new Date().toLocaleTimeString(),side:"BUY",satoshis:n,amount:i,price:(1e8*i/(100*n)).toFixed(2)}),localStorage.setItem("_proofs",JSON.stringify(this._proofs)),localStorage.setItem("_tradesData",JSON.stringify(this._tradesData)),this.requestUpdate()}else alert("Not enough to sell")}}),customElements.define("app-shell",class extends oN{static properties={_mintUrl:String,_mint:Object,_view:String,_proofs:Array,_walletSat:Object,_walletSatProofs:Array,_walletSatBalance:Number,_walletUsd:Object,_walletUsdProofs:Array,_walletSatTransactions:Array,_walletUsdTransactions:Array,_satMintQuote:Object,_satMeltQuote:Object,_usdMintQuote:Object,_usdMeltQuote:Object,_satMintQuoteAmount:Number,_usdMintQuoteAmount:Number,_satMintQuoteDecodedInvoice:Object,_satMeltQuoteDecodedInvoice:Object,_usdMintQuoteDecodedInvoice:Object,_usdMeltQuoteDecodedInvoice:Object,_satWalletProofs:Array,_usdWalletProofs:Array};constructor(){super(),this._mintUrl="https://stablenut.cashu.network",this._mint=new h6(this._mintUrl),this._proofs=[],this._walletSat=new h7(this._mint,{unit:"usd"}),this._walletSatProofs=[],this._walletSatBalance=0,this._walletUsd=new h7(this._mint,{unit:"usd"}),this._satMintQuote=null,this._satMeltQuote=null,this._usdMintQuote=null,this._usdMeltQuote=null,this._satMintQuoteAmount=5e3,this._usdMintQuoteAmount=100,this._satMintQuoteDecodedInvoice=null,this._satMeltQuoteDecodedInvoice=null,this._usdMintQuoteDecodedInvoice=null,this._usdMeltQuoteDecodedInvoice=null,this._walletSatTransactions=[],this._satWalletProofs=[],this._walletUsdTransactions=[],this._usdWalletProofs=[],this._view="price"}_renderNav=()=>{let t=0;return this._proofs.forEach(e=>t+=e.amount),oy`
        <nav class="navbar navbar-expand-lg bg-body-tertiary mb-3">
            <div class="container">
                <a class="navbar-brand" href="#">cashu ${t}</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="#" @click="${()=>this._view="mint"}">Mint</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" @click="${()=>this._view="melt"}">Melt</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" @click="${()=>this._view="send"}">Send</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" @click="${()=>this._view="receive"}">Receive</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" @click="${()=>this._view="price"}">Price</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>`};_renderView=()=>{switch(this._view){case"mint":return oy`<mint-view .wallet="${this._walletSat}" @mint="${this._onMint}"></mint-view>`;case"melt":return oy`<melt-view .wallet="${this._walletSat}" .proofs="${this._proofs}" @melt="${this._onMelt}"></melt-view>`;case"send":return oy`<send-view .wallet="${this._walletSat}" .proofs="${this._proofs}" .mintUrl="${this._mintUrl}" @send="${this._onSend}"></send-view>`;case"receive":return oy`<receive-view .wallet="${this._walletSat}" @receive="${this._onReceive}"></receive-view>`;case"price":return oy`<price-view .wallet="${this._walletSat}" .mintUrl="${this._mintUrl}"></receive-view>`;default:return oy`hello`}};_old=()=>oy`
        <div class="container py-4 px-3 mx-auto">
            <div class="row">
                <div class="col-6">
                    <div class="card">
                        <div class="card-header">SAT Wallet</div>
                        <div class="card-body">
                            <form>
                                <div class="mb-3">
                                    <label class="form-label">Balance</label>
                                    <input class="form-control" value="${this._walletSatBalance}" disabled>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Quote</label>
                                    <input class="form-control" value="${this._satMintQuote?.quote}" disabled>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Amount</label>
                                    <input class="form-control" value="${this._satMintQuoteAmount}" disabled>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Request</label>
                                    <input class="form-control" value="${this._satMintQuote?.request}" disabled>
                                    <div class="form-text">Pay ${this._satMintQuoteDecodedInvoice?.satoshis} SAT to mint ${this._satMintQuoteAmount} ecash</div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">State</label>
                                    <input class="form-control" value="${this._satMintQuote?.state}" disabled>
                                </div>
                            </form>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>satoshis</th>
                                            <th>satMintQuoteAmount</th>
                                            <th>state</th>
                                            <th>proofs</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${this._walletSatTransactions.map((t,e)=>oy`
                                            <tr>
                                                <th>${e+1}</th>
                                                <td>${t.satoshis}</td>
                                                <td>${t.satMintQuoteAmount}</td>
                                                <td>${t.state}</td>
                                                <td>${t.proofs}</td>
                                            </tr>
                                            `)}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <th>#</th>
                                        <th>Amount</th>
                                        <th>Token</th>
                                        <th></th>
                                    </thead>
                                    <tbody>
                                        ${this._satWalletProofs.map((t,e)=>oy`
                                        <tr>
                                            <th>${e+1}</th>
                                            <td>${t.amount}</td>
                                            <td>${t.token}</td>
                                            <td>
                                                <form @submit="${this._onMeltSatSubmit}">
                                                    <input type="submit" class="btn btn-danger" value="Melt">
                                                </form>
                                            </td>
                                        </tr>
                                            `)}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Id</th>
                                            <th>Amount</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${this._walletSatProofs.map((t,e)=>oy`
                                            <tr>
                                                <th>${e+e}</th>
                                                <td>${t.id}</td>
                                                <td>${t.amount}</td>
                                            </tr>
                                            `)}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    <div class="card">
                        <div class="card-header">USD Wallet</div>
                        <div class="card-body">
                            <form>
                                <div class="mb-3">
                                    <label class="form-label">Quote</label>
                                    <input class="form-control" value="${this._usdMintQuote?.quote}" disabled>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Amount</label>
                                    <input class="form-control" value="${this._usdMintQuoteAmount}" disabled>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Request</label>
                                    <input class="form-control" value="${this._usdMintQuote?.request}" disabled>
                                    <div class="form-text">Pay ${this._usdMintQuoteDecodedInvoice?.satoshis} SAT to mint ${this._usdMintQuoteAmount} ecash</div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">State</label>
                                    <input class="form-control" value="${this._usdMintQuote?.state}" disabled>
                                </div>
                            </form>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>satoshis</th>
                                            <th>satMintQuoteAmount</th>
                                            <th>state</th>
                                            <th>proofs</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${this._walletUsdTransactions.map((t,e)=>oy`
                                            <tr>
                                                <th>${e+1}</th>
                                                <td>${t.satoshis}</td>
                                                <td>${t.satMintQuoteAmount}</td>
                                                <td>${t.state}</td>
                                                <td>${t.proofs}</td>
                                            </tr>
                                            `)}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <th>#</th>
                                        <th>Amount</th>
                                        <th>Token</th>
                                    </thead>
                                    <tbody>
                                        ${this._usdWalletProofs.map((t,e)=>oy`
                                        <tr>
                                            <th>${e+1}</th>
                                            <td>${t.amount}</td>
                                            <td>${t.token}</td>
                                        </tr>
                                            `)}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        `;createRenderRoot(){return this}render=()=>oy`
        ${this._renderNav()}
        ${this._renderView()}
        `;_firstUpdated=async()=>{await this._walletSat.loadMint();let t=await fetch("https://walletofsatoshi.com/.well-known/lnurlp/slekrem"),e=await t.json();console.log(e);let i=`${e.callback}?amount=${e.minSendable}`,r=await fetch(i),n=await r.json();console.log("test3:",n);let s=await this._walletSat.createMeltQuote(n.pr),o=s.amount+s.fee_reserve;console.log("asd",s,o)};firstUpdated=async()=>{await this._walletSat.loadMint()};_firstUpdated=async()=>{await this._walletSat.loadMint(),await this._walletUsd.loadMint(),this._satMintQuote=await this._walletSat.createMintQuote(this._satMintQuoteAmount),this._usdMintQuote=await this._walletUsd.createMintQuote(this._usdMintQuoteAmount),this._satMintQuoteDecodedInvoice=ft.decode(this._satMintQuote.request),this._usdMintQuoteDecodedInvoice=ft.decode(this._usdMintQuote.request),this._walletSatTransactions=[...this._walletSatTransactions,{...this._satMintQuoteDecodedInvoice,satMintQuoteAmount:this._satMintQuoteAmount,state:this._satMintQuote.state}],this._walletUsdTransactions=[...this._walletUsdTransactions,{...this._usdMintQuoteDecodedInvoice,usdMintQuoteAmount:this._usdMintQuoteAmount,state:this._usdMintQuote.state}],setInterval(this._checkQuotes,1e4)};_checkQuotes=async()=>{if(this._satMintQuote?.quote&&(this._satMintQuote=await this._walletSat.checkMintQuote(this._satMintQuote.quote),this._satMintQuoteDecodedInvoice=ft.decode(this._satMintQuote.request),this._satMintQuote.state===hQ.PAID)){let t=await this._walletSat.mintProofs(this._satMintQuoteAmount,this._satMintQuote.quote);this._walletSatProofs=t,this._walletSatTransactions=[...this._walletSatTransactions,{...this._satMintQuoteDecodedInvoice,satMintQuoteAmount:this._satMintQuoteAmount,proofs:t,state:this._satMintQuote.state}];let e=hN({mint:this._mintUrl,proofs:t});this._satWalletProofs=[...this._satWalletProofs,{token:e,amount:this._satMintQuoteAmount}],this._satMintQuote=null,this._satMintQuoteAmount=0,this._satMintQuoteDecodedInvoice=null}if(this._satMeltQuote?.quote&&(this._satMeltQuote=await this._walletSat.checkMeltQuote(this._satMeltQuote.quote),console.log(this._satMeltQuote),this._satMeltQuote.state===hK.PAID&&(this._satMeltQuote=null,this._satMeltQuoteDecodedInvoice=null,console.log(this._walletSatProofs))),this._walletSatBalance=0,this._walletSatProofs.map(t=>this._walletSatBalance+=t.amount),this._usdMintQuote?.quote&&(this._usdMintQuote=await this._walletUsd.checkMintQuote(this._usdMintQuote.quote),this._usdMintQuoteDecodedInvoice=ft.decode(this._usdMintQuote.request),this._usdMintQuote.state==hQ.PAID)){let t=await this._walletUsd.mintProofs(this._usdMintQuoteAmount,this._usdMintQuote.quote);this._walletUsdTransactions=[...this._walletUsdTransactions,{...this._usdMintQuoteDecodedInvoice,usdMintQuoteAmount:this._usdMintQuoteAmount,proofs:t,state:this._usdMintQuote.state}];let e=hN({mint:this._mintUrl,proofs:t});this._usdWalletProofs=[...this._usdWalletProofs,{token:e,amount:this._usdMintQuoteAmount}],this._usdMintQuote=null,this._usdMintQuoteAmount=0,this._usdMintQuoteDecodedInvoice=null}};_onMeltSatSubmit=async t=>{t.preventDefault(),this._satMeltQuote=await this._walletSat.createMeltQuote("lnbc20u1p3u27nppp5pm074ffk6m42lvae8c6847z7xuvhyknwgkk7pzdce47grf2ksqwsdpv2phhwetjv4jzqcneypqyc6t8dp6xu6twva2xjuzzda6qcqzpgxqyz5vqsp5sw6n7cztudpl5m5jv3z6dtqpt2zhd3q6dwgftey9qxv09w82rgjq9qyyssqhtfl8wv7scwp5flqvmgjjh20nf6utvv5daw5h43h69yqfwjch7wnra3cn94qkscgewa33wvfh7guz76rzsfg9pwlk8mqd27wavf2udsq3yeuju");let e=this._satMeltQuote.amount+this._satMeltQuote.fee_reserve,{keep:i,send:r}=await this._walletSat.send(e,this._walletSatProofs,{includeFees:!0});this._walletSatProofs=i;let{change:n}=await this._walletSat.meltProofs(this._satMeltQuote,r);this._walletSatProofs.push(...n)};_onMint=t=>{t.preventDefault(),this._proofs.push(...t.detail),this.requestUpdate()};_onMelt=t=>{t.preventDefault(),this._proofs=t.detail,this.requestUpdate()};_onSend=t=>{t.preventDefault(),this._proofs=t.detail,this.requestUpdate()};_onReceive=t=>{t.preventDefault(),this._proofs.push(...t.detail),this.requestUpdate()}});
//# sourceMappingURL=cashu-poc.289a93b8.js.map
